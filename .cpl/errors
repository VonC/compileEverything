Notes:
* to follow the most recent log, tail --follow=name logs/last (with a gnu tail at least)
* export PS4='+${BASH_SOURCE}:${LINENO}: ' ; bash -x make_env.sh will display line numbers
* git filter-branch --env-filter 'if [ $GIT_AUTHOR_EMAIL = vonc@laposte.com ]; then GIT_AUTHOR_EMAIL=vonc@laposte.net; fi; export GIT_AUTHOR_EMAIL' HEAD~4..HEAD
-----------
$ ldd iconv.exe | grep -v -E "ntdll|kernel|sxwmon32.dll|GDI32.dll|ADVAPI32.dll|RPCRT4.dll|Secur32.dll|SHELL32.dll|msvcrt.dll|SHLWAPI.dll|USER32.dll|ole32.dll|I
MM32.DLL|LPK.DLL|USP10.dll|comctl32.dll|comctl32.dll|cygwin1.dll|ADVAPI32.DLL|cygintl-8.dll"
        cygiconv-2.dll => /home/ausername/envs/20110805/usr/local/libs/libiconv-1.13.1/bin/cygiconv-2.dll (0x674c0000)
        cygintl-8.dll => /usr/bin/cygintl-8.dll (0x6f5c0000)
-----------
tic: symbol lookup error: tic: undefined symbol: _nc_check_termtype2
userapp@ubvonc:~/apps/test/usr/local/lib$ nm -Ap *.so*|grep nc_check_termtype2
libncurses.so.5.7:0003f32c D _nc_check_termtype2
USERAPP@UBVONC:~/APps/test/usr/local/lib$ env|grep LD
LDFLAGS=-L/home/userapp/apps/test/usr/local/lib -L/home/userapp/apps/test/usr/local/ssl/lib -R/home/userapp/apps/test/usr/local/ssl/lib -R/home/userapp/apps/test/usr/local/lib/sasl2
OLDPWD=/home/userapp/apps/test/usr/local
LD_LIBRARY_PATH=/home/userapp/apps/test/usr/local/lib:/home/userapp/apps/test/usr/local/ssl/lib:/home/userapp/apps/test/usr/local/apps/svn/lib
userapp@ubvonc:~/apps/test/usr/local/lib$ cd ../libs/ncurses-5.7/lib/
userapp@ubvonc:~/apps/test/usr/local/libs/ncurses-5.7/lib$ nm -Ap *.so*|grep nc_check_termtype2
libcurses.so:0003f32c D _nc_check_termtype2
libncurses.so:0003f32c D _nc_check_termtype2
libncurses.so.5:0003f32c D _nc_check_termtype2
libncurses.so.5.7:0003f32c D _nc_check_termtype2

userapp@ubvonc:~/apps/test/usr/local/libs/ncurses-5.7/bin$ ldd tic
  linux-gate.so.1 =>  (0x006d8000)
  libncurses.so.5 => /lib/libncurses.so.5 (0x00a64000)
  libc.so.6 => /lib/i386-linux-gnu/libc.so.6 (0x0050f000)
  libdl.so.2 => /lib/i386-linux-gnu/libdl.so.2 (0x002eb000)
  /lib/ld-linux.so.2 (0x00373000)

http://invisible-island.net/ncurses/ncurses.faq.html#big_terminfo: (not needed)
tic -s -1 -I -e 'ansi, ansi-m, color_xterm, ecma+color, klone+acs, klone+color, klone+sgr, klone+sgr-dumb, linux, pcansi-m, rxvt, vt52, vt100, vt102, vt220, xterm' terminfo.src > t

userapp@ubvonc:~/apps/test/usr/local/share/terminfo already there after compilation/installation of ncurses

------
/bin/sh ../../gcc/mkconfig.sh tconfig.h
/home/userapp/apps/tests/src/gcc-3.4.6/objdir/gcc/xgcc -B/home/userapp/apps/tests/src/gcc-3.4.6/objdir/gcc/ -B/home/userapp/apps/tests/usr/local/apps/gcc-3.4.6/i686-pc-linux-gnu/bin/ -B/home/userapp/apps/tests/usr/local/apps/gcc-3.4.6/i686-pc-linux-gnu/lib/ -isystem /home/userapp/apps/tests/usr/local/apps/gcc-3.4.6/i686-pc-linux-gnu/include -isystem /home/userapp/apps/tests/usr/local/apps/gcc-3.4.6/i686-pc-linux-gnu/sys-include -O2 -DIN_GCC    -W -Wall -Wwrite-strings -Wstrict-prototypes -Wmissing-prototypes -Wold-style-definition  -isystem ./include  -I. -I. -I../../gcc -I../../gcc/. -I../../gcc/../include   -g0 -finhibit-size-directive -fno-inline-functions -fno-exceptions -fno-zero-initialized-in-bss -fno-unit-at-a-time -fno-omit-frame-pointer \
   -c ../../gcc/crtstuff.c -DCRT_BEGIN \
  -o crtbegin.o
In file included from /usr/include/bits/errno.h:25,
                 from /usr/include/errno.h:36,
                 from ../../gcc/tsystem.h:85,
                 from ../../gcc/crtstuff.c:62:
/usr/include/linux/errno.h:4:23: asm/errno.h: No such file or directory
make[1]: *** [crtbegin.o] Error 1
make[1]: Leaving directory `/home/userapp/apps/tests/src/gcc-3.4.6/objdir/gcc'
make: *** [all-gcc] Error 2

=> add linux-api-headers or gcc-multilib
------
cyrus-sasl

creating libsasl2.la
(cd .libs && rm -f libsasl2.la && ln -s ../libsasl2.la libsasl2.la)
ln -s ../plugins/sasldb.c  ../plugins/cram.c ../plugins/plain.c ../plugins/anonymous.c .
adding static plugins and dependencies
ar cru .libs/libsasl2.a sasldb.o db_gdbm.o allockey.o cram.o plain.o anonymous.o
ar: sasldb.o: No such file or directory
make[2]: *** [libsasl2.a] Error 1
make[2]: Leaving directory `/home/userapp/apps/test/src/cyrus-sasl-2.1.21/lib'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/home/userapp/apps/test/src/cyrus-sasl-2.1.21'
make: *** [all] Error 2

Must copy plugins/*.o and sasldb/*.o in lib for compil to progress
 822  ln -s . include
  823  l
  824  h
userapp@ubvonc:~/apps/test/usr/local/ssl/include/openssl$

=> compile ok
-----------
For now, installing a JDK is a pre-requisite, but:
https://svn.java.net/svn/hudson~svn/trunk/experiments/jdk-download/src/main/java/test/App.java

package test;

import org.apache.commons.io.IOUtils;
import org.apache.commons.io.output.NullWriter;
import org.dom4j.Document;
import org.dom4j.Element;
import org.dom4j.io.DOMReader;
import org.w3c.tidy.Tidy;

import java.io.PrintStream;
import java.io.PrintWriter;
import java.net.HttpURLConnection;
import java.net.URL;
import java.net.URLEncoder;
import java.util.List;
import java.util.logging.Logger;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

/**
 * Can we download JDK without using HtmlUnit?
 *
 */
public class App {
    public static void main(String[] args) throws Exception {
        URL url = new URL("https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jdk-6u13-oth-JPR@CDS-CDS_Developer");


        HttpURLConnection con = (HttpURLConnection) url.openConnection();
        String cookie = con.getHeaderField("Set-Cookie");
        LOGGER.info("Cookie="+cookie);

        Tidy tidy = new Tidy();
        tidy.setErrout(new PrintWriter(new NullWriter()));
        DOMReader domReader = new DOMReader();
        Document dom = domReader.read(tidy.parseDOM(con.getInputStream(), null));

        Element form=null;
        for (Element e : (List<Element>)dom.selectNodes("//form")) {
            String action = e.attributeValue("action");
            LOGGER.info("Found form:"+action);
            if(action.contains("ViewFilteredProducts")) {
                form = e;
                break;
            }
        }

        con = (HttpURLConnection) new URL(form.attributeValue("action")).openConnection();
        con.setRequestMethod("POST");
        con.setDoOutput(true);
        con.setRequestProperty("Cookie",cookie);
        con.setRequestProperty("Content-Type","application/x-www-form-urlencoded");
        PrintStream os = new PrintStream(con.getOutputStream());

        // select platform
        Element p = (Element)form.selectSingleNode(".//select[@id='dnld_platform']");
        os.print(p.attributeValue("name")+"=Linux");

        // select language
        Element l = (Element)form.selectSingleNode(".//select[@id='dnld_language']");
        os.print("&"+l.attributeValue("name")+"="+l.element("option").attributeValue("value"));

        // the rest
        for (Element e : (List<Element>)form.selectNodes(".//input")) {
            os.print('&');
            os.print(e.attributeValue("name"));
            os.print('=');
            String value = e.attributeValue("value");
            if(value==null)
                os.print("on"); // assume this is a checkbox
            else
                os.print(URLEncoder.encode(value,"UTF-8"));
        }
        os.close();

        Pattern HREF = Pattern.compile("a href=\"([^\"]+)\"");
        Matcher m = HREF.matcher(IOUtils.toString(con.getInputStream()));
        // this page contains a missing --> that confuses dom4j/jtidy

        while(m.find()) {
            String link = m.group(1);
            if(link.contains("VerifyItem-Start"))
                System.out.println(link);
        }
    }

    private static final Logger LOGGER = Logger.getLogger(App.class.getName());
}
-------------
git:
/home/userapp/envs/201107/usr/local/apps/perl/bin/perl Makefile.PL PREFIX='/home/userapp/envs/201107/usr/local/apps/git-1.7.5.4' INSTALL_BASE=''
Perl lib version (5.12.2) doesn't match executable version (v5.12.3) at /home/userapp/usr/local/perl5.12.2/lib/5.12.2/sun4-solaris/Config.pm line 50.
Compilation failed in require at /home/userapp/usr/local/perl5.12.2/lib/5.12.2/ExtUtils/MakeMaker/Config.pm line 7.
BEGIN failed--compilation aborted at /home/userapp/usr/local/perl5.12.2/lib/5.12.2/ExtUtils/MakeMaker/Config.pm line 7.
Compilation failed in require at /home/userapp/usr/local/perl5.12.2/lib/5.12.2/ExtUtils/MakeMaker.pm line 9.
BEGIN failed--compilation aborted at /home/userapp/usr/local/perl5.12.2/lib/5.12.2/ExtUtils/MakeMaker.pm line 9.
Compilation failed in require at Makefile.PL line 1.
BEGIN failed--compilation aborted at Makefile.PL line 1.
gmake[1]: *** [perl.mak] Error 255
gmake: *** [perl/perl.mak] Error 2

=> means PERL5LIB wasn't set
visible with 'perl -V' (uppercase V, not -v)
--------------
bash-3.00$ git config --system -l
fatal: unable to read config file '/home/userapp/envs/201107/usr/local/var/gitconfig': No such file or directory
bash-3.00$ git config --global -l
alia.lg=log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%ar) %C(bold blue)<%an>%Creset' --abbrev-commit --date=relative
alias.st=status
alias.br=branch
http.sslcainfo=/myserver/home/userapp/ssl/curl-ca-bundle.crt
color.ui=true
core.autocrlf=false
bash-3.00$ git config --local -l
core.repositoryformatversion=0
core.filemode=true
core.bare=false
core.logallrefupdates=true
remote.origin.fetch=+refs/heads/*:refs/remotes/origin/*
remote.origin.url=https://github.com/VonC/compileEverything
branch.master.remote=origin
branch.master.merge=refs/heads/master
user.name=VonC
user.email=vonc@laposte.net
github.user=VonC
github.token=123myToken456
------------------
See http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=627335
Connection #0 seems to be dead!
export GIT_CURL_VERBOSE=1
export GIT_TRACE_PACKET=1
----------
certificate gihub
see ssl certificate
http://askubuntu.com/questions/23680/problems-with-certificate-with-wget-and-github-lately
openssl s_client -showcerts -connect github.com:443
-------------
ncurses unix
/home/userapp/envs/201107b/bin/g++  -o demo ../obj_s/demo.o -L../lib -lncurses++ -L../lib -lform -lmenu -lpanel -lncurses    -L/home/userapp/envs/201107b/usr/local/lib -L/home/userapp/envs/201107b/usr/local/ssl/lib -L/home/userapp/envs/201107b/usr/local/apps/python/lib -Wl,-rpath,/home/userapp/envs/201107b/src/ncurses-5.7/lib  -I../c++ -I../include -I. -DHAVE_CONFIG_H -I. -I../include -I/home/userapp/envs/201107b/usr/local/include -I/home/userapp/envs/201107b/usr/local/ssl/include -fPIC -O -U_FORTIFY_SOURCE -m64 -D_GNU_SOURCE -DNDEBUG -I/home/userapp/envs/201107b/usr/local/libs/ncurses-5.7/include -g -O2  -fPIC
/myserver/home/userapp/envs/201107b/usr/local/apps/gcc-3.4.6/bin/../lib/gcc/x86_64-unknown-linux-gnu/3.4.6/../../../../lib64/libstdc++.so: undefined reference to `libintl_textdomain'
/myserver/home/userapp/envs/201107b/usr/local/apps/gcc-3.4.6/bin/../lib/gcc/x86_64-unknown-linux-gnu/3.4.6/../../../../lib64/libstdc++.so: undefined reference to `libintl_bindtextdomain'
collect2: ld returned 1 exit status
make[1]: *** [demo] Error 1
make[1]: Leaving directory `/myserver/home/userapp/envs/201107b/src/ncurses-5.7/c++'
make: *** [all] Error 2
=> add -lintl to the Makefile

---------------------
Refactoring:
bash-3.00$ grep "\${H}/src" *
gen_sed -i 's/\${H}\/src/\${H}\/.cpl\/src/g' xxx
---------------------
pcre:
/bin/sh ./libtool --tag=CXX   --mode=link g++  -O2  -L/home/userapp/envs/201107c/usr/local/lib -L/home/userapp/envs/201107c/usr/local/ssl/lib -L/home/userapp/envs/201107c/usr/local/apps/python/lib -o pcrecpp_unittest pcrecpp_unittest.o libpcrecpp.la
libtool: link: g++ -O2 -o .libs/pcrecpp_unittest pcrecpp_unittest.o  -L/home/userapp/envs/201107c/usr/local/lib -L/home/userapp/envs/201107c/usr/local/ssl/lib -L/home/userapp/envs/201107c/usr/local/apps/python/lib ./.libs/libpcrecpp.so -L/home/userapp/envs/201107c/.cpl/src/gcc-3.4.6/objdir/x86_64-unknown-linux-gnu/libstdc++-v3/src -L/home/userapp/envs/201107c/.cpl/src/gcc-3.4.6/objdir/x86_64-unknown-linux-gnu/libstdc++-v3/src/.libs -L/home/userapp/envs/201107c/.cpl/src/gcc-3.4.6/objdir/gcc /home/userapp/envs/201107c/.cpl/src/pcre-8.12/.libs/libpcre.so /home/userapp/envs/201107c/usr/local/apps/gcc-3.4.6/lib/../lib64/libstdc++.so -L/lib/../lib64 -L/usr/lib/../lib64 -lm -lc -lgcc_s -Wl,-rpath -Wl,/home/userapp/envs/201107c/usr/local/libs/pcre-8.12/lib -Wl,-rpath -Wl,/home/userapp/envs/201107c/usr/local/apps/gcc-3.4.6/lib/../lib64
/home/userapp/envs/201107c/usr/local/apps/gcc-3.4.6/lib/../lib64/libstdc++.so: undefined reference to `libintl_textdomain'
/home/userapp/envs/201107c/usr/local/apps/gcc-3.4.6/lib/../lib64/libstdc++.so: undefined reference to `libintl_bindtextdomain'
collect2: ld returned 1 exit status
make[1]: *** [pcrecpp_unittest] Error 1
make[1]: Leaving directory `/myserver/home/userapp/envs/201107c/.cpl/src/pcre-8.12'
-------------
pcre on Solaris:
/bin/bash ./libtool --tag=CXX   --mode=link g++  -O2  -lintl -L/home/userapp/compileEverything/usr/local/lib -L/home/userapp/compileEverything/usr/local/ssl/lib -L/home/userapp/compileEverything/usr/local/apps/python/lib -o pcrecpp_unittest pcrecpp_unittest.o libpcrecpp.la
libtool: link: g++ -O2 -o .libs/pcrecpp_unittest pcrecpp_unittest.o  -L/home/userapp/compileEverything/usr/local/lib -L/home/userapp/compileEverything/usr/local/ssl/lib -L/home/userapp/compileEverything/usr/local/apps/python/lib ./.libs/libpcrecpp.so -L/myserver/svndata/users/userapp/compileEverything/.cpl/src/gcc-3.4.6/objdir/sparc-sun-solaris2.10/libstdc++-v3/src -L/myserver/svndata/users/userapp/compileEverything/.cpl/src/gcc-3.4.6/objdir/sparc-sun-solaris2.10/libstdc++-v3/src/.libs -L/myserver/svndata/users/userapp/compileEverything/.cpl/src/gcc-3.4.6/objdir/gcc /home/userapp/compileEverything/.cpl/src/pcre-8.12/.libs/libpcre.so /home/userapp/compileEverything/usr/local/libs/gettext-0.14.1/lib/libintl.so /home/userapp/compileEverything/usr/local/libs/libiconv-1.13.1/lib/libiconv.so -lc /home/userapp/compileEverything/usr/local/apps/gcc-3.4.6/lib/libstdc++.so -L/usr/ccs/bin -L/usr/ccs/lib -lm -lgcc_s -Wl,-R -Wl,/home/userapp/compileEverything/usr/local/libs/pcre-8.12/lib -Wl,-R -Wl,/home/userapp/compileEverything/usr/local/libs/gettext-0.14.1/lib -Wl,-R -Wl,/home/userapp/compileEverything/usr/local/libs/libiconv-1.13.1/lib -Wl,-R -Wl,/home/userapp/compileEverything/usr/local/apps/gcc-3.4.6/lib
ld: fatal: recording name conflict: file `/home/userapp/compileEverything/usr/local/apps/gcc-3.4.6/lib/libstdc++.so' and file `/myserver/svndata/user
s/userapp/compileEverything/.cpl/src/gcc-3.4.6/objdir/sparc-sun-solaris2.10/libstdc++-v3/src/.libs/libstdc++.so' provide identical dependency names: lib
stdc++.so.6  (possible multiple inclusion of the same file)
ld: fatal: File processing errors. No output written to .libs/pcrecpp_unittest
collect2: ld returned 1 exit status
make[1]: *** [pcrecpp_unittest] Error 1
make[1]: Leaving directory `/myserver/svndata/users/userapp/compileEverything/.cpl/src/pcre-8.12'

http://unixerrors.blogspot.com/2007/11/mysql-5_16.html

http://unixerrors.blogspot.com/2007/11/mysql-5_16.htmlThis is a really odd error. To fix it, i had to cd in to the directory from which i compiled gcc (AS you can see in my error message, its opt/install/gcc-3.4.4/), and went in to the directory specififed by the error
Once in there, i just did a
[kmorriso@moo]> mv libstdc++.so libstdc++.so.bak
No idea what the deal with this one was, or why it was looking in my src dir for library files. That directory wasn't in my ld_library_path.
-------------
nginx:
checking for libxslt in /opt/local/ ... not found

./configure: error: the HTTP XSLT module requires the libxml2/libxslt
libraries. You can either do not enable the module or install the libraries.
=> replace all /usr/local and /usr/include and /usr/local/include by full local path to usr/local
---------
libgcrypt
gcc -I/home/userapp/compileEverything/usr/local/libs/libgpgerror-1.10/include -I/home/userapp/compileEverything/usr/local/include -I/home/userapp/compileEverything/usr/local/ssl/include -fPIC -O -U_FORTIFY_SOURCE -Wall -o .libs/ac ac.o  -L/home/userapp/compileEverything/usr/local/lib -L/home/userapp/compileEverything/usr/local/ssl/lib -L/home/userapp/compileEverything/usr/local/apps/python/lib ../src/.libs/libgcrypt.so -L/home/userapp/compileEverything/usr/local/libs/libgpgerror-1.10/lib /home/userapp/compileEverything/usr/local/libs/libgpgerror-1.10/lib/libgpg-error.so /home/userapp/compileEverything/usr/local/libs/gettext-0.14.1/lib/libintl.so /home/userapp/compileEverything/usr/local/libs/libiconv-1.13.1/lib/libiconv.so -lc -lnsl -lsocket -R/home/userapp/compileEverything/usr/local/libs/libgcrypt-1.2.4/lib -R/home/userapp/compileEverything/usr/local/libs/libgpgerror-1.10/lib -R/home/msvprd02/compileEverything/usr/local/libs/gettext-0.14.1/lib -R/home/userapp/compileEverything/usr/local/libs/libiconv-1.13.1/lib
Undefined                       first referenced
 symbol                             in file
gcry_ac_data_verify                 ac.o
gcry_ac_open                        ac.o
gcry_ac_key_init                    ac.o
gcry_ac_data_encrypt                ac.o
gcry_ac_data_decrypt                ac.o
gcry_ac_data_destroy                ac.o
gcry_ac_close                       ac.o
gcry_ac_key_data_get                ac.o
gcry_ac_key_pair_generate           ac.o
gcry_ac_key_pair_extract            ac.o
gcry_ac_data_sign                   ac.o
gcry_ac_data_copy                   ac.o
gcry_ac_data_get_index              ac.o
ld: fatal: Symbol referencing errors. No output written to .libs/ac
collect2: ld returned 1 exit status
make[2]: *** [ac] Error 1
make[2]: Leaving directory `/myserver/svndata/users/userapp/compileEverything/.cpl/src/libgcrypt-1.2.4/tests'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/myserver/svndata/users/userapp/compileEverything/.cpl/src/libgcrypt-1.2.4'

I have the same problem on solaris 2.6, I think it is about the linker or
libtool. On Solaris with non-gnu linker, libtool generate this command for
the shared library:

It seems that the linker can not extract all symbols from libcipher.a
because "allextract" does not work fine at all, I solved the problem with
the gnu linker, just rename the path of the non-gnu linker so gcc or cc
will take the gnu-linker commonly installed in /usr/local/bin. With gnu
linker the command looks like this :

--whole-archive instead allextract

===> add  ../cipher/.libs/ac.o to the LDD options of the test/Makefile
CCLD = $(CC) ../cipher/.libs/ac.o
--------------
libxslt on Solaris

Undefined                       first referenced
 symbol                             in file
_fini
/usr/local/lib/gcc/sparc-sun-solaris2.10/3.4.6/crti.o  (symbol has no
version assigned)
_init
/usr/local/lib/gcc/sparc-sun-solaris2.10/3.4.6/crti.o  (symbol has no
version assigned)
xsltPointerListFree                 ./libxslt.syms
xsltCopyTree                        .libs/transform.o  (symbol has no
version assigned)



http://comments.gmane.org/gmane.comp.gnome.lib.xslt/4060
libxslt:

VERSION_SCRIPT_FLAGS=
$(/usr/bin/ld --help 2>&1 | grep -- --version-script >/dev/null) && \
    VERSION_SCRIPT_FLAGS=-Wl,--version-script=
test "`uname`" == "SunOS" && \
    VERSION_SCRIPT_FLAGS=""
#    VERSION_SCRIPT_FLAGS="-Wl,-M -Wl,"

--------------
nginx on Solaris:

gcc -c -I/home/userapp/compileEverything/usr/local/include -I/home/userapp/compileEverything/usr/local/ssl/include -fPIC -O -U_FORTIFY_SOURCE -I/home/m
svprd02/compileEverything/usr/local/include -I/home/userapp/compileEverything/usr/local/ssl/include -I src/core -I src/event -I src/event/modules -I src
/os/unix -I /home/userapp/compileEverything/usr/local/include/libxml2 -I objs -o objs/src/core/ngx_file.o src/core/ngx_file.c
/usr/ccs/bin/as: "/var/tmp//cckhXLrn.s", line 438: error: cannot use v8plus instructions in a non-v8plus target binary
make[1]: *** [objs/src/core/ngx_file.o] Error 1
make[1]: Leaving directory `/myserver/svndata/users/userapp/compileEverything/.cpl/src/nginx-1.0.5'

-------------
libiconv on cygwin make:

case "cygwin" in \
          hpux*) gcc -L/home/ausername/envs/20110805/usr/local/lib -L/home/ausername/envs/20110805/usr/local/ssl/lib -L/home/ausername/envs/20110805/usr/local/apps/python/lib -I/home/ausername/envs/20110805/usr/local/include -I/home/ausername/envs/20110805/usr/local/ssl/include -fPIC -O -U_FORTIFY_SOURCE `if test -n ''; then  /home/ausername/envs/20110805/usr/local/libs/libiconv-1.13.1/bin; fi` iconv.o ../srclib/libicrt.a -L/home/ausername/envs/20110805/usr/local/libs/libiconv-1.13.1/lib -liconv -lintl iconv.res `if test -n ''; then echo " -Wl,+b -Wl,/home/ausername/envs/20110805/usr/local/libs/libiconv-1.13.1/lib"; fi` -o iconv.exe;; \
          *) /bin/sh ../libtool --mode=link gcc -L/home/ausername/envs/20110805/usr/local/lib -L/home/ausername/envs/20110805/usr/local/ssl/lib -L/home/ausername/envs/20110805/usr/local/apps/python/lib -I/home/ausername/envs/20110805/usr/local/include -I/home/ausername/envs/20110805/usr/local/ssl/include -fPIC -O -U_FORTIFY_SOURCE `if test -n ''; then  /home/ausername/envs/20110805/usr/local/libs/libiconv-1.13.1/bin; fi` iconv.o ../srclib/libicrt.a /home/ausername/envs/20110805/usr/local/libs/libiconv-1.13.1/lib/libiconv.la -lintl iconv.res -o iconv.exe;; \
        esac
libtool: link: cannot find the library `/usr/lib/libiconv.la' or unhandled argument `/usr/lib/libiconv.la'
make[1]: *** [install] Error 1
make[1]: Leaving directory `/home/ausername/envs/20110805/.cpl/src/libiconv-1.13.1/src'

=> modify libtool to explicitely reference  /home/ausername/envs/20110805/usr/local/libs/libiconv-1.13.1/lib/libiconv.la
-------------
gettext on cygwin during initial configure phase:

configure: configuring in autoconf-lib-link
configure: running /bin/sh './configure' --prefix=/home/ausername/envs/20110805/usr/local/libs/gettext-0.14.1  '--prefix=/home/ausername/envs/20110805/usr/local/libs/gettext-0.14.1' '--enable-shared' '--enable-static' '--with-libiconv-prefix=/home/ausername/envs/20110805/usr/local' '--with-libexpat-prefix=/home/ausername/envs/20110805/usr/local' 'CFLAGS=-I/home/ausername/envs/20110805/usr/local/include -I/home/ausername/envs/20110805/usr/local/ssl/include -fPIC -O -U_FORTIFY_SOURCE' 'CPPFLAGS=-I/home/ausername/envs/20110805/usr/local/include -I/home/ausername/envs/20110805/usr/local/ssl/include -fPIC -O -U_FORTIFY_SOURCE' 'LDFLAGS=-L/home/ausername/envs/20110805/usr/local/lib -L/home/ausername/envs/20110805/usr/local/ssl/lib -L/home/ausername/envs/20110805/usr/local/apps/python/li
b' --cache-file=/dev/null --srcdir=.
checking for a BSD-compatible install... /bin/install -c
checking whether build environment is sane... yes
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking for gcc... gcc
checking for C compiler default output file name... configure: error: C compiler cannot create executables
See `config.log' for more details.
configure: error: /bin/sh './configure' failed for autoconf-lib-link

$ cygcheck `gcc -print-prog-name=gcc`
Found: C:\prog\cygwin\bin\gcc.exe
Found: C:\prog\cygwin\bin\gcc.exe
 -> C:\prog\cygwin\etc\alternatives\gcc
  -> C:\prog\cygwin\bin\gcc-3.exe
  C:\prog\cygwin\bin\gcc-3.exe
    C:\prog\cygwin\bin\cygwin1.dll
        C:\WINDOWS\system32\ADVAPI32.DLL
        C:\WINDOWS\system32\KERNEL32.dll
                C:\WINDOWS\system32\ntdll.dll
                C:\WINDOWS\system32\RPCRT4.dll
                  C:\WINDOWS\system32\Secur32.dll
              C:\prog\cygwin\bin\cygintl-8.dll
                  C:\prog\cygwin\home\ausername\envs\20110805\usr\local\bin\cygiconv-2.dllcygcheck: C:\prog\cygwin\home\ausername\envs\20110805\usr\local\bin\cygiconv-2.dll is a symlink instead of a DLL

See http://www.mail-archive.com/cygwin@cygwin.com/msg107619.html
The problem is that the Windows DLL loader doesn't know about symlinks, nor about Windows shortcuts.
If at all, it might understand native NTFS symlinks starting with Windows Vista.
But as long as we don't become super-rich and purchase Windows from Microsoft, it won't understand Cygwin symlinks.
------------
gettext on cygwin during make install
couple of:
/bin/install -c .libs/libgettextpo.dll.aT /home/ausername/envs/20110813/usr/local/libs/gettext-0.14.1/lib/libgettextpo.dll.a
/bin/install: cannot stat `.libs/libgettextpo.dll.aT': No such file or directory
make[4]: *** [install-libLTLIBRARIES] Error 1
make[4]: Leaving directory `/home/ausername/envs/20110813/.cpl/src/gettext-0.14.1/gettext-tools/src'

------------
gcc configure on cygwin:

make[1]: Entering directory `/home/ausername/envs/20110805/.cpl/src/gcc-3.4.6/objdir/libiberty'
if [ x"" != x ]; then \
      gcc -c -DHAVE_CONFIG_H -I/home/ausername/envs/20110805/usr/local/include -I/home/ausername/envs/20110805/usr/local/ssl/include -fPIC -O -U_FORTIFY_SOURCE -I
      . -I../../libiberty/../include  -W -Wall -Wtraditional -pedantic  ../../libiberty/fibheap.c -o pic/fibheap.o; \
      else true; fi
    gcc -c -DHAVE_CONFIG_H -I/home/ausername/envs/20110805/usr/local/include -I/home/ausername/envs/20110805/usr/local/ssl/include -fPIC -O -U_FORTIFY_SOURCE -I.
    -I../../libiberty/../include  -W -Wall -Wtraditional -pedantic ../../libiberty/fibheap.c -o fibheap.o
    ../../libiberty/fibheap.c:1: warning: -fPIC ignored for target (all code is position independent)
    ../../libiberty/fibheap.c: In function `fibheap_union':
    ../../libiberty/fibheap.c:166: warning: implicit declaration of function `free'
    ../../libiberty/fibheap.c: In function `fibheap_delete_node':
    ../../libiberty/fibheap.c:285: error: `LONG_MIN' undeclared (first use in this function)
    ../../libiberty/fibheap.c:285: error: (Each undeclared identifier is reported only once
    ../../libiberty/fibheap.c:285: error: for each function it appears in.)
    ../../libiberty/fibheap.c: In function `fibheap_consolidate':
    ../../libiberty/fibheap.c:395: warning: implicit declaration of function `memset'
    make[1]: *** [fibheap.o] Error 1
    make[1]: Leaving directory `/home/ausername/envs/20110805/.cpl/src/gcc-3.4.6/objdir/libiberty'
    make: *** [all-libiberty] Error 2

http://gcc.gnu.org/bugzilla/show_bug.cgi?id=13334

Note that using non-standard @code{CFLAGS} can cause bootstrap to fail in
+@file{libiberty}, if these trigger a warning with the new compiler.  For
+example using @samp{-O2 -g -mcpu=i686} on @code{i686-pc-linux-gnu} will
+cause bootstrap failure as @code{-mcpu=} is deprecated in 3.4.0 and above

=> remove any option on CFLAG, and configure will pass on cygwin BUT CHECK NEXT ERROR FIRST
--------------
/home/ausername/envs/20110805/.cpl/src/gcc-3.4.6/objdir/gcc/xgcc -B/home/ausernale/envs/20110805/.cpl/src/gcc-3.4.6/objdir/gcc/ -B/home/ausername/envs/20110805/usr/local/apps/gcc-3.4.6/i686-pc-cygwin/bin/ -B/home/ausername/envs/20110805/usr/local/apps/gcc-3.4.6/i686-pc-cygwin/lib/ -isystem /home/ausername/envs/20110805/usr/local/apps/gcc-3.4.6/i686-pc-cygwin/include -isystem /home/ausername/envs/20110805/usr/local/apps/gcc-3.4.6/i686-pc-cygwin/sys-include -c -DHAVE_CONFIG_H -O2 -I/home/ausername/envs/20110805/usr/local/include -I/home/ausername/envs/20110805/usr/local/ssl/include -I. -I../../../libiberty/../include -W -Wall -Wtraditional -pedantic ../../../libiberty/strsignal.c -o strsignal.o
../../../libiberty/strsignal.c:414: error: conflicting types for 'strsignal'
/usr/include/string.h:93: error: previous declaration of 'strsignal' was here
../../../libiberty/strsignal.c:414: error: conflicting types for 'strsignal'
/usr/include/string.h:93: error: previous declaration of 'strsignal' was here
../../../libiberty/strsignal.c: In function `psignal':
../../../libiberty/strsignal.c:568: warning: comparison between signed and unsigned
make[1]: *** [strsignal.o] Error 1
make[1]: Leaving directory `/home/ausername/envs/20110805/.cpl/src/gcc-3.4.6/objdir/i686-pc-cygwin/libiberty'

http://gcc.gnu.org/bugzilla/show_bug.cgi?id=38903

This happens because libiberty configure has a hard-coded hack that kicks in
when building libiberty as a target library, which causes strsignal (and a
couple of others) to be removed from the list of functions for configure to
check against the system libraries, causing the libiberty versions to be built
when they aren't needed.  (They used to be required; formerly, Cygwin pulled in
the object files from libiberty when linking the DLL, but this was fixed some
time ago and the hack has been obsolete since then).  I am testing a patch to
remove the hack.

=> remove cygwin section in libiberty/configure.ac and libiberty/configure
http://gcc.gnu.org/bugzilla/attachment.cgi?id=17131&action=diff

Check if adding -DHAVE_STRSIGNAL to CFLAGS is enough to avoid this issue and the previous one
------------
zlib make install on cygwin

cp libz.a /home/ausername/envs/20110805/usr/local/libs/zlib-1.2.5/lib
cp  /home/ausername/envs/20110805/usr/local/libs/zlib-1.2.5/lib
cp: missing destination file operand after `/home/ausername/envs/20110805/usr/local/libs/zlib-1.2.5/lib'
Try `cp --help' for more information.
make: *** [install-libs] Error 1

http://en.gentoo-wiki.com/wiki/Prefix/Cygwin#zlib:_missing_destination

Alternatively: Set a condition for the critical line in Makefile.in and stay with the static lib.

 if test "$(SHAREDLIBV)"; then cp $(SHAREDLIBV) $(DESTDIR)$(sharedlibdir); fi

-----------
db on cygwin make

Creating library file: .libs/libdb_tcl-4.7.dll.a
.libs/tcl_compat.o:tcl_compat.c:(.text+0x3f): undefined reference to `_Tcl_GetIndexFromObj'
.libs/tcl_compat.o:tcl_compat.c:(.text+0x5b): undefined reference to `_Tcl_GetStringFromObj'
...
.libs/tcl_db.o:tcl_db.c:(.text+0x41): undefined reference to `_Tcl_DeleteCommand'
.libs/tcl_db.o:tcl_db.c:(.text+0x69): undefined reference to `_Tcl_DeleteCommand'
...
.libs/tcl_db_pkg.o:tcl_db_pkg.c:(.text+0x47): undefined reference to `_Tcl_PkgProvide'
.libs/tcl_db_pkg.o:tcl_db_pkg.c:(.text+0xa0): undefined reference to `_Tcl_CreateObjCommand'
...
.libs/tcl_dbcursor.o:tcl_dbcursor.c:(.text+0xd): undefined reference to `_Tcl_ResetResult'
.libs/tcl_dbcursor.o:tcl_dbcursor.c:(.text+0x50): undefined reference to `_Tcl_WrongNumArgs'
...
.libs/tcl_env.o:tcl_env.c:(.text+0x10): undefined reference to `_Tcl_ResetResult'
.libs/tcl_env.o:tcl_env.c:(.text+0x71): undefined reference to `_Tcl_WrongNumArgs'
...
.libs/tcl_env.o:tcl_env.c:(.text+0x4ba9): undefined reference to `_Tcl_SetObjResult'
.libs/tcl_env.o:tcl_env.c:(.text+0x4cb6): undefined reference to `_Tcl_SetResult'
...
.libs/tcl_internal.o:tcl_internal.c:(.text+0x50): undefined reference to `_Tcl_SetResult'
.libs/tcl_internal.o:tcl_internal.c:(.text+0xa4): undefined reference to `_Tcl_SetResult'
...
.libs/tcl_lock.o:tcl_lock.c:(.text+0x1cae): undefined reference to `_Tcl_SetResult'
.libs/tcl_lock.o:tcl_lock.c:(.text+0x1d71): undefined reference to `_Tcl_CreateObjCommand'
...
.libs/tcl_log.o:tcl_log.c:(.text+0x61): undefined reference to `_Tcl_GetIndexFromObj'
.libs/tcl_log.o:tcl_log.c:(.text+0x85): undefined reference to `_Tcl_GetStringFromObj'
...
.libs/tcl_mp.o:tcl_mp.c:(.text+0x21bc): undefined reference to `_Tcl_NewIntObj'
.libs/tcl_mp.o:tcl_mp.c:(.text+0x21d1): undefined reference to `_Tcl_SetObjResult'
...
.libs/tcl_rep.o:tcl_rep.c:(.text+0x22): undefined reference to `_Tcl_ListObjGetElements'
.libs/tcl_rep.o:tcl_rep.c:(.text+0x7a): undefined reference to `_Tcl_GetIndexFromObj'
...
.libs/tcl_seq.o:tcl_seq.c:(.text+0x1067): undefined reference to `_Tcl_NewStringObj'
.libs/tcl_seq.o:tcl_seq.c:(.text+0x1082): undefined reference to `_Tcl_SetObjResult'
...
.libs/tcl_txn.o:tcl_txn.c:(.text+0x53): undefined reference to `_Tcl_DeleteCommand'
.libs/tcl_txn.o:tcl_txn.c:(.text+0xdb): undefined reference to `_Tcl_GetIndexFromObj'
...
.libs/tcl_util.o:tcl_util.c:(.text+0x3f): undefined reference to `_Tcl_GetIndexFromObj'
.libs/tcl_util.o:tcl_util.c:(.text+0x5b): undefined reference to `_Tcl_GetStringFromObj'
...

tcl_compat.o undefined reference
add -ltcl8.5 to Makefile
Make sure there is no link on dll, potentially on .a in usr/local/lib

-----------

:%s/abadusername/ausername/g

-----------

texinfo on cygwin on make:

mv -f .deps/makedoc.Tpo .deps/makedoc.Po
gcc  -I/home/ausername/envs/20110805/usr/local/include -I/home/ausername/envs/20110805/usr/local/ssl/include -DHAVE_STRSIGNAL  -L/home/ausername/envs/20110805/usr/local/lib -L/home/ausername/envs/20110805/usr/local/ssl/lib -L/home/ausername/envs/20110805/usr/local/apps/python/lib -o makedoc.exe makedoc.o ../lib/libtxi.a ../gnulib/lib/libgnu.a -lncurses /home/ausername/envs/20110805/usr/local/lib/libintl.dll.a /home/ausername/envs/20110805/usr/local/lib/libiconv.dll.a -L/home/ausername/envs/20110805/usr/local/lib
rm -f doc.c key.c funs.h
..//info/makedoc ./session.c ./echo-area.c ./infodoc.c ./m-x.c ./indices.c ./nodemenu.c ./footnotes.c ./variables.c
make[2]: *** [funs.h] Error 127
mae[2]: Leaving directory `/home/ausername/envs/20110805/.cpl/src/texinfo-4.13/info'
make[1]: *** [all-recursive] Error 1

http://www.linuxquestions.org/questions/linux-from-scratch-13/texinfo-make-problems-638014/
http://www.mail-archive.com/lfs-support@linuxfromscratch.org/msg04469.html
Probably linked to an error loading ncurses, perhaps because .a are linked instead of copied.
Change the make_env.sh

Actually works with cygintl-3.dll from C:\prog\cygwin\bin
=> copy it from /usr/bin to repo/bin

-----------
perl no tinycore during make install:

make[1]: Leaving directory `/home/tc/compileEverything/.cpl/src/perl-5.12.3/ext/DynaLoader'
rm -f libperl.a
/home/tc/compileEverything/usr/local/bin/ar rcu libperl.a op.o perl.o   gv.o toke.o perly.o pad.o regcomp.o dump.o util.o mg.o reentr.o mro.o hv.o av.o run.o pp_hot.o sv.o pp.o scope.o pp_ctl.o pp_sys.o doop.o doio.o regexec.o utf8.o taint.o deb.o universal.o globals.o perlio.o perlapi.o numeric.o mathoms.o locale.o pp_pack.o pp_sort.o   DynaLoader.o
make: /home/tc/compileEverything/usr/local/bin/ar: Command not found
make: *** [libperl.a] Error 127

-------------
curl on configure on Tinycore:
checking run-time libs availability... failed
configure: error: one or more libs available at link-time are not available run-time. Libs used at link-time: -lidn -lssh2 anhostname -lrt anhostname -ldl -lz   -lz -lssh2
onfigure:24001: ./conftest
./conftest: error while loading shared libraries: libssl.so.1.0.0: cannot open shared object file: No such file or directory
configure:24001: $? = 127
configure: program exited with status 127
configure: failed program was:
| /* confdefs.h */
Proable because of using LD_LIBRARY_PATH: bad => use LD_RUN_PATH.
http://www.eyrie.org/~eagle/notes/rpath.html
LD_LIBRARY_PATH is broken and should not be used if at all possible. It's broken because it overrides the search paths for all binaries that you run using it, not just the one that you care about, and it doesn't add easily to other competing settings of LD_LIBRARY_PATH. It has a tendency to cause odd breakage, and it's best to only use it with commercial applications like Oracle where there's no other choice (and then to set it only in a wrapper around a particular application, and never in your general shell environment).
Encoding rpath in applications

ELF binaries (used by Solaris and Linux) can contain in the binary supplemental paths for shared libraries. (Shared libraries can also contain their own supplemental paths for finding other shared libraries, but that's not as commonly used.) This path is searched before the system default paths (but is overridden by LD_LIBRARY_PATH, if set).

This path must be encoded at compile time and after that doesn't change. The advantage of this approach over the LD_LIBRARY_PATH approach, apart from the other problems caused by LD_LIBRARY_PATH, is that the work is born by the person building the software rather than the person running it. That means the work of configuring library paths only has to be done once, by a fairly clued person, rather than by every user who may or may not understand the issues.

There are two basic ways of telling a compiler to encode a search path in the binary (called an rpath):

Set the environment variable LD_RUN_PATH to the search path (colon-separated) you want to encode. You don't need to include the system default search directories (and indeed should not, since you may interfere with future changes in how the native library searching algorithm works). This environment variable will be picked up by the compiler when it links the binary.

Add -R /usr/local/lib (or whatever path) to the link command line. You can repeat this flag multiple times with different paths, similar to -L. Its order in the command line doesn't matter.

Either can be used, so normally I use LD_RUN_PATH since it's less intrusive. However, note that if there are any -R flags on the command line, the LD_RUN_PATH setting will be ignored. This means that if the normal build process of the software adds -R flags, you'll need to get it to add your -R flags as well (unless it helpfully includes a -R flag for the installation directory, which it sometimes does). If the software package uses Autoconf, generally the easiest way to do this is to set LDFLAGS to "-R /usr/local/lib" (or whatever directory) before running configure, which will then stick it into the Makefile. Failing that, I'll sometimes do something like:

    make CC="gcc -R /usr/local/lib"
to build the software, which generally does the right thing.

Note that software that uses libtool to link its libraries and to link against libraries will more frequently do the right thing and encode rpath properly when it builds the final binaries, but not always. Thankfully libtool also understands the -R flag and does the right thing when it's provided.

Checking the binaries

To verify that a binary is doing the right thing, use the command ldd on the binary. This will list all of the libraries and either where they came from (if found) or something like "(not found)" if the library wasn't found. On Mac OS X, use otool -L.

Solaris has the very useful -s option to ldd that will additionally show the full library search path, so you can confirm that you encoded the right rpath in the binary.

A partial equivalent under Linux is:

    readelf -d <binary> | grep RPATH
but note that this only shows the rpath for a particular binary (executable or library). If a shared library depends on other shared libraries, those shared libraries may be searched for using the rpath of the shared library that is loading them. To make sure that the search path is correct on Linux, you may need to use the above readelf command on the binary and all libraries other than system libraries that it uses. readelf comes with binutils, so if you're compiling software you will probably already have it installed.

Changing the rpath

On Linux, a utility called patchelf is available that can modify or remove the rpath or add one if one was not already present. This utility replaces the older chrpath utility, which appears to no longer be maintained.

patchelf won't compile on Solaris out of the box. For it, you may still need chrpath. The maintainer's FTP site used to be at ftp://ftp.hungry.com/pub/hungry/chrpath/ but has been unreachable for some time. At this point, the best source is probably the Debian package.
-------------
gcc make install on cygwin

for file in ./i686-pc-cygwin/bits/stdc++.h.gch/*; do \
  /bin/install -c -m 644 $file /home/ausername/envs/20110813/usr/local/apps/gcc-3.4.6/include/c++/3.4.6/./i686-pc-cygwin/bits/stdc++.h.gch; done
/bin/install: cannot stat `./i686-pc-cygwin/bits/stdc++.h.gch/*': No such file or directory
make[3]: *** [install-pch] Error 1
make[3]: Leaving directory `/home/ausername/envs/20110813/.cpl/src/gcc-3.4.6/objdir/i686-pc-cygwin/libstdc++-v3/include'
make[2]: *** [install-am] Error 2

Because of make
# Build a precompiled C++ include, stdc++.h.gch.
${pch_input}: ${allstamped} ${host_builddir}/c++config.h ${pch_source}
  touch ${pch_input}; \
  if [ ! -d "${pch_output_builddir}" ]; then \
    mkdir -p ${pch_output_builddir}; \
  fi; \
  $(CXX) $(PCHFLAGS) $(AM_CPPFLAGS) ${pch_source} -O0 -g -o ${pch_output_builddir}/O0g; \
  $(CXX) $(PCHFLAGS) $(AM_CPPFLAGS) ${pch_source} -O2 -g -o ${pch_output_builddir}/O2g;

if [ ! -d "./i686-pc-cygwin/bits/stdc++.h.gch" ]; then \
  mkdir -p ./i686-pc-cygwin/bits/stdc++.h.gch; \
fi; \
/home/ausername/envs/20110813/.cpl/src/gcc-3.4.6/objdir/gcc/xgcc -shared-libgcc -B/home/ausername/envs/20110813/.cpl/src/gcc-3.4.6/objdir/gcc/ -nostdinc++ -L/home/ausername/envs/20110813/.cpl/src/gcc-3.4.6/objdir/i686-pc-cygwin/libstdc++-v3/src -L/home/ausername/envs/20110813/.cpl/src/gcc-3.4.6/objdir/i686-pc-cygwin/libstdc++-v3/src/.libs -B/home/ausername/envs/20110813/usr/local/apps/gcc-3.4.6/i686-pc-cygwin/bin/ -B/home/ausername/envs/20110813/usr/local/apps/gcc-3.4.6/i686-pc-cygwin/lib/ -isystem /home/ausername/envs/20110813/usr/local/apps/gcc-3.4.6/i686-pc-cygwin/include -isystem /home/ausername/envs/20110813/usr/local/apps/gcc-3.4.6/i686-pc-cygwin/sys-include -Winvalid-pch -Wno-deprecated -x c++-header -g -O2 -I/home/ausername/envs/20110813/.cpl/src/gcc-3.4.6/objdir/i686-pc-cygwin/libstdc++-v3/include/i686-pc-cygwin -I/home/ausername/envs/20110813/.cpl/src/gcc-3.4.6/objdir/i686-pc-cygwin/libstdc++-v3/include -I/home/ausername/envs/20110813/.cpl/src/gcc-3.4.6/libstdc++-v3/libsupc++ /home/ausername/envs/20110813/.cpl/src/gcc-3.4.6/libstdc++-v3/include/stdc++.h -O0 -g -o ./i686-pc-cygwin/bits/stdc++.h.gch/O0g; \
/home/ausername/envs/20110813/.cpl/src/gcc-3.4.6/objdir/gcc/xgcc -shared-libgcc -B/home/ausername/envs/20110813/.cpl/src/gcc-3.4.6/objdir/gcc/ -nostdinc++ -L/home/ausername/envs/20110813/.cpl/src/gcc-3.4.6/objdir/i686-pc-cygwin/libstdc++-v3/src -L/home/ausername/envs/20110813/.cpl/src/gcc-3.4.6/objdir/i686-pc-cygwin/libstdc++-v3/src/.libs -B/home/ausername/envs/20110813/usr/local/apps/gcc-3.4.6/i686-pc-cygwin/bin/ -B/home/ausername/envs/20110813/usr/local/apps/gcc-3.4.6/i686-pc-cygwin/lib/ -isystem /home/ausername/envs/20110813/usr/local/apps/gcc-3.4.6/i686-pc-cygwin/include -isystem /home/ausername/envs/20110813/usr/local/apps/gcc-3.4.6/i686-pc-cygwin/sys-include -Winvalid-pch -Wno-deprecated -x c++-header -g -O2 -I/home/ausername/envs/20110813/.cpl/src/gcc-3.4.6/objdir/i686-pc-cygwin/libstdc++-v3/include/i686-pc-cygwin -I/home/ausername/envs/20110813/.cpl/src/gcc-3.4.6/objdir/i686-pc-cygwin/libstdc++-v3/include -I/home/ausername/envs/20110813/.cpl/src/gcc-3.4.6/libstdc++-v3/libsupc++ /home/ausername/envs/20110813/.cpl/src/gcc-3.4.6/libstdc++-v3/include/stdc++.h -O2 -g -o ./i686-pc-cygwin/bits/stdc++.h.gch/O2g;
/home/ausername/envs/20110813/.cpl/src/gcc-3.4.6/libstdc++-v3/include/stdc++.h:82: internal compiler error: Segmentation fault
Please submit a full bug report,
with preprocessed source if appropriate.
See <URL:http://gcc.gnu.org/bugs.html> for instructions.
/home/ausername/envs/20110813/.cpl/src/gcc-3.4.6/libstdc++-v3/include/stdc++.h:82: internal compiler error: Segmentation fault
Please submit a full bug report,
with preprocessed source if appropriate.
See <URL:http://gcc.gnu.org/bugs.html> for instructions.
make[1]: *** [i686-pc-cygwin/bits/stdc++.h] Error 1
make[1]: Leaving directory `/home/ausername/envs/20110813/.cpl/src/gcc-3.4.6/objdir/i686-pc-cygwin/libstdc++-v3/include'

=> add --disable-libstdcxx-pch for now
-----------
perl in tinycore for make
/bin/sh: /home/tc/compileEverything/usr/local/bin/ln: not found
./miniperl -Ilib autodoc.pl
/home/tc/compileEverything/usr/local/bin/ln -s perl5123delta.pod pod/perldelta.pod
make: /home/tc/compileEverything/usr/local/bin/ln: Command not found
make: *** [pod/perldelta.pod] Error 127
=>
premake=gen_sed -i '\''s/^LNS =  .*$/LNS = ln -s/g'\'' "$H/.cpl/src/@@NAMEVER@@/Makefile"
(make sure ln is used as ln on the path, not an hypothetic local ln)

/home/tc/compileEverything/usr/local/bin/ar rcu libperl.a op.o perl.o   gv.o toke.o perly.o pad.o regcomp.o dump.o util.o mg.o reentr.o mro.o hv.o av.o run.o pp_hot.o sv.o pp.o scope.o pp_ctl.o pp_sys.o doop.o doio.o regexec.o utf8.o taint.o deb.o universal.o globals.o perlio.o perlapi.o numeric.o mathoms.o locale.o pp_pack.o pp_sort.o   DynaLoader.o
make: /home/tc/compileEverything/usr/local/bin/ar: Command not found
make: *** [libperl.a] Error 127
Same deal
premake=gen_sed -i '\''s/^LNS =  .*$/LNS = ln -s/g'\'' "$H/.cpl/src/@@NAMEVER@@/Makefile" ; gen_sed -i '\''s/^AR =  .*$/AR = ar/g'\'' "$H/.cpl/src/@@NAMEVER@@/Makefile"
-------------
TODO TOCHECK:
tc@box:~/compileEverything/usr/local/bin$ ldd sqlite3
        linux-gate.so.1 =>  (0xb770f000)
        libsqlite3.so.0 => /home/tc/compileEverything/usr/local/libs/sqlite-3.7.2/lib/libsqlite3.so.0 (0xb768d000)
        libreadline.so.5 => not found
        libncurses.so.5 => /usr/local/lib/libncurses.so.5 (0xb7673000)
        libdl.so.2 => /lib/libdl.so.2 (0xb766e000)
        libpthread.so.0 => /lib/libpthread.so.0 (0xb7656000)
        libc.so.6 => /lib/libc.so.6 (0xb7513000)
        libtinfo.so.5 => /usr/local/lib/libtinfo.so.5 (0xb74f1000)
        /lib/ld-linux.so.2 (0xb7710000)

Why: libreadline.so.5 => not found
Is it in sqlite3 config/compil (-R which would cancel any LD_RUN_PATH idrective) ?
Is is in readline itself?

ldd httpd
        libdl.so.2 => /lib/libdl.so.2 (0xb7431000)
        libc.so.6 => /lib/libc.so.6 (0xb72ee000)
        /lib/ld-linux.so.2 (0xb76f5000)
        libdb-4.7.so => not found
        libssl.so.1.0.0 => not found
        libcrypto.so.1.0.0 => not found



-------------
openldap on Tinycore when make
make[3]: Entering directory `/home/tc/compileEverything/.cpl/src/openldap-2.4.24/doc/man/man1'
PAGES=`cd .; echo *.1`; \
for page in $PAGES; do \
  sed -e "s%LDVERSION%2.4.24%" \
    -e 's%ETCDIR%/home/tc/compileEverything/usr/local/libs/openldap-2.4.24/etc/openldap%g' \
    -e 's%LOCALSTATEDIR%/home/tc/compileEverything/usr/local/libs/openldap-2.4.24/var%' \
    -e 's%SYSCONFDIR%/home/tc/compileEverything/usr/local/libs/openldap-2.4.24/etc/openldap%' \
    -e 's%DATADIR%/home/tc/compileEverything/usr/local/libs/openldap-2.4.24/share/openldap%' \
    -e 's%SBINDIR%/home/tc/compileEverything/usr/local/libs/openldap-2.4.24/sbin%' \
    -e 's%BINDIR%/home/tc/compileEverything/usr/local/libs/openldap-2.4.24/bin%' \
    -e 's%LIBDIR%/home/tc/compileEverything/usr/local/libs/openldap-2.4.24/lib%' \
    -e 's%LIBEXECDIR%/home/tc/compileEverything/usr/local/libs/openldap-2.4.24/libexec%' \
    -e 's%MODULEDIR%/home/tc/compileEverything/usr/local/libs/openldap-2.4.24/libexec/openldap%' \
    -e 's%RELEASEDATE%2011/02/10%' \
      ./$page \
    | (cd .; soelim -) > $page.tmp; \
done
/bin/sh: soelim: not found
/bin/sh: soelim: not found
/bin/sh: soelim: not found
/bin/sh: soelim: not found
/bin/sh: soelim: not found
/bin/sh: soelim: not found
/bin/sh: soelim: not found
/bin/sh: soelim: not found
/bin/sh: soelim: not found
make[3]: *** [all-common] Error 127
make[3]: Leaving directory `/home/tc/compileEverything/.cpl/src/openldap-2.4.24/doc/man/man1'
make[2]: *** [all-common] Error 1
make[2]: Leaving directory `/home/tc/compileEverything/.cpl/src/openldap-2.4.24/doc/man'
make[1]: *** [all-common] Error 1
make[1]: Leaving directory `/home/tc/compileEverything/.cpl/src/openldap-2.4.24/doc'
make: *** [all-common] Error 1


http://www.emreakkas.com/linux-tips/ubuntu-solve-bin-sh-soelim-not-found
This error is caused by missing or corrupt soelim which interprets .so requests in groff input and is necessary for OpenLDAP to compile.

Installing the groff package will solve this problem
---------
JDK
http://www.oracle.com/technetwork/java/javase/downloads/index.html
(?ms)Java SE \d(?: Update \d+)?<.*?href="(/technetwork[^"]+)"><img
=> for instance for JDK7: http://www.oracle.com/technetwork/java/javase/downloads/java-se-jdk-7-download-432154.html
Windows x64", "size":"80.25 MB", "filepath":"http://download.oracle.com/otn-pub/java/jdk/7/jdk-7-windows-x64.exe"
Windows x64.*filepath":"([^"]+)"

JDK7:
Linux x86 - Compressed Binary
Linux x64 - Compressed Binary
Solaris x86 - Compressed Binary
Solaris SPARC - Compressed Binary
Solaris SPARC 64-bit
Solaris x64
Windows x86
Windows x64

JDK6:
 Linux x86 - RPM Installer  76.93 MB    jdk-6u26-linux-i586-rpm.bin
 Linux x86 - Self Extracting Installer  81.20 MB    jdk-6u26-linux-i586.bin
 Solaris x86 - Self Extracting Binary 81.08 MB    jdk-6u26-solaris-i586.sh
 Solaris SPARC - Self Extracting Binary 86.05 MB    jdk-6u26-solaris-sparc.sh
 Solaris SPARC 64-bit - Self Extracting Binary  12.24 MB    jdk-6u26-solaris-sparcv9.sh
 Solaris x64 - Self Extracting Binary 8.50 MB   jdk-6u26-solaris-x64.sh
Windows x86
Windows Intel Itanium
Windows x64
-------------
ausername@ahostname ~/envs/20110805/usr/local/bin
$ ldd tclsh8.5.exe | grep -v -E "ntdll|kernel|sxwmon32.dll|GDI32.dll|ADVAPI32.dll|RPCRT4.dll|Secur32.dll|SHELL32.dll|msvcrt.dll|SHLWAPI.dll|USER32.dll|ole32.dl
l|IMM32.DLL|LPK.DLL|USP10.dll|comctl32.dll|comctl32.dll|cygwin1.dll|ADVAPI32.DLL|cygintl-8.dll"
        libtcl8.5.dll => not found
-------------
Ubuntu make git
Manifying blib/man3/Git.3
    SUBDIR git_remote_helpers
gmake[1]: /home/userapp/compileEverything/usr/local/apps/python/bin/python: Command not found
gmake[1]: *** [all] Error 127
gmake: *** [all] Error 2

=> The mkdir  usr/local/apps/python/lib at the beginning prevents the creation of the symbolic link python
add a post make install tp the python params
---------------
Ubuntu: ruby svn2git install gem
ERROR:  Loading command: install (LoadError)
    no such file to load -- zlib
ERROR:  While executing gem ... (NameError)
    uninitialized constant Gem::Commands::InstallCommand

Extension ext/zlib wasn't compiled: need '--with-ext' option alone (compile all extensions)
---------------
Tinycore configure subversion
checking for Apache module support via DSO through APXS... /home/tc/compileEverything/usr/local/apps/httpd-2.2.19/bin/httpd: error while loading shared libraries: libssl.so.1.0.0: cannot open shared object file: No such file or directory
apxs:Error: Sorry, no shared object support for Apache.
apxs:Error: available under your platform. Make sure.
apxs:Error: the Apache module mod_so is compiled into.
apxs:Error: your server binary `/home/tc/compileEverything/usr/local/apps/httpd-2.2.19/bin/httpd'..
configure: error: no - APXS refers to an old version of Apache
                     Unable to locate /mod_dav.h
Should be:
found at usr/local/apache2/bin/apxs, but no => recompile Apache2
---------------
Cygwin gdbm make install
/bin/install -c -m 644 -o ausername -g Domain Users gdbm.h \
  /home/ausername/envs/20110805/usr/local/libs/gdbm-1.8.3/include/gdbm.h
/bin/install: target `/home/ausername/envs/20110805/usr/local/libs/gdbm-1.8.3/include/gdbm.h' is not a directory
make: *** [install] Error 1
---------------
Cygwin cyrus-sasl make:
gcc -Wall -W -I/home/ausername/envs/20110805/usr/local/include -I/home/ausername/envs/20110805/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL -L/home/ausername/envs/20110805/usr/local/ssl/lib -Wl,-rpath,/home/ausername/envs/20110805/usr/local/ssl/lib -L/home/ausername/envs/20110805/usr/local/lib -L/home/ausername/envs/20110805/usr/local/ssl/lib -L/home/ausername/envs/20110805/usr/local/apps/python/lib -Wl,-rpath=/home/ausername/envs/20110805/usr/local/lib:/home/ausername/envs/20110805/usr/local/ssl/lib:/home/ausername/envs/20110805/usr/local/apps/svn/lib:/home/ausername/envs/20110805/usr/local/apps/python/lib:/home/ausername/envs/20110805/usr/local/apps/gcc/lib -L/home/ausername/envs/20110805/usr/local/ssl/include/openssl/lib -o dbconverter-2.exe dbconverter-2.o ../sasldb/.libs/libsasldb.a -lresolv ../lib/.libs/libsasl2.a -ldl -lresolv -lcrypto -lcrypt -ldb -ldb -lresolv
make[2]: *** No rule to make target `saslpasswd2', needed by `all-am'.  Stop.
make[2]: Leaving directory `/home/ausername/envs/20110805/.cpl/src/cyrus-sasl-2.1.21/utils'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/home/ausername/envs/20110805/.cpl/src/cyrus-sasl-2.1.21'
make: *** [all] Error 2
$(EXEEXT), which isn't empty on Cygwin, is missing on sasldblistusers2 and saslpasswd2 => rewrite utils/Makefile in premake
~~~~~~~~~~~~~
Cygwin: libssh2 1.2.4 older than 1.2.7 which is missing on Solaris, and blocked on libssh2.org
libtool: link: gcc -I/home/ausername/envs/20110805/usr/local/include -I/home/ausername/envs/20110805/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL -DLIBSSH2_WIN32 -Wl,-rpath=/home/ausername/envs/20110805/usr/local/lib:/home/ausername/envs/20110805/usr/local/ssl/lib:/home/ausername/envs/20110805/usr/local/apps/svn/lib:/home/ausername/envs/20110805/usr/local/apps/python/lib:/home/ausername/envs/20110805/usr/local/apps/gcc/lib -o .libs/direct_tcpip.exe direct_tcpip.o  /home/ausername/envs/20110805/usr/local/libs/cyrus-sasl-2.1.21/lib/libsasl2.a -L/home/ausername/envs/20110805/usr/local/ssl/lib -L/home/ausername/envs/20110805/usr/local/lib -L/home/ausername/envs/20110805/usr/local/apps/python/lib -L/home/ausername/envs/20110805/usr/local/ssl/include/openssl/lib -ldl -lresolv ../src/.libs/libssh2.a anhostname -lz
direct_tcpip.o:direct_tcpip.c:(.text+0x19e): undefined reference to `__imp__libssh2_session_init_ex'
direct_tcpip.o:direct_tcpip.c:(.text+0x1f3): undefined reference to `__imp__libssh2_session_startup'
direct_tcpip.o:direct_tcpip.c:(.text+0x236): undefined reference to `__imp__libssh2_hostkey_hash'
direct_tcpip.o:direct_tcpip.c:(.text+0x2db): undefined reference to `__imp__libssh2_userauth_list'
direct_tcpip.o:direct_tcpip.c:(.text+0x3e4): undefined reference to `__imp__libssh2_userauth_password_ex'
direct_tcpip.o:direct_tcpip.c:(.text+0x471): undefined reference to `__imp__libssh2_userauth_publickey_fromfile_ex'
direct_tcpip.o:direct_tcpip.c:(.text+0x68e): undefined reference to `__imp__libssh2_channel_direct_tcpip_ex'
direct_tcpip.o:direct_tcpip.c:(.text+0x7a2): undefined reference to `__imp__libssh2_session_set_blocking'
direct_tcpip.o:direct_tcpip.c:(.text+0x8ca): undefined reference to `__imp__libssh2_channel_write_ex'
direct_tcpip.o:direct_tcpip.c:(.text+0x910): undefined reference to `__imp__libssh2_channel_read_ex'
direct_tcpip.o:direct_tcpip.c:(.text+0x972): undefined reference to `__imp__libssh2_channel_eof'
direct_tcpip.o:direct_tcpip.c:(.text+0x9cc): undefined reference to `__imp__libssh2_channel_free'
direct_tcpip.o:direct_tcpip.c:(.text+0x9f3): undefined reference to `__imp__libssh2_session_disconnect_ex'
direct_tcpip.o:direct_tcpip.c:(.text+0xa02): undefined reference to `__imp__libssh2_session_free'
collect2: ld returned 1 exit status
make[2]: *** [direct_tcpip.exe] Error 1
make[2]: Leaving directory `/home/ausername/envs/20110805/.cpl/src/libssh2-1.2.4/example'
make[1]: *** [all] Error 2
make[1]: Leaving directory `/home/ausername/envs/20110805/.cpl/src/libssh2-1.2.4/example'
make: *** [all-recursive] Error 1

Will have to try make VERBOSE=1
Note C:\prog\cygwin\home\ausername\envs\20110805\.cpl\src\libssh2-1.2.9\src\.libs\libssh2.la is a link to libssh2.lai. Not supported with Cygwin?
http://itk-insight-users.2283740.n2.nabble.com/link-error-when-learning-Getting-Started-with-ITK-VTK-td3897136.html

None of the sources in example works properly... =>
empty noinst_PROGRAMS
noinst_PROGRAMS = scp$(EXEEXT) \
  scp_nonblock$(EXEEXT) scp_write$(EXEEXT) \
  scp_write_nonblock$(EXEEXT) sftp$(EXEEXT) \
  sftp_nonblock$(EXEEXT) sftp_write$(EXEEXT) \
  sftp_write_nonblock$(EXEEXT) sftp_mkdir$(EXEEXT) \
  sftp_mkdir_nonblock$(EXEEXT) sftp_RW_nonblock$(EXEEXT) \
  sftpdir$(EXEEXT) sftpdir_nonblock$(EXEEXT) ssh2_exec$(EXEEXT) \
  ssh2_agent$(EXEEXT) ssh2_echo$(EXEEXT) sftp_append$(EXEEXT) \
  subsystem_netconf$(EXEEXT)

ausername@anhostname ~/envs/20110805/.cpl/src/libssh2-1.2.4/example
$ nm -Ap ../src/.libs/libssh2.a|grep init_ex
../src/.libs/libssh2.a:session.o:00000517 T _libssh2_session_init_ex

    ----

With libssh2-1.2.9

<     unsigned __int64 ns100; /*time since 1 Jan 1601 in 100ns units */
---
>     unsigned long long ns100; /*time since 1 Jan 1601 in 100ns units */

libtool: compile:  gcc -DHAVE_CONFIG_H -I../include -I../src -I/home/ausername/envs/20110805/usr/local/include -I/home/ausername/envs/20110805/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL -I/home/ausername/envs/20110805/usr/local/include -I/home/ausername/envs/20110805/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL -DLIBSSH2_WIN32 -MT misc.lo -MD -MP -MF .deps/misc.Tpo -c misc.c  -DDLL_EXPORT -DPIC -o .libs/misc.o


misc.c: In function `_libssh2_gettimeofday':
misc.c:596: warning: no semicolon at end of struct or union
misc.c:596: error: syntax error before "ns100"
misc.c:597: error: `FILETIME' undeclared (first use in this function)
misc.c:597: error: (Each undeclared identifier is reported only once
misc.c:597: error: for each function it appears in.)
misc.c: At top level:
misc.c:598: warning: data definition has no type or storage class
misc.c:600: error: syntax error before "if"
misc.c:604: warning: integer constant is too large for "long" type
make[2]: *** [misc.lo] Error 1
make[2]: Leaving directory `/home/ausername/envs/20110805/.cpl/src/libssh2-1.2.9/src'
make[1]: *** [all] Error 2
make[1]: Leaving directory `/home/ausername/envs/20110805/.cpl/src/libssh2-1.2.9/src'
make: *** [all-recursive] Error 1

__int64 doesn't seem to be recognized

ausername@anhostname ~/envs/20110805/.cpl/src/libssh2-1.2.9/include
$ grep __int64 *
libssh2.h:typedef unsigned __int64 libssh2_uint64_t;
libssh2.h:typedef __int64 libssh2_int64_t;

#ifdef _MSC_VER
typedef unsigned char uint8_t;
typedef unsigned int uint32_t;
typedef unsigned __int64 libssh2_uint64_t;
typedef __int64 libssh2_int64_t;
#ifndef ssize_t
typedef SSIZE_T ssize_t;
#endif
#else
typedef unsigned long long libssh2_uint64_t;
typedef long long libssh2_int64_t;
typedef libssh2_int64_t __int64; <===== ADD THIS LINE, nope
#endif

misc.c: 596
    unsigned long long ns100; /*time since 1 Jan 1601 in 100ns units */

For now (bad):
replace
//#ifdef LIBSSH2_GETTIMEOFDAY_WIN32
by:
#ifdef WIN32

=> actually define those types:

typedef unsigned long DWORD;
typedef DWORD LCID;
typedef struct _FILETIME {
  DWORD dwLowDateTime;
  DWORD dwHighDateTime;
} FILETIME,*PFILETIME,*LPFILETIME;

int __cdecl _libssh2_gettimeofday(struct timeval *tp, void *tzp)
 {
  union {
    unsigned long long ns100; /*time since 1 Jan 1601 in 100ns units */
    FILETIME ft;
  }  _now;

  ------------

direct_tcpip.o:direct_tcpip.c:(.text+0x19e): undefined reference to `__imp__libssh2_session_init_ex'
direct_tcpip.o:direct_tcpip.c:(.text+0x1f3): undefined reference to `__imp__libssh2_session_startup'

Note: the libssh.a just before had some:

*** Warning: linker path does not have real file for library -lssl.
*** I have the capability to make that library automatically link in when
*** you link to this library.  But I can only do this if you have a
*** shared version of the library, which you do not appear to have
*** because I did check the linker path looking for a file starting
*** with libssl and none of the candidates passed a file format test
*** using a file magic. Last file checked: /home/ausername/envs/20110805/usr/local/ssl/lib/libssl.dll.a

But libtool use the command `file` which wasn't installed in the current cygwin setup.
=> install /usr/bin/file
http://comments.gmane.org/gmane.os.cygwin/124739
The CYGWIN v1.7.7 distribution includes the command "file" (not part of the default core installation, you have to select it separately)

Then:

ausername@anhostname ~/envs/20110805/.cpl/src/libssh2-1.2.9/src
$ /bin/sh ../libtool --tag=CC --mode=link gcc  -I/home/ausername/envs/20110805/usr/local/include -I/home/ausername/envs/20110805/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL -DLIBSSH2_WIN32  -L/home/ausername/envs/20110805/usr/local/lib -L/home/ausername/envs/20110805/usr/local/ssl/lib -L/home/ausername/envs/20110805/usr/local/apps/python/lib -Wl,-rpath=/home/ausername/envs/20110805/usr/local/lib:/home/ausername/envs/20110805/usr/local/ssl/lib:/home/ausername/envs/20110805/usr/local/apps/svn/lib:/home/ausername/envs/20110805/usr/local/apps/python/lib:/home/ausername/envs/20110805/usr/local/apps/gcc/lib -o libssh2.la -rpath/home/ausername/envs/20110805/usr/local/libs/libssh2-1.2.9/lib -version-info 1:1:0 -no-undefined -export-symbols-regex '^libssh2_.*'  -L/home/ausername/envs/20110805/usr/local/ssl/lib -lssl -L/home/ausername/envs/20110805/usr/local/ssl/lib -lcrypto -R/home/ausername/envs/20110805/usr/local/ssl/lib -L/home/ausername/envs/20110805/usr/local/lib -lz channel.lo comp.lo crypt.lo hostkey.lo kex.lo mac.lo misc.lo packet.lo publickey.lo scp.lo session.lo sftp.lo userauth.lo transport.lo version.lo knownhost.lo agent.lo openssl.lo libgcrypt.lo pem.lo keepalive.lo global.lo
libtool: link: rm -fr  .libs/libssh2.a .libs/libssh2.la .libs/libssh2.lai
libtool: link: /bin/nm -B  .libs/channel.o .libs/comp.o .libs/crypt.o .libs/hostkey.o .libs/kex.o .libs/mac.o .libs/misc.o .libs/packet.o .libs/publickey.o .libs/scp.o .libs/session.o .libs/sftp.o .libs/userauth.o .libs/transport.o .libs/version.o .libs/knownhost.o .libs/agent.o .libs/openssl.o .libs/libgcrypt.o .libs/pem.o .libs/keepalive.o .libs/global.o   | sed -n -e 's/^.*[     ]\([ABCDGIRSTW][ABCDGIRSTW]*\)[         ][      ]*_\([_A-Za-z][_A-Za-z0-9]*\)$/\1 _\2 \2/p' | /bin/sed -e '/^[BCDGRS][ ]/s/.*[ ]\([^ ]*\)/\1 DATA/' | /bin/sed -e '/^[AITW][ ]/s/.*[ ]//' | sort | uniq > .libs/libssh2.exp
libtool: link: /bin/grep -E -e "^libssh2_.*" ".libs/libssh2.exp" > ".libs/libssh2.expT"
libtool: link: mv -f ".libs/libssh2.expT" ".libs/libssh2.exp"
libtool: link: if test "x`/bin/sed 1q .libs/libssh2.exp`" = xEXPORTS; then cp .libs/libssh2.exp .libs/cygssh2-1.dll.def; else echo EXPORTS > .libs/cygssh2-1.dll.def; cat .libs/libssh2.exp >> .libs/cygssh2-1.dll.def; fi
libtool: link:
gcc -shared .libs/cygssh2-1.dll.def  .libs/channel.o .libs/comp.o .libs/crypt.o .libs/hostkey.o .libs/kex.o .libs/mac.o .libs/misc.o .libs/packet.o .libs/publickey.o .libs/scp.o .libs/session.o .libs/sftp.o .libs/userauth.o .libs/transport.o .libs/version.o .libs/knownhost.o .libs/agent.o .libs/openssl.o .libs/libgcrypt.o .libs/pem.o .libs/keepalive.o .libs/global.o   -L/home/ausername/envs/20110805/usr/local/lib -L/home/ausername/envs/20110805/usr/local/ssl/lib -L/home/ausername/envs/20110805/usr/local/apps/python/lib anhostname -lz  -Wl,-rpath=/home/ausername/envs/20110805/usr/local/lib:/home/ausername/envs/20110805/usr/local/ssl/lib:/home/ausername/envs/20110805/usr/local/apps/svn/lib:/home/ausername/envs/20110805/usr/local/apps/python/lib:/home/ausername/envs/20110805/usr/local/apps/gcc/lib   -o .libs/cygssh2-1.dll -Wl,--enable-auto-image-base -Xlinker --out-implib -Xlinker .libs/libssh2.dll.a
Creating library file: .libs/libssh2.dll.a
.libs/misc.o:misc.c:(.text+0x5f9): undefined reference to `_GetSystemTimeAsFileTime'
collect2: ld returned 1 exit status

gcc -shared .libs/cygssh2-1.dll.def  .libs/channel.o .libs/comp.o .libs/crypt.o .libs/hostkey.o .libs/kex.o .libs/mac.o .libs/misc.o .libs/packet.o .libs/publickey.o .libs/scp.o .libs/session.o .libs/sftp.o .libs/userauth.o .libs/transport.o .libs/version.o .libs/knownhost.o .libs/agent.o .libs/openssl.o .libs/libgcrypt.o .libs/pem.o .libs/keepalive.o .libs/global.o   -L/home/ausername/envs/20110805/usr/local/lib -L/home/ausername/envs/20110805/usr/local/ssl/lib -L/home/ausername/envs/20110805/usr/local/apps/python/lib -L/home/ausername/envs/20110805/usr/local/ssl/lib anhostname -lz  -Wl,-rpath=/home/ausername/envs/20110805/usr/local/lib:/home/ausername/envs/20110805/usr/local/ssl/lib:/home/ausername/envs/20110805/usr/local/apps/svn/lib:/home/ausername/envs/20110805/usr/local/apps/python/lib:/home/ausername/envs/20110805/usr/local/apps/gcc/lib   -o .libs/cygssh2-1.dll -Wl,--enable-auto-image-base -Xlinker --out-implib -Xlinker .libs/libssh2.dll.a

WORKAROUND:
#include <windows.h>
just before the function in misc.c does the trick

~~~~~~~~~~~~~~
Cygwin curl make
libtool: link: gcc -isystem /home/ausername/envs/20110805/usr/local/include -isystem /home/ausername/envs/20110805/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL -g0 -Wno-system-headers -Wl,-rpath=/home/ausername/envs/20110805/usr/local/lib:/home/ausername/envs/20110805/usr/local/ssl/lib:/home/ausername/envs/20110805/usr/local/apps/svn/lib:/home/ausername/envs/20110805/usr/local/apps/python/lib:/home/ausername/envs/20110805/usr/local/apps/gcc/lib -o .libs/curl.exe main.o hugehelp.o urlglob.o writeout.o writeenv.o getpass.o homedir.o curlutil.o os-specific.o xattr.o strtoofft.o strdup.o rawstr.o nonblock.o  -L/home/ausername/envs/20110805/usr/local/lib -L/home/ausername/envs/20110805/usr/local/ssl/lib -L/home/ausername/envs/20110805/usr/local/apps/python/lib -L/home/ausername/envs/20110805/usr/local/libs/openssl-1.0.0d/lib ../lib/.libs/libcurl.a /home/ausername/envs/20110805/usr/local/libs/libidn-1.22/lib/libidn.dll.a /home/ausername/envs/20110805/usr/local/libs/gettext-0.14.1/lib/libintl.dll.a /home/ausername/envs/20110805/usr/local/libs/libiconv-1.13.1/lib/libiconv.dll.a /home/ausername/envs/20110805/usr/local/libs/libssh2-1.2.9/lib/libssh2.a anhostname -lz -L/home/ausername/envs/20110805/usr/local/libs/libidn-1.22/lib -L/home/ausername/envs/20110805/usr/local/libs/gettext-0.14.1/lib -L/home/ausername/envs/20110805/usr/local/libs/libiconv-1.13.1/lib
/home/ausername/envs/20110805/usr/local/libs/libssh2-1.2.9/lib/libssh2.a(session.o):session.c:(.text+0x1716): undefined reference to `__libssh2_gettimeofday'
/home/ausername/envs/20110805/usr/local/libs/libssh2-1.2.9/lib/libssh2.a(session.o):session.c:(.text+0x1744): undefined reference to `__libssh2_gettimeofday'
collect2: ld returned 1 exit status
make[2]: *** [curl.exe] Error 1
make[2]: Leaving directory `/home/ausername/envs/20110805/.cpl/src/curl-7.21.7/src'
make[1]: *** [all] Error 2
make[1]: Leaving directory `/home/ausername/envs/20110805/.cpl/src/curl-7.21.7/src'
make: *** [all-recursive] Error 1

Should not happens if misc.c in libssh2 did compile properly!
However illustrates link dependency on libssh2 function
~~~~~~~~~~~~~~~~
TinyCore ruby  make
make[1]: Leaving directory `/home/tc/compileEverything/.cpl/src/ruby-1.9.2-p0/ext/zlib'
making ruby
make[1]: Entering directory `/home/tc/compileEverything/.cpl/src/ruby-1.9.2-p0'
gcc -I/home/tc/compileEverything/usr/local/include -I/home/tc/compileEverything/usr/local/ssl/include -fPIC -O -U_FORTIFY_SOURCE -fPIC -L/home/tc/compileEverything/usr/local/lib  -rdynamic -Wl,-export-dynamic   main.o  -Wl,-R -Wl,/home/tc/compileEverything/usr/local/apps/ruby-1.9.2p0/lib -L/home/tc/compileEverything/usr/local/apps/ruby-1.9.2p0/lib -lruby -lpthread -lrt -ldl -lcrypt -lm   -o ruby
/usr/local/bin/ld: cannot find -lruby
collect2: ld returned 1 exit status
make[1]: *** [ruby] Error 1
make[1]: Leaving directory `/home/tc/compileEverything/.cpl/src/ruby-1.9.2-p0'
make: *** [main] Error 2
=> restore -L. in the ruby parameter file
~~~~~~~~~~~~~~~~
Cygwin gcc make
/home/ausername/envs/20110820/.cpl/src/gcc-3.4.6/objdir/gcc/xgcc -B/home/ausername/envs/20110820/.cpl/src/gcc-3.4.6/objdir/gcc/ -B/home/ausername/envs/20110820/usr/local/apps/gcc-3.4.6/i686-pc-cygwin/bin/ -B/home/ausername/envs/20110820/usr/local/apps/gcc-3.4.6/i686-pc-cygwin/lib/ -isystem /home/ausername/envs/20110820/usr/local/apps/gcc-3.4.6/i686-pc-cygwin/include -isystem /home/ausername/envs/20110820/usr/local/apps/gcc-3.4.6/i686-pc-cygwin/sys-include -c -DHAVE_CONFIG_H -O2 -I/home/ausername/envs/20110820/usr/local/include -I/home/ausername/envs/20110820/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL -I. -I../../../libiberty/../include  -W -Wall -Wtraditional -pedantic ../../../libiberty/sort.c -o sort.o
xgcc: fork: Resource temporarily unavailable
make[1]: *** [sort.o] Error 1
make[1]: Leaving directory `/home/ausername/envs/20110820/.cpl/src/gcc-3.4.6/objdir/i686-pc-cygwin/libiberty'
make: *** [all-target-libiberty] Error 2

=> relaunch? resource issue
~~~~~~~~~~~~~~~~
Cygwin openldap configure

configure:21991: gcc -o conftest.exe -I/home/ausername/envs/20110805/usr/local/include -I/home/ausername/envs/20110805/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL -I/home/ausername/envs/20110805/usr/local/include -I/home/ausername/envs/20110805/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL -L/home/ausername/envs/20110805/usr/local/lib -L/home/ausername/envs/20110805/usr/local/ssl/lib -L/home/ausername/envs/20110805/usr/local/apps/python/lib -Wl,-rpath=/home/ausername/envs/20110805/usr/local/lib:/home/ausername/envs/20110805/usr/local/ssl/lib:/home/ausername/envs/20110805/usr/local/apps/svn/lib:/home/ausername/envs/20110805/usr/local/apps/python/lib:/home/ausername/envs/20110805/usr/local/apps/gcc/lib conftest.c -lsasl2   >&5
/home/ausername/envs/20110805/usr/local/lib/libsasl2.a(otp.o):otp.c:(.text+0x6c): undefined reference to `_EVP_DigestInit'
/home/ausername/envs/20110805/usr/local/lib/libsasl2.a(otp.o):otp.c:(.text+0x82): undefined reference to `_EVP_DigestUpdate'
/home/ausername/envs/20110805/usr/local/lib/libsasl2.a(otp.o):otp.c:(.text+0x98): undefined reference to `_EVP_DigestFinal'
/home/ausername/envs/20110805/usr/local/lib/libsasl2.a(otp.o):otp.c:(.text+0x125): undefined reference to `_EVP_get_digestbyname'
/home/ausername/envs/20110805/usr/local/lib/libsasl2.a(otp.o):otp.c:(.text+0x698): undefined reference to `_EVP_cleanup'
/home/ausername/envs/20110805/usr/local/lib/libsasl2.a(otp.o):otp.c:(.text+0xbea): undefined reference to `_EVP_DigestInit'
/home/ausername/envs/20110805/usr/local/lib/libsasl2.a(otp.o):otp.c:(.text+0xc15): undefined reference to `_EVP_DigestUpdate'
/home/ausername/envs/20110805/usr/local/lib/libsasl2.a(otp.o):otp.c:(.text+0xc37): undefined reference to `_EVP_DigestFinal'
/home/ausername/envs/20110805/usr/local/lib/libsasl2.a(otp.o):otp.c:(.text+0xde1): undefined reference to `_EVP_get_digestbyname'
/home/ausername/envs/20110805/usr/local/lib/libsasl2.a(otp.o):otp.c:(.text+0x1101): undefined reference to `_EVP_get_digestbyname'
/home/ausername/envs/20110805/usr/local/lib/libsasl2.a(otp.o):otp.c:(.text+0x21c1): undefined reference to `_OpenSSL_add_all_digests'
/home/ausername/envs/20110805/usr/local/lib/libsasl2.a(otp.o):otp.c:(.text+0x2c6e): undefined reference to `_OpenSSL_add_all_digests'
/home/ausername/envs/20110805/usr/local/lib/libsasl2.a(db_berkeley.o):db_berkeley.c:(.text+0x94): undefined reference to `_db_create'
/home/ausername/envs/20110805/usr/local/lib/libsasl2.a(db_berkeley.o):db_berkeley.c:(.text+0x100): undefined reference to `_db_strerror'
/home/ausername/envs/20110805/usr/local/lib/libsasl2.a(db_berkeley.o):db_berkeley.c:(.text+0x183): undefined reference to `_db_strerror'
/home/ausername/envs/20110805/usr/local/lib/libsasl2.a(db_berkeley.o):db_berkeley.c:(.text+0x36b): undefined reference to `_db_strerror'
/home/ausername/envs/20110805/usr/local/lib/libsasl2.a(db_berkeley.o):db_berkeley.c:(.text+0x599): undefined reference to `_db_strerror'
/home/ausername/envs/20110805/usr/local/lib/libsasl2.a(db_berkeley.o):db_berkeley.c:(.text+0x617): undefined reference to `_db_strerror'

normal:
$ nm -A /home/ausername/envs/20110805/usr/local/lib/*.a |grep Digest
/home/ausername/envs/20110805/usr/local/lib/libsasl2.a:otp.o:         U _EVP_DigestFinal
/home/ausername/envs/20110805/usr/local/lib/libsasl2.a:otp.o:         U _EVP_DigestInit
=> recompile correctly cyrus-sasl?
Actually
ausername@anhostname ~/envs/20110805/.cpl/src/cyrus-sasl-2.1.21
$ grep DigestInit *
aclocal.m4:                     AC_CHECK_LIB(crypto, EVP_DigestInit,
configure:                      echo "$as_me:$LINENO: checking for EVP_DigestInit in -lcrypto" >&5
configure:echo $ECHO_N "checking for EVP_DigestInit in -lcrypto... $ECHO_C" >&6
=> check openssl
ausername@anhostname ~/envs/20110805/.cpl/src/cyrus-sasl-2.1.21
$ find ../../../usr/local/ -name "*crypto*"
../../../usr/local/libs/openssl-1.0.0d/bin/cygcrypto-1.0.0.dll
../../../usr/local/libs/openssl-1.0.0d/include/openssl/crypto.h
../../../usr/local/libs/openssl-1.0.0d/lib/libcrypto.a
../../../usr/local/libs/openssl-1.0.0d/lib/libcrypto.dll.a

ausername@anhostname ~/envs/20110805/.cpl/src/openssl-1.0.0d
$ nm -A ./libcrypto.a|grep _EVP_DigestInit
./libcrypto.a:hmac.o:         U _EVP_DigestInit_ex
./libcrypto.a:rsa_oaep.o:         U _EVP_DigestInit_ex
./libcrypto.a:rsa_pss.o:         U _EVP_DigestInit_ex
./libcrypto.a:md_rand.o:         U _EVP_DigestInit_ex
./libcrypto.a:digest.o:0000003f T _EVP_DigestInit
./libcrypto.a:digest.o:0000005e T _EVP_DigestInit_ex
./libcrypto.a:evp_key.o:         U _EVP_DigestInit_ex
./libcrypto.a:bio_md.o:         U _EVP_DigestInit_ex
./libcrypto.a:bio_ok.o:         U _EVP_DigestInit_ex


and sasl:
checking for unicode/utypes.h... no
configure: WARNING: ICU not available
checking sasl/sasl.h usability... yes
checking sasl/sasl.h presence... yes
checking for sasl/sasl.h... yes
checking sasl.h usability... no
checking sasl.h presence... no
checking for sasl.h... no
checking for sasl_client_init in -lsasl2... no
checking for sasl_client_init in -lsasl... no
configure: error: Could not locate Cyrus SASL
(normal, don't have libsasl.xxx)

WILL WORK with -lsasl2 -lcrypto -ldb
~~~~~~~~~~~
openldap Cygwin make
gcc -I/home/ausername/envs/20110805/usr/local/include -I/home/ausername/envs/20110805/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL -Wl,-rpath=/home/ausername/envs/20110805/usr/local/lib:/home/ausername/envs/20110805/usr/local/ssl/lib:/home/ausername/envs/20110805/usr/local/apps/svn/lib:/home/ausername/envs/20110805/usr/local/apps/python/lib:/home/ausername/envs/20110805/usr/local/apps/gcc/lib -o apitest.exe apitest.o  -L/home/ausername/envs/20110805/usr/local/lib -L/home/ausername/envs/20110805/usr/local/ssl/lib -L/home/ausername/envs/20110805/usr/local/apps/python/lib ./.libs/libldap.a /home/ausername/envs/20110805/.cpl/src/openldap-2.4.24/libraries/liblber/.libs/liblber.a -L/home/ausername/envs/20110805/usr/local/ssl/include/openssl/lib ../../libraries/liblber/.libs/liblber.a ../../libraries/liblutil/liblutil.a /home/ausername/envs/20110805/usr/local/libs/cyrus-sasl-2.1.21/lib/libsasl2.a -ldl -lresolv anhostname
/home/ausername/envs/20110805/usr/local/libs/cyrus-sasl-2.1.21/lib/libsasl2.a(db_berkeley.o):db_berkeley.c:(.text+0x94): undefined reference to `_db_create'
/home/ausername/envs/20110805/usr/local/libs/cyrus-sasl-2.1.21/lib/libsasl2.a(db_berkeley.o):db_berkeley.c:(.text+0x100): undefined reference to `_db_strerror'
/home/ausername/envs/20110805/usr/local/libs/cyrus-sasl-2.1.21/lib/libsasl2.a(db_berkeley.o):db_berkeley.c:(.text+0x183): undefined reference to `_db_strerror'
/home/ausername/envs/20110805/usr/local/libs/cyrus-sasl-2.1.21/lib/libsasl2.a(db_berkeley.o):db_berkeley.c:(.text+0x36b): undefined reference to `_db_strerror'
/home/ausername/envs/20110805/usr/local/libs/cyrus-sasl-2.1.21/lib/libsasl2.a(db_berkeley.o):db_berkeley.c:(.text+0x599): undefined reference to `_db_strerror'
/home/ausername/envs/20110805/usr/local/libs/cyrus-sasl-2.1.21/lib/libsasl2.a(db_berkeley.o):db_berkeley.c:(.text+0x617): undefined reference to `_db_strerror'
collect2: ld returned 1 exit status
make[2]: *** [apitest] Error 1
make[2]: Leaving directory `/home/ausername/envs/20110805/.cpl/src/openldap-2.4.24/libraries/libldap'
=> miss -ldb in .cpl\src\openldap-2.4.24\libraries\libldap\Makefile, add it to TLS_LIBS
idem for        .cpl\src\openldap-2.4.24\libraries\libldap_r\Makefile
                .cpl\src\openldap-2.4.24\libraries\librewrite\Makefile
                    SASL_LIBS = -lsasl2 -ldb <== change -db in -ldb
                    TLS_LIBS = -lssl -lcrypto -db

To test: Change line 1185 of configure.in TLS_LIBS="-lssl -lcrypto": add ' -ldb'
         Change line 2099 of configure.in SASL_LIBS="$ol_link_sasl": add ' -ldb'
=> rewrite the configure accordingly
~~~~~~~~~~~~~~~~
apr-utils Cygwin configure
ausername@anhostname ~/envs/20110805/.cpl/src/apr-util-1.2.2
$ gcc -o conftest.exe -I/home/ausername/envs/20110805/usr/local/include -I/home/ausername/envs/20110805/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL -I/home/ausername/envs/20110805/usr/local/include -I/home/ausername/envs/20110805/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL -DCYGWIN -I/home/ausername/envs/20110805/usr/local/include -L/home/ausername/envs/20110805/usr/local/lib -L/home/ausername/envs/20110805/usr/local/ssl/lib -L/home/ausername/envs/20110805/usr/local/apps/python/lib-Wl,-rpath=/home/ausername/envs/20110805/usr/local/lib:/home/ausername/envs/20110805/usr/local/ssl/lib:/home/ausername/envs/20110805/usr/local/apps/svn/lib:/home/ausername/envs/20110805/usr/local/apps/python/lib:/home/ausername/envs/20110805/usr/local/apps/gcc/lib -L/home/ausername/envs/20110805/usr/local/lib l.c -lldap -ldl -lpthread -lssl -lsasl2
/home/ausername/envs/20110805/usr/local/lib/libldap.a(open.o):open.c:(.text+0x1ed): r'ef'erence ind'efinie vers << _ber_memcalloc_x >>
/home/ausername/envs/20110805/usr/local/lib/libldap.a(open.o):open.c:(.text+0x218): r'ef'erence ind'efinie vers << _ber_memcalloc_x >>
/home/ausername/envs/20110805/usr/local/lib/libldap.a(open.o):open.c:(.text+0x22e): r'ef'erence ind'efinie vers << _ber_memfree_x >>
/home/ausername/envs/20110805/usr/local/lib/libldap.a(open.o):open.c:(.text+0x2af): r'ef'erence ind'efinie vers << _ber_strdup_x >>

Mainly missing -llber , but also -lssl -lsasl2 -ldb -lcrypto
~~~~~~~~~~~~~~~~
apr-utils Cygwin make
/bin/sh /home/ausername/envs/20110805/usr/local/libs/apr-1.2.2/build-1/libtool --silent --mode=compile gcc   -I/home/ausername/envs/20110805/usr/local/include -I/home/ausername/envs/20110805/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL -DHAVE_CONFIG_H -DCYGWIN  -I/home/ausername/envs/20110805/usr/local/include -I/home/ausername/envs/20110805/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL -I/home/ausername/envs/20110805/.cpl/src/aprutil-1.2.2/include -I/home/ausername/envs/20110805/.cpl/src/aprutil-1.2.2/include/private  -I/home/ausername/envs/20110805/usr/local/libs/apr-1.2.2/include/apr-1  -I/home/ausername/envs/20110805/usr/local/include  -o dbd/apr_dbd_sqlite3.lo -c dbd/apr_dbd_sqlite3.c && touch dbd/apr_dbd_sqlite3.lo
dbd/apr_dbd_sqlite3.c:42: error: syntax error before "apr_thread_mutex_t"
dbd/apr_dbd_sqlite3.c:42: warning: no semicolon at end of struct or union
dbd/apr_dbd_sqlite3.c:44: error: syntax error before '}' token
dbd/apr_dbd_sqlite3.c: In function `dbd_sqlite3_select':
dbd/apr_dbd_sqlite3.c:91: error: dereferencing pointer to incomplete type

Turns out
- apr_thread_mutex_t is defined in compileEverything\.cpl\src\apr-1.2.2\include\arch\win32\apr_arch_thread_mutex.h
- APR_THREAD_MUTEX_DEFAULT is defined in compileEverything\usr\local\libs\apr-1.2.2\include\apr-1\apr_thread_mutex.h
and they don't seem to be included properly.

Adding:
typedef struct apr_thread_mutex_t apr_thread_mutex_t; // opaque struct
#define APR_THREAD_MUTEX_DEFAULT  0x0
does the trick

But the true solution is to NOT INCLUDE sqlite3: --with-sqlite3=no
~~~~~~~~~~~~~~~~
Cygwin apache httpd make
gcc   -I/home/ausername/compileEverything/usr/local/include -I/home/ausername/compileEverything/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL  -DCYGWIN  -I/home/ausername/compileEverything/usr/local/include -I/home/ausername/compileEverything/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL  -I/home/ausername/compileEverything/.cpl/src/httpd-2.2.20/srclib/pcre -I. -I/home/ausername/compileEverything/.cpl/src/httpd-2.2.20/os/unix -I/home/ausername/compileEverything/.cpl/src/httpd-2.2.20/server/mpm/prefork -I/home/ausername/compileEverything/.cpl/src/httpd-2.2.20/modules/http-I/home/ausername/compileEverything/.cpl/src/httpd-2.2.20/modules/filters -I/home/ausername/compileEverything/.cpl/src/httpd-2.2.20/modules/proxy -I/home/ausername/compileEverything/.cpl/src/httpd-2.2.20/include -I/home/ausername/compileEverything/.cpl/src/httpd-2.2.20/modules/generators -I/home/ausername/compileEverything/.cpl/src/httpd-2.2.20/modules/mappers -I/home/ausername/compileEverything/.cpl/src/httpd-2.2.20/modules/database -I/home/ausername/compileEverything/usr/local/libs/apr-1.2.2/include/apr-1 -I/home/ausername/compileEverything/usr/local/libs/aprutil-1.2.2/include/apr-1 -I/home/ausername/compileEverything/usr/local/include -I/home/ausername/compileEverything/.cpl/src/httpd-2.2.20/server -I/home/ausername/compileEverything/.cpl/src/httpd-2.2.20/modules/proxy/../generators -I/home/ausername/compileEverything/usr/local/ssl/include -I/home/ausername/compileEverything/usr/local/libs/openssl-1.0.0e/include -I/home/ausername/compileEverything/.cpl/src/httpd-2.2.20/modules/ssl -I/home/ausername/compileEverything/.cpl/src/httpd-2.2.20/modules/dav/main  -c /home/ausername/compileEverything/.cpl/src/httpd-2.2.20/server/buildmark.c /home/ausername/compileEverything/usr/local/libs/apr-1.2.2/build-1/libtool --silent --mode=link

gcc   -I/home/ausername/compileEverything/usr/local/include -I/home/ausername/compileEverything/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL   -L/home/ausername/compileEverything/usr/local/libs/openssl-1.0.0e/lib -L/home/ausername/compileEverything/usr/local/lib -L/home/ausername/compileEverything/usr/local/ssl/lib -L/home/ausername/compileEverything/usr/local/apps/python/lib -Wl,-rpath=/home/ausername/compileEverything/usr/local/lib:/home/ausername/compileEverything/usr/local/ssl/lib:/home/ausername/compileEverything/usr/local/apps/svn/lib:/home/ausername/compileEverything/usr/local/apps/python/lib:/home/ausername/compileEverything/usr/local/apps/gcc/lib -o httpd  modules.lo buildmark.o -export-dynamic server/libmain.la modules/http/libmod_http.la modules/mappers/libmod_so.la server/mpm/prefork/libprefork.la os/unix/libos.la  /home/ausername/compileEverything/.cpl/src/httpd-2.2.20/srclib/pcre/libpcre.la /home/ausername/compileEverything/usr/local/libs/aprutil-1.2.2/lib/libaprutil-1.la -lldap -llber -lssl -lsasl2 -ldb -lcrypto -llber -lgdbm -lsqlite3 -lexpat -liconv /home/ausername/compileEverything/usr/local/libs/apr-1.2.2/lib/libapr-1.la -lcrypt

/bin/ld: warning: --export-dynamic is not supported for PE targets, did you mean --export-all-symbols?
/home/ausername/compileEverything/usr/local/libs/aprutil-1.2.2/lib/libaprutil-1.a(apr_dbd_sqlite3.o):apr_dbd_sqlite3.c:(.text+0x51): undefined reference to `_apr_thread_mutex_lock'
/home/ausername/compileEverything/usr/local/libs/aprutil-1.2.2/lib/libaprutil-1.a(apr_dbd_sqlite3.o):apr_dbd_sqlite3.c:(.text+0xa5): undefined reference to `_apr_thread_mutex_unlock'
/home/ausername/compileEverything/usr/local/libs/aprutil-1.2.2/lib/libaprutil-1.a(apr_dbd_sqlite3.o):apr_dbd_sqlite3.c:(.text+0x151): undefined reference to `_apr_thread_mutex_unlock'
/home/ausername/compileEverything/usr/local/libs/aprutil-1.2.2/lib/libaprutil-1.a(apr_dbd_sqlite3.o):apr_dbd_sqlite3.c:(.text+0x313): undefined reference to `_apr_thread_mutex_unlock'
/home/ausername/compileEverything/usr/local/libs/aprutil-1.2.2/lib/libaprutil-1.a(apr_dbd_sqlite3.o):apr_dbd_sqlite3.c:(.text+0x470): undefined reference to `_apr_thread_mutex_lock'
/home/ausername/compileEverything/usr/local/libs/aprutil-1.2.2/lib/libaprutil-1.a(apr_dbd_sqlite3.o):apr_dbd_sqlite3.c:(.text+0x4ff): undefined reference to `_apr_thread_mutex_unlock'
/home/ausername/compileEverything/usr/local/libs/aprutil-1.2.2/lib/libaprutil-1.a(apr_dbd_sqlite3.o):apr_dbd_sqlite3.c:(.text+0x713): undefined reference to `_apr_thread_mutex_create'
/home/ausername/compileEverything/usr/local/libs/aprutil-1.2.2/lib/libaprutil-1.a(apr_dbd_sqlite3.o):apr_dbd_sqlite3.c:(.text+0x746): undefined reference to `_apr_thread_mutex_destroy'
collect2: ld returned 1 exit status
make[1]: *** [httpd] Error 1
make[1]: Leaving directory `/home/ausername/compileEverything/.cpl/src/httpd-2.2.20'
make: *** [all-recursive] Error 1

Because apr-util has been compile with --with-sqlite3=... which isn't compatible with Cygwin (no thread)
~~~~~~~~~~~~~~~
Subversion Cygwin configure
checking for availability of Cyrus SASL v2... no
configure: error: Could not find Cyrus SASL v2

configure:21747: checking for prop_get in -lsasl2
configure:21772: gcc -o conftest.exe -I/home/ausername/compileEverything/usr/local/include -I/home/ausername/compileEverything/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL    -I/home/ausername/compileEverything/usr/local/include -I/home/ausername/compileEverything/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL   -DCYGWIN -I/home/ausername/compileEverything/usr/local/include -L/home/ausername/compileEverything/usr/local/lib -L/home/ausername/compileEverything/usr/local/ssl/lib -L/home/ausername/compileEverything/usr/local/apps/python/lib -Wl,-rpath=/home/ausername/compileEverything/usr/local/lib:/home/ausername/compileEverything/usr/local/ssl/lib:/home/ausername/compileEverything/usr/local/apps/svn/lib:/home/ausername/compileEverything/usr/local/apps/python/lib:/home/ausername/compileEverything/usr/local/apps/gcc/lib    -L/home/ausername/compileEverything/usr/local/lib -L/home/ausername/compileEverything/usr/local/lib conftest.c -lsasl2   >&5
/home/ausername/compileEverything/usr/local/lib/libsasl2.a(otp.o):otp.c:(.text+0x6c): undefined reference to `_EVP_DigestInit'
/home/ausername/compileEverything/usr/local/lib/libsasl2.a(otp.o):otp.c:(.text+0x82): undefined reference to `_EVP_DigestUpdate'
/home/ausername/compileEverything/usr/local/lib/libsasl2.a(otp.o):otp.c:(.text+0x98): undefined reference to `_EVP_DigestFinal'
/home/ausername/compileEverything/usr/local/lib/libsasl2.a(otp.o):otp.c:(.text+0x125): undefined reference to `_EVP_get_digestbyname'
/home/ausername/compileEverything/usr/local/lib/libsasl2.a(otp.o):otp.c:(.text+0x698): undefined reference to `_EVP_cleanup'
/home/ausername/compileEverything/usr/local/lib/libsasl2.a(otp.o):otp.c:(.text+0xbea): undefined reference to `_EVP_DigestInit'
/home/ausername/compileEverything/usr/local/lib/libsasl2.a(otp.o):otp.c:(.text+0xc15): undefined reference to `_EVP_DigestUpdate'
/home/ausername/compileEverything/usr/local/lib/libsasl2.a(otp.o):otp.c:(.text+0xc37): undefined reference to `_EVP_DigestFinal'
/home/ausername/compileEverything/usr/local/lib/libsasl2.a(otp.o):otp.c:(.text+0xde1): undefined reference to `_EVP_get_digestbyname'
/home/ausername/compileEverything/usr/local/lib/libsasl2.a(otp.o):otp.c:(.text+0x1101): undefined reference to `_EVP_get_digestbyname'
/home/ausername/compileEverything/usr/local/lib/libsasl2.a(otp.o):otp.c:(.text+0x21c1): undefined reference to `_OpenSSL_add_all_digests'
/home/ausername/compileEverything/usr/local/lib/libsasl2.a(otp.o):otp.c:(.text+0x2c6e): undefined reference to `_OpenSSL_add_all_digests'
/home/ausername/compileEverything/usr/local/lib/libsasl2.a(db_berkeley.o):db_berkeley.c:(.text+0x94): undefined reference to `_db_create'
/home/ausername/compileEverything/usr/local/lib/libsasl2.a(db_berkeley.o):db_berkeley.c:(.text+0x100): undefined reference to `_db_strerror'
/home/ausername/compileEverything/usr/local/lib/libsasl2.a(db_berkeley.o):db_berkeley.c:(.text+0x183): undefined reference to `_db_strerror'
/home/ausername/compileEverything/usr/local/lib/libsasl2.a(db_berkeley.o):db_berkeley.c:(.text+0x36b): undefined reference to `_db_strerror'
/home/ausername/compileEverything/usr/local/lib/libsasl2.a(db_berkeley.o):db_berkeley.c:(.text+0x599): undefined reference to `_db_strerror'
/home/ausername/compileEverything/usr/local/lib/libsasl2.a(db_berkeley.o):db_berkeley.c:(.text+0x617): undefined reference to `_db_strerror'
collect2: ld returned 1 exit status
configure:21772: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "subversion"
| #define PACKAGE_TARNAME "subversion"
| #define PACKAGE_VERSION "1.6.17"
| #define PACKAGE_STRING "subversion 1.6.17"
| #define PACKAGE_BUGREPORT "http://subversion.tigris.org/"
| #define PACKAGE_URL ""
| #define SVN_NEON_0_26 1
| #define SVN_NEON_0_27 1
| #define SVN_NEON_0_28 1
| #define SVN_HAVE_NEON 1
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define SVN_BINDIR "/home/ausername/compileEverything/usr/local/apps/subversion-1.6.17/bin"
| #define SVN_LOCALE_DIR "/home/ausername/compileEverything/usr/local/apps/subversion-1.6.17/share/locale"
| #define HAVE_DLFCN_H 1
| #define SVN_AVOID_CIRCULAR_LINKAGE_AT_ALL_COSTS_HACK 1
| #define SVN_FS_WANT_DB_MAJOR 4
| #define SVN_FS_WANT_DB_MINOR 0
| #define SVN_FS_WANT_DB_PATCH 14
| /* end confdefs.h.  */
|
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char prop_get ();
| int
| main ()
| {
| return prop_get ();
|   ;
|   return 0;
| }
configure:21781: result: no
configure:21801: checking for availability of Cyrus SASL v2
configure:21808: result: no
configure:21812: error: Could not find Cyrus SASL v2

Works with -lsasl2 -ldb -lcrypto
~~~~~~~~~~~~~~
Subversion Cygwin make
Creating library file: .libs/libsvn_subr-1.dll.a
.libs/atomic.o:atomic.c:(.text+0x1f): undefined reference to `_apr_atomic_cas32'
.libs/atomic.o:atomic.c:(.text+0x7f): undefined reference to `_apr_atomic_cas32'
.libs/auth.o:auth.c:(.text+0x18): undefined reference to `_apr_palloc'
.libs/auth.o:auth.c:(.text+0x36): undefined reference to `_apr_hash_make'
[...]
.libs/xml.o:xml.c:(.text+0xbe3): undefined reference to `_apr_pool_destroy'
collect2: ld returned 1 exit status
make: *** [subversion/libsvn_subr/libsvn_subr-1.la] Error 1

=> lapr is missing. complete the premake step
~~~~~~~~~~~~~~
Subversion Cygwin make

cd subversion/svn

/bin/sh /home/ausername/compileEverything/.cpl/src/subversion-1.6.17/libtool --tag=CC --silent --mode=link gcc  -I/home/ausername/compileEverything/usr/local/include -I/home/ausername/compileEverything/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL     -L/home/ausername/compileEverything/usr/local/lib -L/home/ausername/compileEverything/usr/local/ssl/lib -L/home/ausername/compileEverything/usr/local/apps/python/lib -Wl,-rpath=/home/ausername/compileEverything/usr/local/lib:/home/ausername/compileEverything/usr/local/ssl/lib:/home/ausername/compileEverything/usr/local/apps/svn/lib:/home/ausername/compileEverything/usr/local/apps/python/lib:/home/ausername/compileEverything/usr/local/apps/gcc/lib    -L/home/ausername/compileEverything/usr/local/lib -L/home/ausername/compileEverything/usr/local/lib  -rpath /home/ausername/compileEverything/usr/local/apps/subversion-1.6.17/lib -o svn.exe  add-cmd.o blame-cmd.o cat-cmd.o changelist-cmd.o checkout-cmd.o cleanup-cmd.o commit-cmd.o conflict-callbacks.o copy-cmd.o delete-cmd.o diff-cmd.o export-cmd.o help-cmd.o import-cmd.o info-cmd.o list-cmd.o lock-cmd.o log-cmd.o main.o merge-cmd.o mergeinfo-cmd.o mkdir-cmd.o move-cmd.o notify.o propdel-cmd.o propedit-cmd.o propget-cmd.o proplist-cmd.o props.o propset-cmd.o resolve-cmd.o resolved-cmd.o revert-cmd.o status-cmd.o status.o switch-cmd.o tree-conflicts.o unlock-cmd.o update-cmd.o util.o ../../subversion/libsvn_client/libsvn_client-1.la ../../subversion/libsvn_wc/libsvn_wc-1.la ../../subversion/libsvn_ra/libsvn_ra-1.la ../../subversion/libsvn_delta/libsvn_delta-1.la ../../subversion/libsvn_diff/libsvn_diff-1.la ../../subversion/libsvn_subr/libsvn_subr-1.la /home/ausername/compileEverything/usr/local/libs/aprutil-1.2.2/lib/libaprutil-1.la -lldap -llber -lssl -lsasl2 -ldb -lcrypto -llber -lgdbm -lexpat -liconv /home/ausername/compileEverything/usr/local/libs/apr-1.2.2/lib/libapr-1.la  -lcrypt -L/home/ausername/compileEverything/usr/local/lib -L/home/ausername/compileEverything/usr/local/lib -L/home/ausername/compileEverything/usr/local/ssl/lib -L/home/ausername/compileEverything/usr/local/apps/python/lib -Wl,-rpath=/home/ausername/compileEverything/usr/local/lib:/home/ausername/compileEverything/usr/local/ssl/lib:/home/ausername/compileEverything/usr/local/apps/svn/lib:/home/ausername/compileEverything/usr/local/apps/python/lib:/home/ausername/compileEverything/usr/local/apps/gcc/lib -L/home/ausername/compileEverything/usr/local/libs/neon-0.29.5/lib -lneon -lintl -lssl -lcrypto -lz -lexpat -lintl -lapr

/bin/ld: cannot find -lapr
collect2: ld returned 1 exit status
make: *** [subversion/svn/svn.exe] Error 1

remove any reference to -lapr
replace it by /home/ausername/compileEverything/usr/local/libs/apr-1.2.2/lib/libapr-1.la
works as well
try in configure to reference the usr/local/bin/apr-1-config and usr/local/bin/apu-1-config for --with-apr and --with-aprutils
~~~~~~~~~~~~~~~~
Cygwin Subversion make
cd subversion/tests/libsvn_subr && /bin/sh /home/ausername/compileEverything/.cpl/src/subversion-1.6.17/libtool --tag=CC --silent --mode=link gcc  -I/home/ausername/compileEverything/usr/local/include -I/home/ausername/compileEverything/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL     -L/home/ausername/compileEverything/usr/local/lib -L/home/ausername/compileEverything/usr/local/ssl/lib -L/home/ausername/compileEverything/usr/local/apps/python/lib -Wl,-rpath=/home/ausername/compileEverything/usr/local/lib:/home/ausername/compileEverything/usr/local/ssl/lib:/home/ausername/compileEverything/usr/local/apps/svn/lib:/home/ausername/compileEverything/usr/local/apps/python/lib:/home/ausername/compileEverything/usr/local/apps/gcc/lib    -L/home/ausername/compileEverything/usr/local/lib -L/home/ausername/compileEverything/usr/local/lib  -rpath /home/ausername/compileEverything/usr/local/apps/subversion-1.6.17/lib -o dirent_uri-test.exe  dirent_uri-test.o ../../../subversion/tests/libsvn_test-1.la ../../../subversion/libsvn_subr/libsvn_subr-1.la /home/ausername/compileEverything/usr/local/libs/aprutil-1.2.2/lib/libaprutil-1.la -lldap -llber -lssl -lsasl2 -ldb -lcrypto -llber -lgdbm -lexpat -liconv /home/ausername/compileEverything/usr/local/libs/apr-1.2.2/lib/libapr-1.la -lcrypt -lintl -lapr -lintl -lsasl2 -ldb -lcrypto
dirent_uri-test.o:dirent_uri-test.c:(.text+0x2ebd): undefined reference to `_ausername'
collect2: ld returned 1 exit status
make: *** [subversion/tests/libsvn_subr/dirent_uri-test.exe] Error 1
Note: libtool: link: warning: undefined symbols not allowed in i686-pc-cygwin shared libraries

nm /usr/lib/libmsvcrt.a | grep ausername
00000000 I __imp___wausername
00000000 T __wausername
00000000 T __ausername

Solution 1 (workaround) Avoid in compileEverything\.cpl\src\subversion-1.6.17\subversion\tests\libsvn_subr\dirent_uri-test.c to compile the part with #if defined(WIN32) || defined(__CYGWIN1__)

Solution 2 (not tested yet)
http://cygwin.com/ml/cygwin/2010-07/msg00048.html

> After writing and sending the below note, I found the message recommending the use of the "-no-undefined" option.  I will use it and see if it helps.
>
> If that is the problem's solution though, wouldn't it would be nice not to have to manually set it for programs involving shared libraries?  Couldn't this option be made into a default, which by doing so would make a lot of source code packages buildable as is, I should think.

The Autobook
  http://sourceware.org/autobook/autobook/autobook_88.html
says:
  "Historically, the default behaviour of Libtool was as if `-no-undefined' was always passed on the command line"
and goes on to explain why that default was changed.

Team

I beleive I have found a resolution to this problem.

By setting the LDFLAGS environment variable was able to get the non CXX components of  mailutils and all of apache to compile cleanly. Subversion I think will compile once I put a newer version of neon on. The library errors common to all three projects I was experiencing have not returned.

Apache and Subversion have their own libtool scripts. I presume they are generated in the configure process. I have not investigated that. They both now have the undefined flag defined in the latest attempt.

To make this simpler I put the flag in my .profile for ksh

    # GCC Options
    export LDFLAGS=-no-undefined

Thanks all for helping!

-R
~~~~~~~~~~~~~~~
Subversion Cygwin make

cd subversion/tests/libsvn_fs_base && /bin/sh /home/ausername/compileEverything/.cpl/src/subversion-1.6.17/libtool --tag=CC --silent --mode=link gcc  -I/home/ausername/compileEverything/usr/local/include -I/home/ausername/compileEverything/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL     -L/home/ausername/compileEverything/usr/local/lib -L/home/ausername/compileEverything/usr/local/ssl/lib -L/home/ausername/compileEverything/usr/local/apps/python/lib -Wl,-rpath=/home/ausername/compileEverything/usr/local/lib:/home/ausername/compileEverything/usr/local/ssl/lib:/home/ausername/compileEverything/usr/local/apps/svn/lib:/home/ausername/compileEverything/usr/local/apps/python/lib:/home/ausername/compileEverything/usr/local/apps/gcc/lib    -L/home/ausername/compileEverything/usr/local/lib -L/home/ausername/compileEverything/usr/local/lib  -rpath /home/ausername/compileEverything/usr/local/apps/subversion-1.6.17/lib -o strings-reps-test.exe  strings-reps-test.o ../../../subversion/tests/libsvn_test-1.la ../../../subversion/libsvn_fs/libsvn_fs-1.la ../../../subversion/libsvn_fs_base/libsvn_fs_base-1.la ../../../subversion/libsvn_delta/libsvn_delta-1.la ../../../subversion/libsvn_subr/libsvn_subr-1.la /home/ausername/compileEverything/usr/local/libs/aprutil-1.2.2/lib/libaprutil-1.la -lldap -llber -lssl -lsasl2 -ldb -lcrypto -llber -lgdbm -lexpat -liconv /home/ausername/compileEverything/usr/local/libs/apr-1.2.2/lib/libapr-1.la -lcrypt -lintl -lapr -lintl -lsasl2 -ldb -lcrypto

/home/ausername/compileEverything/usr/local/bin/msgfmt  -o subversion/po/de.mo subversion/po/de.po
make: *** [subversion/po/de.mo] Aborted
Means that gettext exe like msgfmt actually hang! => to investigate
~~~~~~~~~~~~~~~
gettext Cygwin make

Actually, it hangs because of the premake steps, remove them for Cywin and it works.
But it always generate an error 127 when executed
http://web.archiveorange.com/archive/v/8XiUW7pNJcx3JSdHlX1p
the price we pay for using gettext-0.14
Make distcheck currently fails like this:

    make[2]: Entering directory `/t/libvirt-0.7.6/_build/po'
    /bin/sh @MKINSTALLDIRS@ /t/libvirt-0.7.6/_inst/share
    /bin/sh: @MKINSTALLDIRS@: No such file or directory
    make[2]: *** [install-data-yes] Error 127

That is due to our use of a version of gettext that is way too old:

    $ grep GETT configure.ac
    AM_GNU_GETTEXT_VERSION([0.14.1])

The work-around is to define (via AC_SUBST) the now-obsolete symbol,
MKINSTALLDIRS, so that @MKINSTALLDIRS@ in the autopoint-provided
Makefile.in.in (from the old version of gettext) ends up being
substituted.

As I recall, people insist on using this old version of gettext,
because nothing newer is supplied by RHEL5.x.  IMHO, that is RHEL5's
problem, and should not be allowed to cause continuing problems
in upstream projects.  It is easy and safe to install a newer version
of gettext, especially since any project using autopoint will
automatically continue to get the same bit-rotting old files:
a gettext installation includes an archive of all older versions
of its files, to provide just this type of backwards compatibility.

We had a similar problem in libguestfs, and it was not trivial to diagnose
there, either, even though I'd seen it at least once or twice before then.

Here's the work-around:
[just realized this requires a comment.  adding that now]

>From 16b9418427101a495b7fdd6917f518f254d22720 Mon Sep 17 00:00:00 2001
From: Jim Meyering <meye...@redhat.com>
Date: Wed, 24 Feb 2010 10:53:44 +0100
Subject: [PATCH] build: ensure that MKINSTALLDIRS is AC_SUBST-defined

since we're using gettext-0.14.1, which uses that now-obsolete
automake symbol.  Otherwise, make distcheck would fails like this:

    make[2]: Entering directory `/t/libvirt-0.7.6/_build/po'
    /bin/sh @MKINSTALLDIRS@ /t/libvirt-0.7.6/_inst/share
    /bin/sh: @MKINSTALLDIRS@: No such file or directory
    make[2]: *** [install-data-yes] Error 127

* configure.ac (MKINSTALLDIRS): Define.
---
 configure.ac |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/configure.ac b/configure.ac
index 117cb20..2f79970 100644
--- a/configure.ac
+++ b/configure.ac
@@ -49,6 +49,8 @@ AC_PROG_CPP

 AC_OBJEXT

+AC_SUBST([MKINSTALLDIRS], [$ac_aux_dir/mkinstalldirs])
+
 dnl gl_INIT uses m4_foreach_w, yet that is not defined in autoconf-2.59.
 dnl In order to accommodate developers with such old tools, here's a
 dnl replacement definition.
~~~~~~~~~~~~~~~~
Cygwin libxslt make
libtool: link: gcc -shared  .libs/exslt.o .libs/common.o .libs/crypto.o .libs/math.o .libs/sets.o .libs/functions.o .libs/strings.o .libs/date.o .libs/saxon.o .libs/dynamic.o   -L/home/ausername/compileEverything/usr/local/libs/libgcrypt-1.4.6/lib -L/home/ausername/compileEverything/usr/local/lib -L/home/ausername/compileEverything/usr/local/ssl/lib -L/home/ausername/compileEverything/usr/local/apps/python/lib -L/home/ausername/compileEverything/usr/local/libs/libgpgerror-1.10/lib -L/home/ausername/compileEverything/usr/local/libs/gettext-0.18.1.1/lib -L/home/ausername/compileEverything/usr/local/libs/libiconv-1.14/lib /home/ausername/compileEverything/usr/local/libs/gettext-0.18.1.1/lib/libintl.dll.a ../libxslt/.libs/libxslt.dll.a -L/home/ausername/compileEverything/usr/local/libs/libxml2-2.7.8/lib /home/ausername/compileEverything/usr/local/libs/libxml2-2.7.8/lib/libxml2.dll.a -lz /home/ausername/compileEverything/usr/local/libs/libiconv-1.14/lib/libiconv.dll.a  -Wl,-rpath=/home/ausername/compileEverything/usr/local/lib:/home/ausername/compileEverything/usr/local/ssl/lib:/home/ausername/compileEverything/usr/local/apps/svn/lib:/home/ausername/compileEverything/usr/local/apps/python/lib:/home/ausername/compileEverything/usr/local/apps/gcc/lib   -o .libs/cygexslt-0.dll -Wl,--enable-auto-image-base -Xlinker --out-implib -Xlinker .libs/libexslt.dll.a
Creating library file: .libs/libexslt.dll.a
.libs/crypto.o:crypto.c:(.text+0x12e): undefined reference to `_gcry_check_version'
.libs/crypto.o:crypto.c:(.text+0x16a): undefined reference to `_gcry_md_hash_buffer'
.libs/crypto.o:crypto.c:(.text+0x19f): undefined reference to `_gcry_cipher_open'
.libs/crypto.o:crypto.c:(.text+0x1ab): undefined reference to `_gcry_strerror'

need to add -lgcrypt -lgpg-error -lintl in the configure part, in order to generate the right libtool
But add also
      new_libs="-lgcrypt -lgpg-error -lintl $new_libs" at line 6536
----
Cygwin libxslt make
Making all in xsltproc
make[2] : on entre dans le rpertoire  /home/ausername/compileEverything/.cpl/src/libxslt-1.1.26/xsltproc 
/bin/sh ../libtool --tag=CC   --mode=link gcc -I/home/ausername/compileEverything/usr/local/libs/libgcrypt-1.4.6/include -I/home/ausername/compileEverything/usr/l
ocal/libs/libgpgerror-1.10/include -I/home/ausername/compileEverything/usr/local/include -I/home/ausername/compileEverything/usr/local/ssl/include -O -U_FORTIFY_S
OURCE -DHAVE_STRSIGNAL -Wall  -L/home/ausername/compileEverything/usr/local/lib -L/home/ausername/compileEverything/usr/local/ssl/lib -L/home/ausername/compileEver
ything/usr/local/apps/python/lib -Wl,-rpath=/home/ausername/compileEverything/usr/local/lib:/home/ausername/compileEverything/usr/local/ssl/lib:/home/ausername/com
pileEverything/usr/local/apps/svn/lib:/home/ausername/compileEverything/usr/local/apps/python/lib:/home/ausername/compileEverything/usr/local/apps/gcc/lib -o xslt
proc.exe xsltproc.o -L/home/ausername/compileEverything/usr/local/libs/libgcrypt-1.4.6/lib -lgcrypt -L/home/ausername/compileEverything/usr/local/libs/libgpgerror
-1.10/lib -lgpg-error ../libxslt/libxslt.la ../libexslt/libexslt.la -L/home/ausername/compileEverything/usr/local/libs/libxml2-2.7.8/lib -lxml2 -L/home/ausername/
compileEverything/usr/local/lib -lz -L/home/ausername/compileEverything/usr/local/lib -liconv -lm -L/home/ausername/compileEverything/usr/local/libs/libxml2-2.7.8
/lib -lxml2 -L/home/ausername/compileEverything/usr/local/lib -lz -L/home/ausername/compileEverything/usr/local/lib -liconv -lm
libtool: link: gcc -I/home/ausername/compileEverything/usr/local/libs/libgcrypt-1.4.6/include -I/home/ausername/compileEverything/usr/local/libs/libgpgerror-1.10/
include -I/home/ausername/compileEverything/usr/local/include -I/home/ausername/compileEverything/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL -Wal
l -Wl,-rpath=/home/ausername/compileEverything/usr/local/lib:/home/ausername/compileEverything/usr/local/ssl/lib:/home/ausername/compileEverything/usr/local/apps/s
vn/lib:/home/ausername/compileEverything/usr/local/apps/python/lib:/home/ausername/compileEverything/usr/local/apps/gcc/lib -o .libs/xsltproc.exe xsltproc.o  -lgc
rypt -lgpg-error -lintl -L/home/ausername/compileEverything/usr/local/lib -L/home/ausername/compileEverything/usr/local/ssl/lib -L/home/ausername/compileEverything
/usr/local/apps/python/lib -L/home/ausername/compileEverything/usr/local/libs/libgpgerror-1.10/lib -L/home/ausername/compileEverything/usr/local/libs/libgcrypt-1.
4.6/lib ../libxslt/.libs/libxslt.dll.a -L/home/ausername/compileEverything/usr/local/libs/libxml2-2.7.8/lib ../libexslt/.libs/libexslt.a /home/ausername/compileEv
erything/.cpl/src/libxslt-1.1.26/libxslt/.libs/libxslt.dll.a /home/ausername/compileEverything/usr/local/libs/gettext-0.18.1.1/lib/libintl.dll.a /home/ausername/c
ompileEverything/usr/local/libs/libxml2-2.7.8/lib/libxml2.dll.a -lz /home/ausername/compileEverything/usr/local/libs/libiconv-1.14/lib/libiconv.dll.a /home/43640
119/compileEverything/usr/local/libs/libgcrypt-1.4.6/lib/libgcrypt.a /home/ausername/compileEverything/usr/local/libs/libgpgerror-1.10/lib/libgpg-error.a -L/home
/ausername/compileEverything/usr/local/libs/gettext-0.18.1.1/lib -L/home/ausername/compileEverything/usr/local/libs/libxslt-1.1.26/lib -L/home/ausername/compileEve
rything/usr/local/libs/libxml2-2.7.8/lib -L/home/ausername/compileEverything/usr/local/libs/libiconv-1.14/lib
/home/ausername/compileEverything/usr/local/libs/libgpgerror-1.10/lib/libgpg-error.a(libgpg_error_la-strerror.o):strerror.c:(.text+0xa4): undefined reference to
`_libintl_dgettext'
/home/ausername/compileEverything/usr/local/libs/libgpgerror-1.10/lib/libgpg-error.a(libgpg_error_la-strerror.o):strerror.c:(.text+0x206): undefined reference to
 `_libintl_dgettext'
/home/ausername/compileEverything/usr/local/libs/libgpgerror-1.10/lib/libgpg-error.a(libgpg_error_la-strsource.o):strsource.c:(.text+0x3e): undefined reference t
o `_libintl_dgettext'
collect2: ld returned 1 exit status
make[2]: *** [xsltproc.exe] Erreur 1
make[2] : on quitte le rpertoire  /home/ausername/compileEverything/.cpl/src/libxslt-1.1.26/xsltproc 
make[1]: *** [all-recursive] Erreur 1
make[1] : on quitte le rpertoire  /home/ausername/compileEverything/.cpl/src/libxslt-1.1.26 
make: *** [all] Erreur 2

Add to libtool
if test "${my_cmd#gcc*}" != "$my_cmd" ; then eval "$my_cmd -lintl -lgettextlib   -lgettextpo" ; else eval "$my_cmd" ; fi
instead of just eval "$my_cmd"
~~~~~~~~~~~~~~~~~
Ubuntu gettext make
ibtool: compile:  gcc -c -DLOCALEDIR=\"/home/userapp/compileEverything/usr/local/libs/gettext-0.18.1.1/share/locale\" -DLOCALE_ALIAS_PATH=\"/home/userapp/compileEverything/usr/local/libs/gettext-0.18.1.1/share/locale\" -DLIBDIR=\"/home/userapp/compileEverything/usr/local/libs/gettext-0.18.1.1/lib\" -DBUILDING_LIBINTL -DBUILDING_DLL -DIN_LIBINTL -DENABLE_RELOCATABLE=1 -DIN_LIBRARY -DINSTALLDIR=\"/home/userapp/compileEverything/usr/local/libs/gettext-0.18.1.1/lib\" -DNO_XMALLOC -Dset_relocation_prefix=libintl_set_relocation_prefix -Drelocate=libintl_relocate -DDEPENDS_ON_LIBICONV=1 -DHAVE_CONFIG_H -I. -I. -I.. -I/home/userapp/compileEverything/usr/local/include -I/home/userapp/compileEverything/usr/local/ssl/include -fPIC -O -U_FORTIFY_SOURCE -I/home/userapp/compileEverything/usr/local/include -I/home/userapp/compileEverything/usr/local/ssl/include -fPIC -O -U_FORTIFY_SOURCE -fvisibility=hidden ./bindtextdom.c  -fPIC -DPIC -o .libs/bindtextdom.o
In file included from ./gettextP.h:72:0,
                 from ./bindtextdom.c:28:
./libgnuintl.h: In function __declspec:
./libgnuintl.h:142:35: error: storage class specified for parameter 'libintl_gettext'
./libgnuintl.h:144:8: warning: '__visibility__' attribute ignored
./libgnuintl.h:160:35: error: storage class specified for parameter 'libintl_dgettext'
./libgnuintl.h:162:8: warning: '__visibility__' attribute ignored
./libgnuintl.h:180:35: error: storage class specified for parameter 'libintl_dcgettext'
./libgnuintl.h:183:8: warning: '__visibility__' attribute ignored
./libgnuintl.h:202:35: error: storage class specified for parameter 'libintl_ngettext'
./libgnuintl.h:205:8: warning: '__visibility__' attribute ignored
./libgnuintl.h:223:35: error: storage class specified for parameter 'libintl_dngettext'
./libgnuintl.h:227:8: warning: '__visibility__' attribute ignored
./libgnuintl.h:247:35: error: storage class specified for parameter 'libintl_dcngettext'
./libgnuintl.h:251:8: warning: '__visibility__' attribute ignored
./libgnuintl.h:269:35: error: storage class specified for parameter 'libintl_textdomain'
./libgnuintl.h:270:8: warning: '__visibility__' attribute ignored
./libgnuintl.h:287:35: error: storage class specified for parameter 'libintl_bindtextdomain'
./libgnuintl.h:288:8: warning: '__visibility__' attribute ignored
./libgnuintl.h:305:35: error: storage class specified for parameter 'libintl_bind_textdomain_codeset'
./libgnuintl.h:307:8: warning: '__visibility__' attribute ignored
./libgnuintl.h:462:8: error: storage class specified for parameter 'libintl_set_relocation_prefix'
./libgnuintl.h:463:39: warning: '__visibility__' attribute ignored
In file included from ./bindtextdom.c:28:0:
./gettextP.h:80:14: error: storage class specified for parameter 'libintl_dcigettext'
In file included from ./gettextP.h:87:0,
                 from ./bindtextdom.c:28:
./loadinfo.h:65:1: warning: empty declaration
./loadinfo.h:81:20: error: storage class specified for parameter '_nl_normalize_codeset'
./loadinfo.h:99:1: error: storage class specified for parameter '_nl_make_l10nflist'
./loadinfo.h:110:41: error: storage class specified for parameter '_nl_expand_alias'
./loadinfo.h:110:1: warning: '__visibility__' attribute ignored
./loadinfo.h:127:12: error: storage class specified for parameter '_nl_explode_name'
In file included from ./gettextP.h:89:0,
                 from ./bindtextdom.c:28:
./gmo.h:56:18: error: storage class specified for parameter 'nls_uint32'
./gmo.h:76:3: error: expected specifier-qualifier-list before 'nls_uint32'
./gmo.h:73:1: warning: empty declaration
./gmo.h:111:3: error: expected specifier-qualifier-list before 'nls_uint32'
./gmo.h:108:1: warning: empty declaration
./gmo.h:122:3: error: expected specifier-qualifier-list before 'nls_uint32'
./gmo.h:119:1: warning: empty declaration
./gmo.h:131:3: error: expected specifier-qualifier-list before 'nls_uint32'
./gmo.h:128:1: warning: empty declaration
./gmo.h:140:3: error: expected specifier-qualifier-list before 'nls_uint32'
./gmo.h:137:1: warning: empty declaration
In file included from ./bindtextdom.c:28:0:
./gettextP.h:120:1: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'SWAP'
./gmo.h:56:18: error: declaration for parameter 'nls_uint32' but no such parameter
./loadinfo.h:127:12: error: declaration for parameter '_nl_explode_name' but no such parameter
./loadinfo.h:110:41: error: declaration for parameter '_nl_expand_alias' but no such parameter
./loadinfo.h:99:1: error: declaration for parameter '_nl_make_l10nflist' but no such parameter
./loadinfo.h:81:20: error: declaration for parameter '_nl_normalize_codeset' but no such parameter
./gettextP.h:80:14: error: declaration for parameter 'libintl_dcigettext' but no such parameter
./libgnuintl.h:462:8: error: declaration for parameter 'libintl_set_relocation_prefix' but no such parameter
./libgnuintl.h:305:35: error: declaration for parameter 'libintl_bind_textdomain_codeset' but no such parameter
./libgnuintl.h:287:35: error: declaration for parameter 'libintl_bindtextdomain' but no such parameter
./libgnuintl.h:269:35: error: declaration for parameter 'libintl_textdomain' but no such parameter
./libgnuintl.h:247:35: error: declaration for parameter 'libintl_dcngettext' but no such parameter
./libgnuintl.h:223:35: error: declaration for parameter 'libintl_dngettext' but no such parameter
./libgnuintl.h:202:35: error: declaration for parameter 'libintl_ngettext' but no such parameter
./libgnuintl.h:180:35: error: declaration for parameter 'libintl_dcgettext' but no such parameter
./libgnuintl.h:160:35: error: declaration for parameter 'libintl_dgettext' but no such parameter
./libgnuintl.h:142:35: error: declaration for parameter 'libintl_gettext' but no such parameter
./libgnuintl.h:66:56: error: declaration for parameter 'libintl_version' but no such parameter
./gettextP.h:124:11: error: 'i' undeclared (first use in this function)
./gettextP.h:124:11: note: each undeclared identifier is reported only once for each function it appears in
./gettextP.h: At top level:
./gettextP.h:173:3: error: expected specifier-qualifier-list before 'nls_uint32'
make[3]: *** [bindtextdom.lo] Error 1
make[3]: Leaving directory `/home/userapp/compileEverything/.cpl/src/gettext-0.18.1.1/gettext-runtime/intl'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/home/userapp/compileEverything/.cpl/src/gettext-0.18.1.1/gettext-runtime'
make[1]: *** [all] Error 2
make[1]: Leaving directory `/home/userapp/compileEverything/.cpl/src/gettext-0.18.1.1/gettext-runtime'
make: *** [all-recursive] Error 1

=> The premake "fixes" are no longer needed for a 0.18.1.1
----------------
Cygwin NGinX make
make[2] : on entre dans le rpertoire  /home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl 
cp nginx.pm blib/lib/nginx.pm
/home/ausername/compileEverything/usr/local/apps/perl-5.12.3/bin/perl.exe /home/ausername/compileEverything/usr/local/apps/perl/lib/current/ExtUtils/xsubpp  -typemap /home/ausername/compileEverything/usr/local/apps/perl-5.12.3/lib/5.12.3/ExtUtils/typemap -typemap typemap  nginx.xs > nginx.xsc && mv nginx.xsc nginx.c
Please specify prototyping behavior for nginx.xs (see perlxs manual)
gcc -c  -I ../../../../../src/core -I ../../../../../src/event -I ../../../../../src/os/unix -I ../../../../../src/http -I ../../../../../src/http/modules -I ../../../../../src/http/modules/perl -I ../../../../../objs  -DPERL_USE_SAFE_PUTENV -U__STRICT_ANSI__ -fno-strict-aliasing -pipe -I/home/ausername/compileEverything/usr/local/apps/perl-5.12.3/lib/5.12.3/cygwin-thread-multi-64int/CORE -g -I/home/ausername/compileEverything/usr/local/include -I/home/ausername/compileEverything/usr/local/ssl/include -DUSEIMPORTLIB -O   -DVERSION=\"1.0.8\" -DXS_VERSION=\"1.0.8\"  "-I/home/ausername/compileEverything/usr/local/apps/perl-5.12.3/lib/5.12.3/cygwin-thread-multi-64int/CORE"   nginx.c
Running Mkbootstrap for nginx ()
chmod 644 nginx.bs
rm -f blib/arch/auto/nginx/nginx.dll
g++  --shared  -Wl,--enable-auto-import -Wl,--export-all-symbols -Wl,--stack,8388608 -Wl,--enable-auto-image-base -L/home/ausername/compileEverything/usr/local/lib nginx.o  -o blib/arch/auto/nginx/nginx.dll 	\
  /home/ausername/compileEverything/usr/local/apps/perl-5.12.3/lib/5.12.3/cygwin-thread-multi-64int/CORE/cygperl5_12_3.dll   	\
  
nginx.o: dans la fonction << ngx_http_perl_sv2str >>:
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:45: r'ef'erence ind'efinie vers << _ngx_log_error_core >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:51: r'ef'erence ind'efinie vers << _ngx_pnalloc >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:58: r'ef'erence ind'efinie vers << _ngx_log_error_core >>
nginx.o: dans la fonction << ngx_http_perl_output >>:
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:73: r'ef'erence ind'efinie vers << _ngx_http_perl_module >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:76: r'ef'erence ind'efinie vers << _ngx_alloc_chain_link >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:93: r'ef'erence ind'efinie vers << _ngx_http_output_filter >>
nginx.o: dans la fonction << XS_nginx_status >>:
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:110: r'ef'erence ind'efinie vers << _ngx_log_error_core >>
nginx.o: dans la fonction << XS_nginx_send_http_header >>:
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:141: r'ef'erence ind'efinie vers << _ngx_http_set_content_type >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:146: r'ef'erence ind'efinie vers << _ngx_http_send_header >>
nginx.o: dans la fonction << XS_nginx_header_in >>:
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:245: r'ef'erence ind'efinie vers << _ngx_pnalloc >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:250: r'ef'erence ind'efinie vers << _ngx_hash_strlow >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:252: r'ef'erence ind'efinie vers << _ngx_http_core_module >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:254: r'ef'erence ind'efinie vers << _ngx_hash_find >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:292: r'ef'erence ind'efinie vers << _ngx_pnalloc >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:331: r'ef'erence ind'efinie vers << _ngx_strcasecmp >>
nginx.o: dans la fonction << XS_nginx_has_request_body >>:
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:363: r'ef'erence ind'efinie vers << _ngx_http_perl_module >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:374: r'ef'erence ind'efinie vers << _ngx_http_perl_handle_request >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:374: r'ef'erence ind'efinie vers << _ngx_http_read_client_request_body >>
nginx.o: dans la fonction << XS_nginx_discard_request_body >>:
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:437: r'ef'erence ind'efinie vers << _ngx_http_discard_request_body >>
nginx.o: dans la fonction << XS_nginx_header_out >>:
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:454: r'ef'erence ind'efinie vers << _ngx_list_push >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:469: r'ef'erence ind'efinie vers << _ngx_strncasecmp >>
nginx.o: dans la fonction << XS_nginx_filename >>:
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:489: r'ef'erence ind'efinie vers << _ngx_http_perl_module >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:494: r'ef'erence ind'efinie vers << _ngx_http_map_uri_to_path >>
nginx.o: dans la fonction << XS_nginx_print >>:
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:543: r'ef'erence ind'efinie vers << _ngx_pcalloc >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:554: r'ef'erence ind'efinie vers << _ngx_log_error_core >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:573: r'ef'erence ind'efinie vers << _ngx_log_error_core >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:583: r'ef'erence ind'efinie vers << _ngx_create_temp_buf >>
nginx.o: dans la fonction << XS_nginx_sendfile >>:
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:628: r'ef'erence ind'efinie vers << _ngx_pcalloc >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:633: r'ef'erence ind'efinie vers << _ngx_pcalloc >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:640: r'ef'erence ind'efinie vers << _ngx_pnalloc >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:645: r'ef'erence ind'efinie vers << _ngx_cpystrn >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:647: r'ef'erence ind'efinie vers << _ngx_http_core_module >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:658: r'ef'erence ind'efinie vers << _ngx_open_cached_file >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:665: r'ef'erence ind'efinie vers << _ngx_log_error_core >>
nginx.o: dans la fonction << XS_nginx_flush >>:
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:699: r'ef'erence ind'efinie vers << _ngx_pcalloc >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:706: r'ef'erence ind'efinie vers << _ngx_log_error_core >>
nginx.o: dans la fonction << XS_nginx_internal_redirect >>:
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:726: r'ef'erence ind'efinie vers << _ngx_http_perl_module >>
nginx.o: dans la fonction << XS_nginx_unescape >>:
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:772: r'ef'erence ind'efinie vers << _ngx_pnalloc >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:781: r'ef'erence ind'efinie vers << _ngx_unescape_uri >>
nginx.o: dans la fonction << XS_nginx_variable >>:
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:829: r'ef'erence ind'efinie vers << _ngx_pnalloc >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:834: r'ef'erence ind'efinie vers << _ngx_hash_strlow >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:841: r'ef'erence ind'efinie vers << _ngx_log_error_core >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:844: r'ef'erence ind'efinie vers << _ngx_log_error_core >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:849: r'ef'erence ind'efinie vers << _ngx_http_get_variable >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:856: r'ef'erence ind'efinie vers << _ngx_http_perl_module >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:883: r'ef'erence ind'efinie vers << _ngx_array_create >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:890: r'ef'erence ind'efinie vers << _ngx_array_push >>
nginx.o: dans la fonction << XS_nginx_sleep >>:
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:937: r'ef'erence ind'efinie vers << _ngx_log_error_core >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:940: r'ef'erence ind'efinie vers << _ngx_http_perl_module >>
nginx.o: dans la fonction << XS_nginx_sleep >>:
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/../../../../../src/event/ngx_event_timer.h:63: r'ef'erence ind'efinie vers << _ngx_current_msec >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/../../../../../src/event/ngx_event_timer.h:76: r'ef'erence ind'efinie vers << _ngx_log_error_core >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/../../../../../src/event/ngx_event_timer.h:37: r'ef'erence ind'efinie vers << _ngx_log_error_core >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/../../../../../src/event/ngx_event_timer.h:43: r'ef'erence ind'efinie vers << _ngx_event_timer_rbtree >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/../../../../../src/event/ngx_event_timer.h:43: r'ef'erence ind'efinie vers << _ngx_rbtree_delete >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/../../../../../src/event/ngx_event_timer.h:87: r'ef'erence ind'efinie vers << _ngx_log_error_core >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/../../../../../src/event/ngx_event_timer.h:93: r'ef'erence ind'efinie vers << _ngx_event_timer_rbtree >>
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/../../../../../src/event/ngx_event_timer.h:93: r'ef'erence ind'efinie vers << _ngx_rbtree_insert >>
nginx.o: dans la fonction << XS_nginx_sleep >>:
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:946: r'ef'erence ind'efinie vers << _ngx_http_perl_sleep_handler >>
nginx.o: dans la fonction << XS_nginx_log_error >>:
/home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl/nginx.xs:978: r'ef'erence ind'efinie vers << _ngx_log_error_core >>
collect2: ld a retourn 1 code d'tat d'excution
make[2]: *** [blib/arch/auto/nginx/nginx.dll] Erreur 1
make[2] : on quitte le rpertoire  /home/ausername/compileEverything/.cpl/src/nginx-1.0.8/objs/src/http/modules/perl 
make[1]: *** [objs/src/http/modules/perl/blib/arch/auto/nginx/nginx.so] Erreur 2
make[1] : on quitte le rpertoire  /home/ausername/compileEverything/.cpl/src/nginx-1.0.8 
make: *** [build] Erreur 2

ausername@anhostname ~/compileEverything
$ find .cpl/src/nginx-1.0.8/ -name "*.o" | xargs nm -A | grep ngx_log_error_core | grep T
.cpl/src/nginx-1.0.8/objs/src/core/ngx_log.o:00000000 T _ngx_log_error_core

ausername@anhostname ~/compileEverything
$ find .cpl/src/nginx-1.0.8/ -name "*.o" | xargs nm -A | grep ngx_pnalloc | grep T
.cpl/src/nginx-1.0.8/objs/src/core/ngx_palloc.o:00000222 T _ngx_pnalloc

ausername@anhostname ~/compileEverything
$ find .cpl/src/nginx-1.0.8/ -name "*.o" | xargs nm -A | grep ngx_http_perl_module | grep T


../../../core/ngx_log.o
../../../core/ngx_palloc.o
ngx_http_perl_module.o
../../../core/ngx_buf.o
../../ngx_http_core_module.o
../../../core/ngx_hash.o
../../../core/ngx_string.o
../../ngx_http_request_body.o
../../../core/ngx_list.o
../../../core/ngx_open_file_cache.o
../../ngx_http_variables.o
../../../core/ngx_array.o
../../../core/ngx_conf_file.o

g++  --shared  -Wl,--enable-auto-import -Wl,--export-all-symbols -Wl,--stack,8388608 -Wl,--enable-auto-image-base -L/home/auser/compileEverything/usr/local/lib nginx.o ../../../core/ngx_log.o ../../../core/ngx_palloc.o ngx_http_perl_module.o ../../../core/ngx_buf.o ../../ngx_http_core_module.o ../../../core/ngx_hash.o ../../../core/ngx_string.o ../../ngx_http_request_body.o ../../../core/ngx_list.o ../../../core/ngx_open_file_cache.o ../../ngx_http_variables.o ../../../core/ngx_array.o ../../../core/ngx_conf_file.o -o blib/arch/auto/nginx/nginx.dll /home/auser/compileEverything/usr/local/apps/perl-5.12.3/lib/5.12.3/cygwin-thread-multi-64int/CORE/cygperl5_12_3.dll


~~~~~~~~~~~~~~~~
auser@vonc-VirtualBox:~/gitolite$ git clone https://itsvcprdgit:8453/hgit/demo
[ VonC,vonc@laposte.net for github.com ]
Enter your Windows password: Cloning into demo...
error: SSL certificate problem, verify that the CA cert is OK. Details:
error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed while accessing https://itsvcprdgit:8453/hgit/demo/info/refs

Check .gitconfig
[http]
	sslcainfo = /home/auser/compileEverything/.ssh/curl-ca-bundle.crt
Check certificates for itsvcprdgit and itsvc at the end of .ssh/curl-ca-bundle.crt
Check which .netrc is generated according to the current git alias

fatal: HTTP request failed
auser@vonc-VirtualBox:~/gitolite$ export GIT_CURL_VERBOSE=1
auser@vonc-VirtualBox:~/gitolite$ git clone https://itsvcprdgit:8453/hgit/demo.git
[ VonC,vonc@laposte.net for github.com ]
Enter your Windows password: Cloning into demo...
* Couldn't find host itsvcprdgit in the .netrc file; using defaults
* About to connect() to itsvcprdgit port 8453 (#0)

auser@vonc-VirtualBox:~/gitolite$ git clone https://itsvcprdgit:8453/hgit/demo
[ VonC,vonc@laposte.net for github.com ]
Enter your Windows password: Cloning into demo...
error: SSL: certificate subject name 'itsvcprdgit.world.company' does not match target host name 'itsvcprdgit' while accessing https://itsvcprdgit:8453/hgit/demo/info/refs

fatal: HTTP request failed
auser@vonc-VirtualBox:~/gitolite$ git clone https://itsvcprdgit.world.company:8453/hgit/demo
[ VonC,vonc@laposte.net for github.com ]
Enter your Windows password: Cloning into demo...
Username: 
Password: 
error: The requested URL returned error: 500 while accessing https://itsvcprdgit.world.company:8453/hgit/demo/info/refs

fatal: HTTP request failed

Check: /home/auser/compileEverything/apache/githttp_error_log
[Sat Oct 29 17:47:56 2011] [error] [client 127.0.0.1] Use of uninitialized value $ENV{"GIT_HTTP_BACKEND"} in exec at /home/auser/compileEverything/gitolite/bin/gl-auth-command line 188.

Add at the beginning of .gitolite.rc
$ENV{GIT_HTTP_BACKEND} = "$ENV{HOME}/usr/local/git/libexec/git-core/git-http-backend";
    # or wherever you have that file; note: NO trailing slash
$ENV{PATH} .= ":$ENV{GITOLITE_HTTP_HOME}/.gitolite/src";
    # note the ".=" here, not "="
~~~~~~~~~~~~~~
Ubuntu cgit make
shared.c: In function `cgit_diff_tree':
shared.c:318: error: structure has no member named `nr_paths'
shared.c:319: error: structure has no member named `paths'
shared.c:321: error: structure has no member named `pathlens'

cgit uses an old (January 2011) git1.7.4

-    if (rev->diffopt.nr_paths != 1)
+    if (rev->diffopt.pathspec.nr != 1)

-  revs.prune_data = opt->paths;
+  revs.prune_data = opt->pathspec.raw;

-  free(opt->pathlens);
+  free_pathspec(&opt->pathspec);

		opt.pathspec.nr = 1;
		opt.pathspec.raw = &prefix;
		prefixlen = strlen(prefix);
		//&opt.pathlens = &prefixlen;
        
~~~~~~~~~~~~~~~~~
NGinx access issue
http://stackoverflow.com/questions/4547233/nginx-passenger-rails-403-forbidden-error
http://wiki.nginx.org/HttpAutoindexModule
~~~~~~~~~~~~~
auser@vonc-VirtualBox:~/gitolite/demo$ curl --cacert /home/auser/compileEverything/openssl/cert.pem -n -vvv https://itsvcprdgit.world.company:8453/hgit/
* About to connect() to itsvcprdgit.world.company port 8453 (#0)
*   Trying 127.0.0.1... connected
* Connected to itsvcprdgit.world.company (127.0.0.1) port 8453 (#0)
* successfully set certificate verify locations:
*   CAfile: /home/auser/compileEverything/openssl/cert.pem
  CApath: none
* SSLv3, TLS handshake, Client hello (1):
* SSLv3, TLS handshake, Server hello (2):
* SSLv3, TLS handshake, CERT (11):
* SSLv3, TLS alert, Server hello (2):
* SSL certificate problem, verify that the CA cert is OK. Details:
error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed
* Closing connection #0
curl: (60) SSL certificate problem, verify that the CA cert is OK. Details:
error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed
More details here: http://curl.haxx.se/docs/sslcerts.html

curl performs SSL certificate verification by default, using a "bundle"
 of Certificate Authority (CA) public keys (CA certs). If the default
 bundle file isn't adequate, you can specify an alternate file
 using the --cacert option.
If this HTTPS server uses a certificate signed by a CA represented in
 the bundle, the certificate verification probably failed due to a
 problem with the certificate (it might be expired, or the name might
 not match the domain name in the URL).
If you'd like to turn off curl's verification of the certificate, use
 the -k (or --insecure) option.
----
auser@vonc-VirtualBox:~/gitolite/demo$ openssl s_client -host itsvcprdgit.world.company -port 8453CONNECTED(00000003)
depth=0 C = FR, ST = France, L = Paris, O = company, CN = itsvcprdgit.world.company, emailAddress = itsvcprdgit@world.company
verify error:num=20:unable to get local issuer certificate
verify return:1
depth=0 C = FR, ST = France, L = Paris, O = company, CN = itsvcprdgit.world.company, emailAddress = itsvcprdgit@world.company
verify error:num=21:unable to verify the first certificate
verify return:1
---
Certificate chain
 0 s:/C=FR/ST=France/L=Paris/O=company/CN=itsvcprdgit.world.company/emailAddress=itsvcprdgit@world.company
   i:/C=FR/ST=France/L=Paris/O=company/CN=itsvcprdgit.world.company/emailAddress=itsvcprdgit@world.company
---
Server certificate
-----BEGIN CERTIFICATE-----
MIIC6TCCAlKgAwIBAgIJANipJrtF8+oVMA0GCSqGSIb3DQEBBQUAMIGOMQswCQYD
VQQGEwJGUjEPMA0GA1UECBMGRnJhbmNlMQ4wDAYDVQQHEwVQYXJpczEQMA4GA1UE
ChMHY29tcGFueTEiMCAGA1UEAxMZaXRzdmNwcmRnaXQud29ybGQuY29tcGFueTEo
MCYGCSqGSIb3DQEJARYZaXRzdmNwcmRnaXRAd29ybGQuY29tcGFueTAeFw0xMTEw
MzAxNzU2NTlaFw0xMzEwMjkxNzU2NTlaMIGOMQswCQYDVQQGEwJGUjEPMA0GA1UE
CBMGRnJhbmNlMQ4wDAYDVQQHEwVQYXJpczEQMA4GA1UEChMHY29tcGFueTEiMCAG
A1UEAxMZaXRzdmNwcmRnaXQud29ybGQuY29tcGFueTEoMCYGCSqGSIb3DQEJARYZ
aXRzdmNwcmRnaXRAd29ybGQuY29tcGFueTCBnzANBgkqhkiG9w0BAQEFAAOBjQAw
gYkCgYEAt8K8sqMNhgzTejdRmLOJm8VYZDOSYaOB3ynUmxGe0Eh1F0r9LnaRzzf2
Kc2geo0/tPsFFQJ0iLemn+RLG3yo4DHLuOW7FK/LH+vcx4Jn7hjefk//9fyFpXfV
I0VrrKL6t0gFwMi0cViU3dkQvr15JVV4eLLzcqaBzmWfVWu0gfMCAwEAAaNNMEsw
CQYDVR0TBAIwADALBgNVHQ8EBAMCBeAwMQYDVR0RBCowKIIZaXRzdmNwcmRnaXQu
d29ybGQuY29tcGFueYILaXRzdmNwcmRnaXQwDQYJKoZIhvcNAQEFBQADgYEAUq8K
/sAhKS9lkZKxavaeGYvV+hZnFRGNWyta9FzCxLsWNMpW9lcwongETctisltMdVmZ
DEy2eWKvYUqmRIbxZ5YqA/A+ib4R/kw6u4hup0lDjaWynvl+Gbid54IJyKCeHowJ
cdiQ9yqNVpour7gIFAkhl6fkphQhth9DuNNRPpw=
-----END CERTIFICATE-----
subject=/C=FR/ST=France/L=Paris/O=company/CN=itsvcprdgit.world.company/emailAddress=itsvcprdgit@world.company
issuer=/C=FR/ST=France/L=Paris/O=company/CN=itsvcprdgit.world.company/emailAddress=itsvcprdgit@world.company
---
No client certificate CA names sent
---
SSL handshake has read 1499 bytes and written 409 bytes
---
New, TLSv1/SSLv3, Cipher is DHE-RSA-AES256-SHA
Server public key is 1024 bit
Secure Renegotiation IS supported
Compression: zlib compression
Expansion: zlib compression
SSL-Session:
    Protocol  : TLSv1
    Cipher    : DHE-RSA-AES256-SHA
    Session-ID: 3A0C7F91E1A32CD9C81A27D4493E4FFEDEE86A77B5B5B94856D2712BFDCA378A
    Session-ID-ctx: 
    Master-Key: 47353CA0A0D602D80FD476F28035B66A543A29572B69BF86C0A3329A134D0F12521EF4A16330C399C7B741C61B70387F
    Key-Arg   : None
    PSK identity: None
    PSK identity hint: None
    TLS session ticket:
    0000 - 8f 59 28 1d d8 e9 92 6c-45 80 38 ba c1 a1 47 7c   .Y(....lE.8...G|
    0010 - 1e dd 85 73 15 ef 4d 98-31 f7 74 a6 bb 2c a1 f5   ...s..M.1.t..,..
    0020 - 14 ac 5a 65 87 68 00 b2-29 75 f2 7a 11 0a 57 74   ..Ze.h..)u.z..Wt
    0030 - 57 1d 83 f2 b5 79 f0 28-64 d9 91 f6 ba 11 55 82   W....y.(d.....U.
    0040 - b5 0e 4a 0d 5e 43 fa b9-06 0c 17 1f d6 e4 c1 c5   ..J.^C..........
    0050 - 5f 7b f5 24 0e c8 4b c1-e2 ee e0 24 bf 98 25 9a   _{.$..K....$..%.
    0060 - 76 89 8b 2d 59 9c 0b e1-e0 7b dc 27 04 eb d8 31   v..-Y....{.'...1
    0070 - 25 c5 35 9d c8 a9 71 cd-0c c2 96 8d 09 18 53 63   %.5...q.......Sc
    0080 - 48 3e 31 fd e1 d4 f4 87-4c 40 f5 2f 7a 2d 97 0e   H>1.....L@./z-..
    0090 - cb 2c 75 1a 57 c5 49 4b-a5 15 d8 d8 d2 be e6 ee   .,u.W.IK........
    00a0 - 43 10 35 ff c9 cd 60 07-52 80 61 32 02 cf f2 9a   C.5...`.R.a2....
    00b0 - c2 ea 64 f6 a1 53 79 30-8e b4 bf ec 25 9f 91 95   ..d..Sy0....%...

    Compression: 1 (zlib compression)
    Start Time: 1320613385
    Timeout   : 300 (sec)
    Verify return code: 21 (unable to verify the first certificate)
---

auser@vonc-VirtualBox:~/gitolite/demo$ openssl s_client -CAfile /home/auser/compileEverything/.ssh/curl-ca-bundle.crt -showcerts -connect itsvcprdgit.world.company:8453


=> openssl.conf had
basicConstraints = CA:FALSE
keyUsage = ...
instead of
basicConstraints = CA:TRUE
keyUsage = keyCertSign,...

=> self-signed certificate wasn't recognized as CA
~~~~~~~~~~~~~
auser@vonc-VirtualBox:~/gitolite/gitolite-admin$ ../../bin/git fetch
no rc file found
Compilation failed in require at /home/auser/compileEverything/gitolite/bin/gl-auth-command line 44.
BEGIN failed--compilation aborted at /home/auser/compileEverything/gitolite/bin/gl-auth-command line 44.
fatal: The remote end hung up unexpectedly

more ../../.ssh/authorized_keys 
# gitolite start
command="export HOME=/home/auser/compileEverything 
(full home was missing)


~----------------
2012/03/01-17:03:43 ~~~ ./configure --prefix=/home/auser/compileEverything/usr/local/libs/expat-2.0.1 --enable-shared --enable-static --with-gnu-ld
~~~~~~~~~~~~~~~~~~~
checking build system type... x86_64-unknown-linux-gnu
checking host system type... x86_64-unknown-linux-gnu
checking for gcc... gcc
checking for C compiler default output file name... configure: error: C compiler cannot create executables
See `config.log' for more details.
Said config.log contains:
gcc: @@M64@@: No such file or directory
gcc: @@CYGWIN@@: No such file or directory
gcc: @@M64@@: No such file or directory
gcc: @@CYGWIN@@: No such file or directory
Which means the .bashrc hasn't been correctly generated (hasn't recognized the uname -m or uname -o values)
~~--------------
auser:51 ahostname /home/auser/compileEverything #./make_env.sh -title="test"
make_env: define local home '/home/auser/compileEverything'.
/home/auser/compileEverything
./make_env.sh: line 203: gen_sed: command not found
!!!!_FAIL_!!!!
2012/03/01-17:03:43 ~ (see /home/auser/compileEverything/.cpl/logs/20120301.170343.configure_expat-2.0.1.log or simply tail -f /home/auser/compileEverything/.cpl/l
ogs/l)
!!!!_FAIL_!!!!
!!!!_FAIL_!!!!
~~-----
2012/03/02-11:36:25 ~ (see /home/auser/compileEverything/.cpl/logs/20120302.113625.premake_libxslt-1.1.26.log or simply tail -f /home/auser/compileEverything/.cpl/
logs/l)
!!!!_FAIL_!!!!
2012/03/02-11:36:25 ~~~ eval gen_sed -i "s/^VERSION_SCRIPT_FLAGS.*/VERSION_SCRIPT_FLAGS = /g" "/home/auser/compileEverything/.cpl/src/libxslt-1.1.26/libxslt/Makefile" ;
gen_sed -i "s/^LIBS = $/LIBS = -lgcrypt -lgpg-error -lintl -lgettextlib -lgettextpo /g" "/home/auser/compileEverything/.cpl/src/libxslt-1.1.26/Makefile" ; gen_sed -i 's/
\"\/usr\/lib /\"/home/auser/compileEverything\/usr\/local\/lib \/usr\/lib /g' /home/auser/compileEverything/.cpl/src/libxslt-1.1.26/libtool ; gen_sed -i 's/\"
\/lib /\"/home/auser/compileEverything\/usr\/local\/lib \/lib /g' /home/auser/compileEverything/.cpl/src/libxslt-1.1.26/libtool ; gen_sed -i "s/eval \"\$my_cm
d\"/if test \"\${my_cmd#gcc\*}" \!= \"\$my_cmd\" ; then eval \"\$my_cmd -lintl -lgettextlib -lgettextpo\" ; else eval \"\$my_cmd\" ; fi/g" /home/auser/compileEverything/
.cpl/src/libxslt-1.1.26/libtool ;
~~~~~~~~~~~~~~~~~~~
./make_env.sh: eval: line 185: syntax error near unexpected token `then'
A double-quote wasn't escaped
~~-------
2012/03/02-11:53:48 ~ (see /home/auser/compileEverything/.cpl/logs/20120302.115348.pre_nginx-1.0.12.log or simply tail -f /home/auser/compileEverything/.cpl/logs/l
)
!!!!_FAIL_!!!!
2012/03/02-11:53:48 ~~~ eval gen_sed -i "s/\([\"' IRL]\)\/usr\/local/\1\/home/auser/compileEverything\/usr\/local/g" "/home/auser/compileEverything/.cpl/src/nginx-1.0.12/auto/lib/libxslt/conf" ; gen_sed -i "s/\([\"' IRL]\)\/usr\/include/\1\/home/auser/compileEverything\/usr\/local\/include/g" "/home/auser/compileEverything/.cpl/src/nginx-1.0.12/auto/lib/libxslt/conf" ; gen_sed -i "s/\([\"' IRL]\)\/usr\/local\/include/\1\/home/auser/compileEverything\/usr\/local\/include/g" "/home/auser/compileEverything/.cpl/src/nginx-1.0.12/auto/lib/libxslt/conf" ; gen_sed -i "s/-lexslt\-lexslt -lgcrypt -lgpg-error -lxml2 -lxslt -lintl -lgettextpo/g" "/home/auser/compileEverything/.cpl/src/nginx-1.0.12/auto/lib/libxslt/conf"
~~~~~~~~~~~~~~~~~~~
/bin/sed: -e expression #1, char 73: unterminated `s' command
A \ was instead of a / in a sed expression
~~~---------
2012/03/02-12:06:40 ~ (see /home/auser/compileEverything/.cpl/logs/20120302.120640.make_termreadkey.log or simply tail -f /home/auser/compileEverything/.cpl/logs/l
)
!!!!_FAIL_!!!!
--> Working on Term::ReadKey
Fetching http://search.cpan.org/CPAN/authors/id/J/JS/JSTOWE/TermReadKey-2.30.tar.gz ... OK
Configuring TermReadKey-2.30 ... OK
Building and testing TermReadKey-2.30 ... FAIL
! Installing Term::ReadKey failed. See /home/auser/compileEverything/.cpanm/build.log for details.

Unable to get Terminal Size. The TIOCGWINSZ ioctl didn't work. The COLUMNS and LINES environment variables didn't work. The resize program didn't work. at
 blib/lib/Term/ReadKey.pm line 362.
 make: *** [test_dynamic] Error 127
 -> FAIL Installing Term::ReadKey failed. See /home/auser/compileEverything/.cpanm/build.log for details.
 auser12:11 ahostname /home/auser/compileEverything #find . -name "ReadKey.pm" -print
 ./.cpanm/work/1330690000.16124/TermReadKey-2.30/ReadKey.pm
 ./.cpanm/work/1330690000.16124/TermReadKey-2.30/blib/lib/Term/ReadKey.pm
Strange, I needed to go to .cpanm/work/xxx/Term.../, and do a 'cpanm -v .' instead of the 'cpanm .': the verbose status somehow allowed the test.pl to execute properly
~~~~--------------
auser:07 ahostname /home/auser/compileEverything/gitolite/github #gl-setup /tmp/gitoliteadm.pub
The default settings in the rc file (/home/auser/compileEverything/.gitolite.rc) are fine for most
people but if you wish to make any changes, you can do so now.

hit enter...

                ***** ABORTING *****
        bad username '/tmp/gitoliteadm.pub'  => unset GITOLITE_HTTP_HOME!!!
/home/auser/compileEverything/bin/gl-setup: line 179: cd: /home/auser/compileEverything/repositories/gitolite-admin.git: No such file or directory
[master f077f10] gl-setup /tmp/gitoliteadm.pub
 139 files changed, 7 insertions(+), 27004 deletions(-)
 delete mode 100644 .bashrc_ssh
 delete mode 100755 .cpl/.bashrc.tpl

 
How to reset a gitolite install 
 
auser:10 ahostname /home/auser/compileEverything/gitolite #rm -Rf github/
auser:10 ahostname /home/auser/compileEverything/gitolite #xxgit=1 git clone https://github.com/sitaramc/gitolite github
Cloning into 'github'...
remote: Counting objects: 5364, done.
remote: Compressing objects: 100% (1811/1811), done.
remote: Total 5364 (delta 3711), reused 5118 (delta 3497)
Receiving objects: 100% (5364/5364), 1.79 MiB | 699 KiB/s, done.
Resolving deltas: 100% (3711/3711), done.
auser:11 ahostname /home/auser/compileEverything/gitolite #cd github/
auser:11 ahostname /home/auser/compileEverything/gitolite/github #git lg -10
[ VonC,vonc@laposte.net for github.com ]
* 06eb523 - (HEAD, origin/pu, origin/HEAD, pu) Be compatible with older versions of File::Path (7 hours ago) <Greg Bacon>
* e098bc6 - specify documentation licensing as CC-BY-NC-SA (7 days ago) <Sitaram Chamarty>
* f554c21 - replaced comm with grep for devices without comm (7 days ago) <Arno Gramatke>
* 3fab743 - replaced mktemp with a perl equivalent to make the setup usable on machines without mktemp. (7 days ago) <Arno Gramatke>
* d3b2dda - fork ADC: stop carrying along non-gitolite hooks (9 days ago) <Sitaram Chamarty>
*   a6ab6cd - merge all the '-h' related changes (9 days ago) <Sitaram Chamarty>
|\
| * f56c422 - gl-conf-convert learns '-h' (11 days ago) <Sitaram Chamarty>
| * 23b3d54 - gl-dryrun learns '-h', plus a couple of other fixes (11 days ago) <Sitaram Chamarty>
| * e6586cb - gl-admin-push learns '-h' (11 days ago) <Sitaram Chamarty>
| * 1019b43 - gl-mirror-shell learns '-h' (11 days ago) <Sitaram Chamarty>
auser:12 ahostname /home/auser/compileEverything/gitolite/github #cd ..
auser:12 ahostname /home/auser/compileEverything/gitolite #github/src/gl-system-install "${H}/bin" "${H}/gitolite/conf" "${H}/gitolite/hooks"


auser:14 ahostname /home/auser/compileEverything/bin #rm -Rf $H/.gitolite ; rm -f $H/.gitolite.rc ; rm -Rf $H/repositories

~~~~-----------------

auser:37 ahostname /home/auser/compileEverything #sshd start
starting sshd
/home/auser/compileEverything/usr/local/var/empty must be owned by root and not group or world-writable. => Wrong config file (sshd script fixed)

auser:41 ahostname /home/auser/compileEverything/.cpl/logs #grep empty 20120306.125602.make_install_openssh-5.9p1.log
(umask 022 ; ./mkinstalldirs /home/auser/compileEverything/usr/local/var/empty)
mkdir /home/auser/compileEverything/usr/local/var/empty
/home/auser/compileEverything/usr/local/var/empty must be owned by root and not group or world-writable.

/home/auser/compileEverything/usr/local/libs/openssh-5.9p1/sbin/sshd -t -f /home/auser/compileEverything/usr/local/libs/openssh-5.9p1/etc/sshd_config
/home/auser/compileEverything/usr/local/var/empty must be owned by root and not group or world-writable.

auser:48 ahostname /home/auser/compileEverything/.ssh #l /home/auser/compileEverything/usr/local/etc/sshd_config
lrwxrwxrwx 1 auser dev_user 37 2012-03-06 12:56 /home/auser/compileEverything/usr/local/etc/sshd_config -> ../libs/openssh-5.9p1/etc/sshd_config

Testing local config
auser:11 ahostname /home/auser/compileEverything/.ssh #"${H}/usr/local/sbin/sshd" -t -f cnf
cnf: line 13: Bad configuration option: Port2
cnf: terminating, 1 bad configuration options

rm -f $H/usr/local/._linked/openssh-5.9p1 ; rm -f $H/.cpl/src/openssh-5.9p1/._post

~~~~-----------------

auser:47 ahostname /home/auser/compileEverything/.ssh #ssh -vvv -F gitoliteadm.config gitolitesrv echo $PATH
OpenSSH_5.9p1, OpenSSL 1.0.0g 18 Jan 2012
debug1: Reading configuration data gitoliteadm.config
debug1: gitoliteadm.config line 1: Applying options for gitolitesrv
debug2: ssh_connect: needpriv 0
debug1: Connecting to localhost [127.0.0.1] port 2200.
debug1: Connection established.
debug3: Incorrect RSA1 identifier
debug3: Could not load "/home/auser/compileEverything/.ssh/gitoliteadm" as a RSA1 public key
debug1: identity file /home/auser/compileEverything/.ssh/gitoliteadm type 1
debug1: identity file /home/auser/compileEverything/.ssh/gitoliteadm-cert type -1

  651  2012-03-08 16:35:55 - ssh-keygen -t rsa -f "${H}/.ssh/gitoliteadm" -C "Gitolite Admin with interactive access" -q -P ""
  
  Test with:
  ssh-keygen -t rsa -f "${H}/.ssh/root" -C "Root-kind access with local account interactive access" -q -P ""
  
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDf0MnDhf3Y2cVc1TZA9xpXLD3Cd5P35KygKsQ+ZV29zd4cw0c8rDqrCL1IcW7yfUWT3bmUiOwex7p6hrvQGuUXTilxRWeEMcQt0P1vfnru5myeizNypLsXfGVPpTr9QoPxrCXzMnHfw9vES6+SUyBi1McOi7yrVJCjfIAYfjD9TspTnL0JFwB8GmVRa6KwKM1wwBFle+2JXWtjemwh8mLEmZh6rIUPDX1IkBLRYiMBaTdthYyumj/HEDEMTDYLH7FiMMZ2cjEAwzNDOMwer9Pz1TbeBemwaat8q05FDBCtNuZ0ZChn/A+SDL27gSnPOCqkCyo/lcgAU+oeZxrU53WF Root-kind access with local account interactive access
  
Launching sshd with -d (debug) option, and LogLevel VERBOSE gives:

Failed none for auser from 127.0.0.1 port 60458 ssh2
debug1: userauth-request for user auser service ssh-connection method publickey
debug1: attempt 1 failures 0
debug1: test whether pkalg/pkblob are acceptable
debug1: temporarily_use_uid: 50080/2500 (e=50080/2500)
debug1: trying public key file /home/auser/compileEverything/.ssh/authorized_keys
debug1: fd 4 clearing O_NONBLOCK
Authentication refused: bad ownership or modes for directory /home/auser/gitpoc  <===================== 
  ==> MEANS THAT:
  ==> One of the parent directories has a writable group: 755 or 750 for all parent directories otherwise fail
debug1: restore_uid: (unprivileged)
Failed publickey for auser from 127.0.0.1 port 60458 ssh2
debug1: userauth-request for user auser service ssh-connection method keyboard-interactive
debug1: attempt 2 failures 1
debug1: keyboard-interactive devs
debug1: auth2_challenge: user=auser devs=
debug1: kbdint_alloc: devices ''

http://platonic.techfiz.info/2008/10/13/pty-allocation-request-failed-on-channel-0/
Now, check the SSH configuration to confirm that SSH daemon is logging the messages under /var/log/secure or /var/log/messages. Following line must be uncommented for the same in /etc/ssh/sshd_config.

SyslogFacility AUTHPRIV
~~~~~~~~~~~-----------
auser01:29 ahostname /home/auser/compileEverything/.ssh #ssh -F gitoliteadm.config gitolitesrv
PTY allocation request failed on channel 0
no rc file found
Compilation failed in require at /home/auser/compileEverything/bin/gl-auth-command line 43.
BEGIN failed--compilation aborted at /home/auser/compileEverything/bin/gl-auth-command line 43.
Connection to localhost closed.

# ------------------------------------------------------------------------------
#       bring in the rc vars and allow querying them
# ------------------------------------------------------------------------------

# in case we're running under Apache using smart http
$ENV{HOME} = $ENV{GITOLITE_HTTP_HOME} if $ENV{GITOLITE_HTTP_HOME};

# we also need to "bring in" the rc variables.  The rc can only be in one of
# these two places; the first one we find, wins
for ("$ENV{HOME}/.gitolite.rc", "/etc/gitolite/gitolite.rc") {
    $ENV{GL_RC} ||= $_ if -f;
}
die "no rc file found\n" unless $ENV{GL_RC};
do $ENV{GL_RC} or die "error parsing $ENV{GL_RC}\n";

=> restore GITOLITE_HTTP_HOME in bashrc, but unset it just before gl-setup, otherwise bad username ?
NOT GOOD IDEA?

Anyway, add in /home/auser/compileEverything/bin/gitolite_rc.pm $ENV{HOME} = '/home/auser/compileEverything';
~~~~~~~-----

auser:35 ahostname /home/auser/compileEverything #ssh -F $H/.ssh/gitoliteadm.config gitolitesrv
PTY allocation request failed on channel 0
Environment:
  USER=auser
  LOGNAME=auser
  HOME=/home/auser
  PATH=/home/auser/compileEverything/sbin:/home/auser/compileEverything/bin:/home/auser/compileEverything/usr/local/bin:/home/auser/compileEverything/usr/local/sbin:/home/a
  MAIL=/var/mail/auser
  SHELL=/bin/ksh
  SSH_CLIENT=127.0.0.1 31466 2200
  SSH_CONNECTION=127.0.0.1 31466 127.0.0.1 2200
hello gitoliteadm, this is gitolite v2.3-30-g06eb523 running on git 1.7.9.3
the gitolite config gives you the following access:
     R   W      gitolite-admin
    @R_ @W_     testing
Connection to localhost closed.


debug1: server_input_channel_open: confirm session
debug1: server_input_global_request: rtype no-more-sessions@openssh.com want_reply 0
debug1: server_input_channel_req: channel 0 request pty-req reply 1
debug1: session_by_channel: session 0 channel 0
debug1: session_input_channel_req: session 0 req pty-req
debug1: Allocating a pty not permitted for this authentication.
debug1: server_input_channel_req: channel 0 request shell reply 1
debug1: session_by_channel: session 0 channel 0
debug1: session_input_channel_req: session 0 req shell

Quite normal here because of the no-tty found in each gitolite forced-command:

http://oreilly.com/catalog/sshtdg/chapter/ch08.html

auser:52 ahostname /home/auser/compileEverything #ssh -F $H/.ssh/gitoliteadm.config gitolitesrv ls
bad command: ls
~~~~~~~------------
groff configure
Checking whether we are using the GNU C++ compiler... no
checking whether g++ accepts -g... no
checking that C++ compiler can compile simple program... no
configure: error: a working C++ compiler is required

configure:4425: g++ -o conftest  -I/home/git/ce/ce4/usr/local/include -I/home/git/ce/ce4/usr/local/ssl/include -fPIC -O -U_FORTIFY_SOURCE -L/home/git/ce/ce4/usr/local/lib -L/home/git/ce/ce4/usr/local/ssl/lib -L/home/git/ce/ce4/usr/local/apps/python/lib -Wl,-rpath=/home/git/ce/ce4/usr/local/lib:/home/git/ce/ce4/usr/local/ssl/lib:/home/git/ce/ce4/usr/local/apps/svn/lib:/home/git/ce/ce4/usr/local/apps/python/lib:/home/git/ce/ce4/usr/local/apps/gcc/lib -lintl conftest.cpp  >&5
./configure: line 1757: g++: command not found

=> First compile gcc


configure:4425: g++ -o conftest -g -O2 -I/home/auser/gitpoc/ce1/usr/local/include -I/home/auser/gitpoc/ce1/usr/local/ssl/include -fPIC -O -U_FORTIFY_SOURCE -m64 -lintl -L/home/auser/gitpoc/ce1/usr/local/lib -L/home/auser/gitpoc/ce1/usr/local/ssl/lib -L/home/auser/gitpoc/ce1/usr/local/apps/python/lib -Wl,-rpath=/home/auser/gitpoc/ce1/usr/local/lib:/home/auser/gitpoc/ce1/usr/local/ssl/lib:/home/auser/gitpoc/ce1/usr/local/apps/svn/lib:/home/auser/gitpoc/ce1/usr/local/apps/python/lib:/home/auser/gitpoc/ce1/usr/local/apps/gcc/lib conftest.cpp  -lintl >&5
/home/auser/gitpoc/ce1/usr/local/lib/libstdc++.so: undefined reference to `libintl_bindtextdomain'
/home/auser/gitpoc/ce1/usr/local/lib/libstdc++.so: undefined reference to `libintl_textdomain'
collect2: ld returned 1 exit status
configure:4425: $? = 1
configure: program exited with status 1
!.bundle/test/
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "groff"
| #define PACKAGE_TARNAME "groff-1.21"
| #define PACKAGE_VERSION "1.21"
| #define PACKAGE_STRING "groff 1.21"
| #define PACKAGE_BUGREPORT "bug-groff@gnu.org"
| #define PACKAGE_URL ""
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define __EXTENSIONS__ 1
| #define _ALL_SOURCE 1
| #define _GNU_SOURCE 1
| #define _POSIX_PTHREAD_SEMANTICS 1
| #define _TANDEM_SOURCE 1
| /* end confdefs.h.  */
|
|
|
| int main() {
|   return 0;
| }
|
|
|
configure:4429: result: no
configure:4431: error: a working C++ compiler is required

=> was a rogue LD_LIBRARY_PATH set (unset LD_LIBRARY_PATH), and src/gettext was pointing to a gettext-0.18.1 instead of a 0.14.1
=> restore latest gettext, and restore enable-shared
~~~~~~~~~~~~~~~
Ubuntu man-db make:

configure:40571: checking for db.h
configure:40571: result: yes
configure:40590: checking for dbopen from <db.h> in -ldb
configure:40606: gcc -std=gnu99 -o conftest -I/home/vonc/ces/ce1/usr/local/include -I/home/vonc/ces/ce1/usr/local/ssl/include -fPIC -O -U_FORTIFY_SOURCE -Wall -W -Wpointer-arith -Wwrite-strings -Wstrict-prototypes -Wshadow -Wformat-security -Wredundant-decls -I/home/vonc/ces/ce1/usr/local/include -I/home/vonc/ces/ce1/usr/local/ssl/include -fPIC -O -U_FORTIFY_SOURCE -L/home/vonc/ces/ce1/usr/local/lib -L/home/vonc/ces/ce1/usr/local/ssl/lib -L/home/vonc/ces/ce1/usr/local/apps/python/lib -Wl,-rpath=/home/vonc/ces/ce1/usr/local/lib:/home/vonc/ces/ce1/usr/local/ssl/lib:/home/vonc/ces/ce1/usr/local/apps/svn/lib:/home/vonc/ces/ce1/usr/local/apps/python/lib:/home/vonc/ces/ce1/usr/local/apps/gcc/lib conftest.c  -ldb >&5
conftest.c:514: warning: function declaration isn't a prototype
conftest.c: In function `main':
conftest.c:515: warning: implicit declaration of function `dbopen'
/tmp/ccILcNng.o: In function `main':
conftest.c:(.text+0x42): undefined reference to `dbopen'
collect2: ld returned 1 exit status

find .. -name "*.so" | xargs nm -A | grep dbopen | grep T
find .. -name "*.o" | xargs nm -A | grep dbopen | grep T
yields nothing...

db (Berkley-db) needs to be build with '--enable-compat185' for dbopen to be defined
~~~~~~~~~~~~~~~~
libgcrypt make

/usr/bin/ld: register.o: undefined reference to symbol 'gpg_strerror'
/usr/bin/ld: note: 'gpg_strerror' is defined in DSO /home/vonc/ces/ce1/usr/local/lib/libgpg-error.so.0 so try adding it to the linker command line
/home/vonc/ces/ce1/usr/local/lib/libgpg-error.so.0: could not read symbols: Invalid operation
collect2: ld returned 1 exit status
make[2]: *** [register] Error 1
make[2]: Leaving directory `/home/vonc/ces/src/libgcrypt-1.4.6/tests'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/home/vonc/ces/src/libgcrypt-1.4.6'
make: *** [all] Error 2


http://forum.videolan.org/viewtopic.php?f=13&t=33860#p121003

I ran into this same problem, and found that the easier way to fix this is to add gpg-error to the dependencies for these files.
To do this, go into extra/contrib/src/libgcrypt/tests and open the file Makefile.in
Find the line "basic_LDADD = $(LDADD)" and add "-lgpg-error" to the end of it. Do this for tsexp, keygen, and benchmark too.
Now when you run make everything should work. It's possible that the configure script will overwrite your changes, so simple move it someplace and make a new one that is empty except for the line "#! /bin/sh". It is also possible that you will need to do a make install in extra/contrib/src/libgpg-error first (passing the full path to extra/contrib/ to "./configure --prefix" if you don't want libgpg-error installed permanently).
While I'm sure that their is a cleaner way of fixing this (such as adding gpg-error to LDADD) these changes should do the trick to make it work.

~~~~~~~~~~~~~~~~
vonc@vonc-VirtualBox:~/.cpl/src/autoconf-2.68/tests$ ./autom4te 
XSLoader::load('Your::Module', $Your::Module::VERSION) at /home/vonc/ces/ce1/usr/local/apps/perl/lib/current/XSLoader.pm line 25.
Compilation failed in require at /home/vonc/ces/ce1/usr/local/apps/perl/lib/current/File/stat.pm line 30.
BEGIN failed--compilation aborted at /home/vonc/ces/ce1/usr/local/apps/perl/lib/current/File/stat.pm line 30.
Compilation failed in require at /home/vonc/ces/src/autoconf-2.68/lib/Autom4te/FileUtils.pm line 40.
BEGIN failed--compilation aborted at /home/vonc/ces/src/autoconf-2.68/lib/Autom4te/FileUtils.pm line 40.
Compilation failed in require at /home/vonc/ces/src/autoconf-2.68/bin/autom4te line 41.
BEGIN failed--compilation aborted at /home/vonc/ces/src/autoconf-2.68/bin/autom4te line 41.

+ SHELL=/bin/sh
+ export SHELL
+ CLICOLOR_FORCE=
+ GREP_OPTIONS=
+ unset CLICOLOR_FORCE GREP_OPTIONS
+ as_unset=as_fn_unset
+ testdir=/home/vonc/ces/src/autoconf-2.68/tests
+ PATH=/home/vonc/ces/src/autoconf-2.68/tests:/home/vonc/ces/ce1/sbin:/home/vonc/ces/ce1/bin:/home/vonc/ces/ce1/usr/local/bin:/home/vonc/ces/ce1/usr/local/sbin:/home/vonc/ces/ce1/usr/local/ssl/bin:/home/vonc/ces/ce1/gitolite/bin:/home/vonc/ces/ce1/gitolite/bin:/usr/local/bin:/bin:/usr/bin/:/usr/sbin:/usr/ccs/bin:/usr/sfw/bin
+ AUTOCONF=autoconf
+ AUTOHEADER=autoheader
+ AUTOM4TE=autom4te
+ AUTOM4TE_CFG=/home/vonc/ces/src/autoconf-2.68/lib/autom4te.cfg
+ autom4te_perllibdir=/home/vonc/ces/src/autoconf-2.68/lib
+ export AUTOCONF AUTOHEADER AUTOM4TE AUTOM4TE_CFG autom4te_perllibdir
+ case 'autom4te' in
+ exec /home/vonc/ces/src/autoconf-2.68/bin/autom4te -B /home/vonc/ces/src/autoconf-2.68/lib -B /home/vonc/ces/src/autoconf-2.68/lib

vonc@vonc-VirtualBox:/home/vonc/ces/src/autoconf-2.68/bin$ vi /home/vonc/ces/ce1/usr/local/apps/perl/lib/current/File/stat.pm

use Fcntl qw(S_IRUSR S_IWUSR S_IXUSR);

That is because the #! directovie uses the wrong perl: /usr/bin/perl
Note that a configure done from a $H/.bashrc session works.
Check out vi .cpl/src/autoconf-2.68/bin/autom4te
~~~~~~~~~~~~~~~~
Ubuntu ruby make

making ruby
make[1]: Entering directory `/home/vonc/ces/src/ruby-1.9.2-p0'
gcc -I/home/vonc/ces/ce1/usr/local/include -I/home/vonc/ces/ce1/usr/local/ssl/include -fPIC -O -U_FORTIFY_SOURCE -fPIC -L. -L/home/vonc/ces/ce1/usr/local/lib  -rdynamic -Wl,-export-dynamic   main.o  -Wl,-R -Wl,/home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/lib -L/home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/lib -lruby -lpthread -lrt -ldl -lcrypt -lm   -o ruby
make[1]: Leaving directory `/home/vonc/ces/src/ruby-1.9.2-p0'
Generating RDoc documentation
./miniruby -I./lib -I.ext/common -I./- -r./ext/purelib.rb  ./tool/runruby.rb --extout=.ext  -- "./bin/rdoc" --no-force-update --all --ri --op ".ext/rdoc"  "."
<internal:lib/rubygems/custom_require>:29:in `require': no such file to load -- etc (LoadError)
    from <internal:lib/rubygems/custom_require>:29:in `require'
    from /home/vonc/ces/src/ruby-1.9.2-p0/lib/rubygems.rb:17:in `<top (required)>'
    from <internal:lib/rubygems/custom_require>:29:in `require'
    from <internal:lib/rubygems/custom_require>:29:in `require'
    from <internal:gem_prelude>:167:in `load_full_rubygems_library'
    from <internal:gem_prelude>:217:in `try_activate'
    from <internal:lib/rubygems/custom_require>:32:in `rescue in require'
    from <internal:lib/rubygems/custom_require>:29:in `require'
    from /home/vonc/ces/src/ruby-1.9.2-p0/lib/rdoc/markup/parser.rb:1:in `<top (required)>'
    from <internal:lib/rubygems/custom_require>:29:in `require'
    from <internal:lib/rubygems/custom_require>:29:in `require'
    from /home/vonc/ces/src/ruby-1.9.2-p0/lib/rdoc/markup.rb:121:in `<top (required)>'
    from <internal:lib/rubygems/custom_require>:29:in `require'
    from <internal:lib/rubygems/custom_require>:29:in `require'
    from /home/vonc/ces/src/ruby-1.9.2-p0/lib/rdoc/markup/preprocess.rb:1:in `<top (required)>'
    from <internal:lib/rubygems/custom_require>:29:in `require'
    from <internal:lib/rubygems/custom_require>:29:in `require'
    from /home/vonc/ces/src/ruby-1.9.2-p0/lib/rdoc/parser.rb:3:in `<top (required)>'
    from <internal:lib/rubygems/custom_require>:29:in `require'
    from <internal:lib/rubygems/custom_require>:29:in `require'
    from /home/vonc/ces/src/ruby-1.9.2-p0/lib/rdoc/rdoc.rb:3:in `<top (required)>'
    from <internal:lib/rubygems/custom_require>:29:in `require'
    from <internal:lib/rubygems/custom_require>:29:in `require'
    from ./bin/rdoc:11:in `<main>'
make: *** [rdoc] Error 1

Again, an issue with an ext(ension) compilation: ext/etc/... wasn't compiled
Was using '--with-ext' multiple times (wrong): needs only one '--with-ext' option
to compile *all* the extensions
~~~~~~~~~~~~~~~~~
Building native extensions.  This could take a while...
ERROR:  Error installing charlock_holmes:
    ERROR: Failed to build gem native extension.

/home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/bin/ruby extconf.rb --with-icu-dir=/home/vonc/ces/ce1/usr/local
checking for main() in -licui18n... no
checking for main() in -licui18n... no


***************************************************************************************
*********** icu required (brew install icu4c or apt-get install libicu-dev) ***********
***************************************************************************************
*** extconf.rb failed ***
Could not create Makefile due to some reason, probably lack of
necessary libraries and/or headers.  Check the mkmf.log file for more
details.  You may need configuration options.

Gem files will remain installed in /home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/lib/ruby/gems/1.9.1/gems/charlock_holmes-0.6.8 for inspection.
Results logged to /home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/lib/ruby/gems/1.9.1/gems/charlock_holmes-0.6.8/ext/charlock_holmes/gem_make.out

vonc@vonc-VirtualBox:~$ ldd usr/local/lib/libicui18n.so
	linux-gate.so.1 =>  (0x00dd5000)
	libicuuc.so.49 => /home/vonc/ces/ce1/usr/local/lib/libicuuc.so.49 (0x008b9000)
	libicudata.so.49 => /home/vonc/ces/ce1/usr/local/lib/libicudata.so.49 (0xb65ea000)
	libpthread.so.0 => /lib/i386-linux-gnu/libpthread.so.0 (0x007e7000)
	libdl.so.2 => /lib/i386-linux-gnu/libdl.so.2 (0x00457000)
	libintl.so.8 => /home/vonc/ces/ce1/usr/local/lib/libintl.so.8 (0x00e5a000)
	libstdc++.so.6 => /usr/lib/i386-linux-gnu/libstdc++.so.6 (0x005dc000)
	libm.so.6 => /lib/i386-linux-gnu/libm.so.6 (0x006c3000)
	libgcc_s.so.1 => /lib/i386-linux-gnu/libgcc_s.so.1 (0x0034b000)
	libc.so.6 => /lib/i386-linux-gnu/libc.so.6 (0x00a24000)
	/lib/ld-linux.so.2 (0x00dad000)
	libiconv.so.2 => /home/vonc/ces/ce1/usr/local/libs/libiconv-1.14/lib/libiconv.so.2 (0x004a1000)

Probably because all libraries didn't detect libs from gcc3.4.6, because said libs were improperly linked from $H/usr/local instead of $H/usr/local/lib !
make_env.sh is fixed.

(A bit like in http://gcc.gnu.org/ml/gcc-help/2008-08/msg00300.html)

vonc@vonc-VirtualBox:~$ vi usr/local/apps/ruby-1.9.2p0/lib/ruby/gems/1.9.1/gems/charlock_holmes-0.6.8/ext/charlock_holmes/mkmf.log

checked program was:
/* begin */
1: #include "ruby.h"
2: 
3: int main() {return 0;} 
/* end */

"gcc -o conftest -I/home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/include/ruby-1.9.1/i686-linux -I/home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/include/ruby-1.9.1/ruby/backward -I/home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/include/ruby-1.9.1 -I. -I/home/vonc/ces/ce1/usr/local/include -I/home/vonc/ces/ce1/usr/local/ssl/include -fPIC -O -U_FORTIFY_SOURCE -D_FILE_OFFSET_BITS=64 -I/home/vonc/ces/ce1/usr/local/include -I/home/vonc/ces/ce1/usr/local/ssl/include -fPIC -O -U_FORTIFY_SOURCE -I/home/vonc/ces/ce1/usr/local/include -I/home/vonc/ces/ce1/usr/local/ssl/include -fPIC -O -U_FORTIFY_SOURCE -fPIC conftest.c  -L. -L/home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/lib -Wl,-R/home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/lib -L/home/vonc/ces/ce1/usr/local/lib -Wl,-R/home/vonc/ces/ce1/usr/local/lib -L.  -rdynamic -Wl,-export-dynamic     -Wl,-R -Wl,/home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/lib -L/home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/lib -lruby-static -licui18n  -lpthread -lrt -ldl -lcrypt -lm   -lc"  
/usr/lib/i386-linux-gnu/libstdc++.so.6: undefined reference to `_Unwind_GetIPInfo@GCC_4.2.0'
collect2: ld returned 1 exit status


~~~~~~~~~~~~
Ubuntu cmake make

[ 24%] Building C object Utilities/cmcurl/CMakeFiles/cmcurl.dir/multi.c.o
/home/vonc/ces/ce1/.cpl/src/cmake-2.8.8/Utilities/cmcurl/multi.c:1708: error: syntax error before numeric constant
/home/vonc/ces/ce1/.cpl/src/cmake-2.8.8/Utilities/cmcurl/multi.c: In function `curl_multi_socket_action':
/home/vonc/ces/ce1/.cpl/src/cmake-2.8.8/Utilities/cmcurl/multi.c:1710: error: number of arguments doesn't match prototype
/home/vonc/ces/ce1/usr/local/include/curl/multi.h:258: error: prototype declaration
/home/vonc/ces/ce1/.cpl/src/cmake-2.8.8/Utilities/cmcurl/multi.c:1711: error: `multi_handle' undeclared (first use in this function)
/home/vonc/ces/ce1/.cpl/src/cmake-2.8.8/Utilities/cmcurl/multi.c:1711: error: (Each undeclared identifier is reported only once
/home/vonc/ces/ce1/.cpl/src/cmake-2.8.8/Utilities/cmcurl/multi.c:1711: error: for each function it appears in.)
/home/vonc/ces/ce1/.cpl/src/cmake-2.8.8/Utilities/cmcurl/multi.c:1711: error: `s' undeclared (first use in this function)
/home/vonc/ces/ce1/.cpl/src/cmake-2.8.8/Utilities/cmcurl/multi.c:1712: error: `running_handles' undeclared (first use in this function)
gmake[2]: *** [Utilities/cmcurl/CMakeFiles/cmcurl.dir/multi.c.o] Error 1
gmake[1]: *** [Utilities/cmcurl/CMakeFiles/cmcurl.dir/all] Error 2

See vonc@vonc-VirtualBox:/home/vonc/ces/src/cmake-2.8.8$ find . -name "FindZLIB*"
./Modules/FindZLIB.cmake

# An includer may set ZLIB_ROOT to a zlib installation root to tell
# this module where to look.

Was missing environment variables CMAKE_INCLUDE_PATH and CMAKE_LIBRARY_PATH
Added to .bashrc
~~~~~~~~~~~~~~~~~~
Ubuntu mysql make

[ 76%] Built target bug25714
Scanning dependencies of target mysql_client_test
[ 76%] Building C object tests/CMakeFiles/mysql_client_test.dir/mysql_client_test.c.o
Linking CXX executable mysql_client_test
[ 76%] Built target mysql_client_test
Scanning dependencies of target mysql
[ 76%] Building CXX object client/CMakeFiles/mysql.dir/completion_hash.cc.o
[ 76%] Building CXX object client/CMakeFiles/mysql.dir/mysql.cc.o
/home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/client/mysql.cc:1041: error: expected constructor, destructor, or type conversion before '*' token
/home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/client/mysql.cc: In function `int not_in_history(const char*)':
/home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/client/mysql.cc:2387: error: `HIST_ENTRY' was not declared in this scope
/home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/client/mysql.cc:2387: error: `oldhist' was not declared in this scope
/home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/client/mysql.cc:2387: error: `history_get' was not declared in this scope
/home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/client/mysql.cc:2387: warning: unused variable 'HIST_ENTRY'
/home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/client/mysql.cc:2387: warning: unused variable 'history_get'
/home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/client/mysql.cc: In function `void initialize_readline(char*)':
/home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/client/mysql.cc:2423: error: invalid conversion from `char**(*)()' to `char**(*)(const char*, int, int)'
/home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/client/mysql.cc:2424: error: invalid conversion from `int (*)(const char*, int)' to `char*(*)(const char*, int)'
/home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/client/mysql.cc:2425: error: invalid conversion from `int (*)()' to `int (*)(int, int)'
/home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/client/mysql.cc:2425: error:   initializing argument 2 of `int rl_add_defun(const char*, int (*)(int, int), int)'
/home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/client/mysql.cc: In function `char** new_mysql_completion(const char*, int, int)':
/home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/client/mysql.cc:2447: error: `completion_matches' was not declared in this scope
/home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/client/mysql.cc:2447: warning: unused variable 'completion_matches'
make[2]: *** [client/CMakeFiles/mysql.dir/mysql.cc.o] Error 1
make[1]: *** [client/CMakeFiles/mysql.dir/all] Error 2

vonc@vonc-VirtualBox:~$ export VERBOSE=1
vonc@vonc-VirtualBox:~$ ./make_env.sh 

http://www.cmake.org/Wiki/CMake_2.8.5_Docs
(works better than export CMAKE_VERBOSE_MAKEFILE=true, although -DCMAKE_VERBOSE_MAKEFILE=ON might h	ave worked, as illustrated by https://bugzilla.redhat.com/show_bug.cgi?id=474053)

make[2]: Leaving directory `/home/vonc/ces/src/mysql-5.5.25/bld'
make -f client/CMakeFiles/mysql.dir/build.make client/CMakeFiles/mysql.dir/build
make[2]: Entering directory `/home/vonc/ces/src/mysql-5.5.25/bld'
/home/vonc/ces/ce1/usr/local/apps/cmake-2.8.8/bin/cmake -E cmake_progress_report /home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/bld/CMakeFiles 
[ 76%] Building CXX object client/CMakeFiles/mysql.dir/mysql.cc.o
cd /home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/bld/client && /home/vonc/ces/ce1/bin/c++   -DDBUG_OFF -DHAVE_CONFIG_H -DHAVE_DLOPEN -Wall -Wno-unused-parameter -fno-implicit-templates -fno-exceptions -fno-rtti -I/home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/bld/include -I/home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/include -I/home/vonc/ces/ce1/usr/local/include -I/home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/libmysql -I/home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/regex -I/home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/sql -I/home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/strings -I/home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/cmd-line-utils/libedit -I/home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/bld/client    -I/home/vonc/ces/ce1/usr/local/include -I/home/vonc/ces/ce1/usr/local/ssl/include -fPIC -O -U_FORTIFY_SOURCE -o CMakeFiles/mysql.dir/mysql.cc.o -c /home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/client/mysql.cc
/home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/client/mysql.cc:1041: error: expected constructor, destructor, or type conversion before '*' token

See ../src/mysql-5.5.25/Docs/mysql.info
`WITH_READLINE'        Use bundled readline   `OFF'
 
=> add -DWITH_READLINE=ON

~~~~~~~~~~~~~~
@vonc-VirtualBox:~$ git diff .cpl/pabash: declare: `_git_[': not a valid identifier
rams/cmbash: declare: `_git_[': not a valid identifier

http://stackoverflow.com/questions/7278796/bash-git-alias-tab-completion-error

I'm guessing there's a custom completion function set up for git, and the error is in that setup. Try removing the custom completion first and see if the error disappears:

complete -r git

vonc@vonc-VirtualBox:~$ complete|grep git
complete -o bashdefault -o default -o nospace -F _git git
complete -o bashdefault -o default -o nospace -F _gitk gitk

~~~~~~~~~~~~~~

cd /home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/bld/libmysql && /home/vonc/ces/ce1/usr/local/apps/cmake-2.8.8/bin/cmake -E cmake_link_script CMakeFiles/libmysql.dir/link.txt --verbose=1
/home/vonc/ces/ce1/bin/c++  -fPIC  -Wall -Wno-unused-parameter -fno-implicit-templates -fno-exceptions -fno-rtti  -Wl,--no-undefined  -L/home/vonc/ces/ce1/usr/local/lib -L/home/vonc/ces/ce1/usr/local/ssl/lib -L/home/vonc/ces/ce1/usr/local/apps/python/lib -Wl,-rpath=/home/vonc/ces/ce1/usr/local/lib:/home/vonc/ces/ce1/usr/local/ssl/lib:/home/vonc/ces/ce1/usr/local/apps/svn/lib:/home/vonc/ces/ce1/usr/local/apps/python/lib:/home/vonc/ces/ce1/usr/local/apps/gcc/lib -shared -Wl,-soname,libmysqlclient.so.18 -o libmysqlclient.so.18.0.0 CMakeFiles/libmysql.dir/libmysql_exports_file.cc.o -lpthread libclientlib.a ../dbug/libdbug.a ../strings/libstrings.a ../vio/libvio.a ../mysys/libmysys.a -lz ../extra/yassl/libyassl.a ../extra/yassl/taocrypt/libtaocrypt.a -ldl ../dbug/libdbug.a ../mysys/libmysys.a ../strings/libstrings.a -lz -lm -lrt -lpthread 
libclientlib.a(client.c.o): In function `mysql_ssl_free':
client.c:(.text+0x1b55): undefined reference to `SSL_CTX_free'
libclientlib.a(client.c.o): In function `mysql_get_ssl_cipher':
client.c:(.text+0x1be6): undefined reference to `SSL_get_current_cipher'
client.c:(.text+0x1bee): undefined reference to `SSL_CIPHER_get_name'
libclientlib.a(client.c.o): In function `ssl_verify_server_cert':

Seems to miss -lssl and -lcrypto:

vonc@vonc-VirtualBox:~/.cpl/src/mysql-5.5.25$ cd /home/vonc/ces/ce1/.cpl/src/mysql-5.5.25/bld/libmysql
vonc@vonc-VirtualBox:~/.cpl/src/mysql-5.5.25/bld/libmysql$ !700
/home/vonc/ces/ce1/bin/c++  -fPIC  -Wall -Wno-unused-parameter -fno-implicit-templates -fno-exceptions -fno-rtti  -Wl,--no-undefined  -L/home/vonc/ces/ce1/usr/local/lib -L/home/vonc/ces/ce1/usr/local/ssl/lib -L/home/vonc/ces/ce1/usr/local/apps/python/lib -Wl,-rpath=/home/vonc/ces/ce1/usr/local/lib:/home/vonc/ces/ce1/usr/local/ssl/lib:/home/vonc/ces/ce1/usr/local/apps/svn/lib:/home/vonc/ces/ce1/usr/local/apps/python/lib:/home/vonc/ces/ce1/usr/local/apps/gcc/lib -shared -Wl,-soname,libmysqlclient.so.18 -o libmysqlclient.so.18.0.0 CMakeFiles/libmysql.dir/libmysql_exports_file.cc.o -lpthread libclientlib.a ../dbug/libdbug.a ../strings/libstrings.a ../vio/libvio.a ../mysys/libmysys.a -lz ../extra/yassl/libyassl.a ../extra/yassl/taocrypt/libtaocrypt.a -ldl ../dbug/libdbug.a ../mysys/libmysys.a ../strings/libstrings.a -lz -lm -lrt -lpthread -lssl -lcrypto
../vio/libvio.a(vio.c.o): In function `vio_end':
vio.c:(.text+0x3ae): undefined reference to `yaSSL_CleanUp'
collect2: ld returned 1 exit status


vonc@vonc-VirtualBox:~/.cpl/src/mysql-5.5.25$ grep -nHIrF "yaSSL_CleanUp" *|grep -v yassl
vio/vio.c:289:  yaSSL_CleanUp();

281 /*
282   Cleanup memory allocated by vio or the
283   components below it when application finish
284 
285 */
286 void vio_end(void)
287 {
288 #ifdef HAVE_YASSL
289   yaSSL_CleanUp();
290 #endif
291 }

=> make sure HAVE_YASSL is 0?
No, add more CMAKE env variables:

CMAKE_LIBRARY_PATH=/home/vonc/ces/ce1/usr/local/lib:/home/vonc/ces/ce1/usr/local/ssl/lib
CMAKE_SYSTEM_IGNORE_PATH=/lib/i386-linux-gnu
CMAKE_IGNORE_PATH=/lib/i386-linux-gnu
CMAKE_PROGRAM_PATH=/home/vonc/ces/ce1/bin
CMAKE_SYSTEM_LIBRARY_PATH=/lib:/usr/lib
CMAKE_INCLUDE_PATH=/home/vonc/ces/ce1/usr/local/include:/home/vonc/ces/ce1/usr/local/ssl/include
CMAKE_PREFIX_PATH=/home/vonc/ces/ce1/usr/local:/home/vonc/ces/ce1/usr/local/ssl

The last one seemed important (CMAKE_PREFIX_PATH)
~~~~~~~~~~~~~~~~
vonc@vonc-VirtualBox:~/gitlab/github$ bundle exec rake gitlab:app:status RAILS_ENV=production
rake aborted!
/home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/lib/ruby/1.9.1/i686-linux/openssl.so: undefined symbol: SSLv2_method - /home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/lib/ruby/1.9.1/i686-linux/openssl.so

(See full trace by running task with --trace)


auser@vonc-VirtualBox:~/@vonc-VirtualBox:~/gitlab/github$ ldd ./vendor/bundle/ruby/1.9.1/gems/ffi-1.0.11/lib/ffi_c.so   linux-gate.so.1 =>  (0x00385000)
    libruby.so.1.9 => /home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/lib/libruby.so.1.9 (0x00d31000)
    libpthread.so.0 => /lib/i386-linux-gnu/libpthread.so.0 (0x00ad4000)
    librt.so.1 => /lib/i386-linux-gnu/librt.so.1 (0x00f8c000)
    libdl.so.2 => /lib/i386-linux-gnu/libdl.so.2 (0x00959000)
    libcrypt.so.1 => /lib/i386-linux-gnu/libcrypt.so.1 (0x00110000)
    libm.so.6 => /lib/i386-linux-gnu/libm.so.6 (0x007d9000)
    libc.so.6 => /lib/i386-linux-gnu/libc.so.6 (0x00141000)
    /lib/ld-linux.so.2 (0x0069f000)

vonc@vonc-VirtualBox:~/gitlab/github$ ldd /home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/lib/ruby/1.9.1/i686-linux/openssl.so
    linux-gate.so.1 =>  (0x004e7000)
    libruby.so.1.9 => /home/vonc/ces/ce1/usr/local/lib/libruby.so.1.9 (0x00bb8000)
    libssl.so.1.0.0 => /lib/i386-linux-gnu/libssl.so.1.0.0 (0x00110000)
    libcrypto.so.1.0.0 => /lib/i386-linux-gnu/libcrypto.so.1.0.0 (0x00166000)
    libdl.so.2 => /lib/i386-linux-gnu/libdl.so.2 (0x00311000)
    libz.so.1 => /home/vonc/ces/ce1/usr/local/lib/libz.so.1 (0x00316000)
    libpthread.so.0 => /lib/i386-linux-gnu/libpthread.so.0 (0x00a8d000)
    librt.so.1 => /lib/i386-linux-gnu/librt.so.1 (0x006ef000)
    libcrypt.so.1 => /lib/i386-linux-gnu/libcrypt.so.1 (0x00663000)
    libm.so.6 => /lib/i386-linux-gnu/libm.so.6 (0x006a3000)
    libc.so.6 => /lib/i386-linux-gnu/libc.so.6 (0x00329000)
    /lib/ld-linux.so.2 (0x008be000)

see vonc@vonc-VirtualBox:/home/vonc/ces/src/ruby-1.9.2p0/ext/openssl$ vi Makefile


vonc@vonc-VirtualBox:~/gitlab/github$ tldd ../github
/home/vonc/ces/ce1/gitlab/github/../github/=false.
-----
vendor/bundle/ruby/1.9.1/gems/eventmachine-0.12.10/lib/rubyeventmachine.so=false (/home/vonc/ces/ce1/gitlab/github/../github/vendor/bundle/ruby/1.9.1/gems/eventmachine-0.12.10/lib/rubyeventmachine.so).
  OK=false, name=libssl.so.1.0.0, value=/lib/i386-linux-gnu/libssl.so.1.0.0.
  OK=false, name=libcrypto.so.1.0.0, value=/lib/i386-linux-gnu/libcrypto.so.1.0.0.
vendor/bundle/ruby/1.9.1/gems/mysql2-0.3.11/lib/mysql2/mysql2.so=false (/home/vonc/ces/ce1/gitlab/github/../github/vendor/bundle/ruby/1.9.1/gems/mysql2-0.3.11/lib/mysql2/mysql2.so).
  OK=false, name=libssl.so.1.0.0, value=/lib/i386-linux-gnu/libssl.so.1.0.0.
  OK=false, name=libcrypto.so.1.0.0, value=/lib/i386-linux-gnu/libcrypto.so.1.0.0.


vonc@vonc-VirtualBox:~/gitlab/github$ patchelf  --print-rpath vendor/bundle/ruby/1.9.1/gems/mysql2-0.3.11/lib/mysql2/mysql2.so
/home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/lib:/home/vonc/ces/ce1/usr/local/lib:/home/vonc/ces/ce1/usr/local/apps/mysql-5.5.25/lib
vonc@vonc-VirtualBox:~/gitlab/github$ ldd vendor/bundle/ruby/1.9.1/gems/mysql2-0.3.11/lib/mysql2/mysql2.so        linux-gate.so.1 =>  (0x00928000)
	libruby.so.1.9 => /home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/lib/libruby.so.1.9 (0x00706000)
	libmysqlclient.so.18 => /home/vonc/ces/ce1/usr/local/lib/libmysqlclient.so.18 (0x00150000)
	libpthread.so.0 => /lib/i386-linux-gnu/libpthread.so.0 (0x00f84000)
	libz.so.1 => /home/vonc/ces/ce1/usr/local/lib/libz.so.1 (0x00110000)
	libm.so.6 => /lib/i386-linux-gnu/libm.so.6 (0x009b2000)
	librt.so.1 => /lib/i386-linux-gnu/librt.so.1 (0x00de1000)
	libssl.so.1.0.0 => /lib/i386-linux-gnu/libssl.so.1.0.0 (0x00414000)
	libcrypto.so.1.0.0 => /lib/i386-linux-gnu/libcrypto.so.1.0.0 (0x0046a000)
	libdl.so.2 => /lib/i386-linux-gnu/libdl.so.2 (0x00123000)
	libcrypt.so.1 => /lib/i386-linux-gnu/libcrypt.so.1 (0x00615000)
	libc.so.6 => /lib/i386-linux-gnu/libc.so.6 (0x009de000)
	/lib/ld-linux.so.2 (0x0012e000)
	libstdc++.so.6 => /home/vonc/ces/ce1/usr/local/lib/libstdc++.so.6 (0x00b83000)
	libgcc_s.so.1 => /home/vonc/ces/ce1/usr/local/lib/libgcc_s.so.1 (0x00d58000)
vonc@vonc-VirtualBox:~/gitlab/github$ patchelf  --set-rpath /home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/lib:/home/vonc/ces/ce1/usr/local/lib:/home/vonc/ces/ce1/usr/local/ssl/lib:/home/vonc/ces/ce1/usr/local/apps/mysql-5.5.25/lib vendor/bundle/ruby/1.9.1/gems/mysql2-0.3.11/lib/mysql2/mysql2.so
vonc@vonc-VirtualBox:~/gitlab/github$ patchelf  --print-rpath vendor/bundle/ruby/1.9.1/gems/mysql2-0.3.11/lib/mysql2/mysql2.so
/home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/lib:/home/vonc/ces/ce1/usr/local/lib:/home/vonc/ces/ce1/usr/local/ssl/lib:/home/vonc/ces/ce1/usr/local/apps/mysql-5.5.25/lib

vonc@vonc-VirtualBox:~/gitlab/github$ ldd vendor/bundle/ruby/1.9.1/gems/mysql2-0.3.11/lib/mysql2/mysql2.so	linux-gate.so.1 =>  (0x0017c000)
	libruby.so.1.9 => /home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/lib/libruby.so.1.9 (0x0022c000)
	libmysqlclient.so.18 => /home/vonc/ces/ce1/usr/local/lib/libmysqlclient.so.18 (0x00912000)
	libpthread.so.0 => /lib/i386-linux-gnu/libpthread.so.0 (0x00bdc000)
	libz.so.1 => /home/vonc/ces/ce1/usr/local/lib/libz.so.1 (0x00c87000)
	libm.so.6 => /lib/i386-linux-gnu/libm.so.6 (0x006c3000)
	librt.so.1 => /lib/i386-linux-gnu/librt.so.1 (0x00110000)
	libssl.so.1.0.0 => /home/vonc/ces/ce1/usr/local/ssl/lib/libssl.so.1.0.0 (0x00119000)
	libcrypto.so.1.0.0 => /home/vonc/ces/ce1/usr/local/ssl/lib/libcrypto.so.1.0.0 (0x003e9000)
	libdl.so.2 => /lib/i386-linux-gnu/libdl.so.2 (0x00168000)
	libcrypt.so.1 => /lib/i386-linux-gnu/libcrypt.so.1 (0x00733000)
	libc.so.6 => /lib/i386-linux-gnu/libc.so.6 (0x00764000)
	/lib/ld-linux.so.2 (0x00f65000)
	libstdc++.so.6 => /home/vonc/ces/ce1/usr/local/lib/libstdc++.so.6 (0x00543000)
	libgcc_s.so.1 => /home/vonc/ces/ce1/usr/local/lib/libgcc_s.so.1 (0x0016d000)



vonc@vonc-VirtualBox:~/gitlab/github$ tldd ../github
/home/vonc/ces/ce1/gitlab/github/../github/=false.
-----
vendor/bundle/ruby/1.9.1/gems/eventmachine-0.12.10/lib/rubyeventmachine.so=false (/home/vonc/ces/ce1/gitlab/github/../github/vendor/bundle/ruby/1.9.1/gems/eventmachine-0.12.10/lib/rubyeventmachine.so).
  OK=false, name=libssl.so.1.0.0, value=/lib/i386-linux-gnu/libssl.so.1.0.0.
  OK=false, name=libcrypto.so.1.0.0, value=/lib/i386-linux-gnu/libcrypto.so.1.0.0.
-----
vonc@vonc-VirtualBox:~/gitlab/github$ patchelf  --print-rpath vendor/bundle/ruby/1.9.1/gems/eventmachine-0.12.10/lib/rubyeventmachine.so 
/home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/lib:/home/vonc/ces/ce1/usr/local/lib
vonc@vonc-VirtualBox:~/gitlab/github$ patchelf  --set-rpath /home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/lib:/home/vonc/ces/ce1/usr/local/lib:/home/vonc/ces/ce1/usr/local/ssl/lib vendor/bundle/ruby/1.9.1/gems/eventmachine-0.12.10/lib/rubyeventmachine.so 
vonc@vonc-VirtualBox:~/gitlab/github$ patchelf  --print-rpath vendor/bundle/ruby/1.9.1/gems/eventmachine-0.12.10/lib/rubyeventmachine.so 
/home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/lib:/home/vonc/ces/ce1/usr/local/lib:/home/vonc/ces/ce1/usr/local/ssl/lib
vonc@vonc-VirtualBox:~/gitlab/github$ tldd ../github
/home/vonc/ces/ce1/gitlab/github/../github/=true.


vonc@vonc-VirtualBox:~/gitlab/github$ tldd ruby
/home/vonc/ces/ce1/usr/local/apps/ruby/=false.
-----
lib/ruby/1.9.1/i686-linux/openssl.so=false (/home/vonc/ces/ce1/usr/local/apps/ruby/lib/ruby/1.9.1/i686-linux/openssl.so).
  OK=false, name=libssl.so.1.0.0, value=/lib/i386-linux-gnu/libssl.so.1.0.0.
  OK=false, name=libcrypto.so.1.0.0, value=/lib/i386-linux-gnu/libcrypto.so.1.0.0.

vonc@vonc-VirtualBox:~/gitlab/github$ cd
vonc@vonc-VirtualBox:~$ cd usr/local/apps/ruby
vonc@vonc-VirtualBox:~/usr/local/apps/ruby$ patchelf --print-rpath lib/ruby/1.9.1/i686-linux/openssl.so
/home/vonc/ces/ce1/usr/local/lib:/home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/lib
vonc@vonc-VirtualBox:~/usr/local/apps/ruby$ patchelf --set-rpath /home/vonc/ces/ce1/usr/local/lib:/home/vonc/ces/ce1/usr/local/ssl/lib:/home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/lib lib/ruby/1.9.1/i686-linux/openssl.so
vonc@vonc-VirtualBox:~/usr/local/apps/ruby$ patchelf --print-rpath lib/ruby/1.9.1/i686-linux/openssl.so/home/vonc/ces/ce1/usr/local/lib:/home/vonc/ces/ce1/usr/local/ssl/lib:/home/vonc/ces/ce1/usr/local/apps/ruby-1.9.2p0/lib
vonc@vonc-VirtualBox:~/usr/local/apps/ruby$ tldd ruby
/home/vonc/ces/ce1/usr/local/apps/ruby/=true.

~~~~~~~~~~~~~

vonc@vonc-VirtualBox:~/gitlab/github$ bundle exec rake gitlab:app:status RAILS_ENV=production
https://github.com/gitlabhq/grit.git (at 7f35cb9) is not checked out. Please run `bundle install`

vonc@vonc-VirtualBox:~/gitlab/github$ bundle install --without development test --deployment
...
Using git (1.2.5) 
Using posix-spawn (0.3.6) 
Using grit (2.5.0) from https://github.com/gitlabhq/grit.git (at 7f35cb9) 
Using hashery (1.4.0) 
...
Using unicorn (4.3.1) 
Using yaml_db (0.2.2) from https://github.com/gitlabhq/yaml_db.git (at master) 
Your bundle is complete! It was installed into ./vendor/bundle
vonc@vonc-VirtualBox:~/gitlab/github$ bundle exec rake gitlab:app:status RAILS_ENV=production
rake aborted!
Connection refused - Unable to connect to Redis on 127.0.0.1:6379

Tasks: TOP => gitlab:app:status => environment
(See full trace by running task with --trace)

=> compile, install and run redis (redis-server, daemonized)
~~~~~~~~~~~~~

vonc@vonc-VirtualBox:~/gitlab/github$ bundle exec rake gitlab:app:status --trace RAILS_ENV=production
** Invoke gitlab:app:status (first_time)
** Invoke environment (first_time)
** Execute environment
rake aborted!
Can't connect to local MySQL server through socket '/home/vonc/ces/ce1/gitlab/mysql.sock' (2)
/home/vonc/ces/ce1/gitlab/github/vendor/bundle/ruby/1.9.1/gems/mysql2-0.3.11/lib/mysql2/client.rb:44:in `connect'
/home/vonc/ces/ce1/gitlab/github/vendor/bundle/ruby/1.9.1/gems/mysql2-0.3.11/lib/mysql2/client.rb:44:in `initialize'
/home/vonc/ces/ce1/gitlab/github/vendor/bundle/ruby/1.9.1/gems/activerecord-3.2.5/lib/active_record/connection_adapters/mysql2_adapter.rb:16:in `new'

Sandboxes launches with /tmp/mysql_sandbox5525.sock => modify database.yml.tpl

-------------

vonc@vonc-VirtualBox:~/gitlab/github$ bundle exec rake gitlab:app:setup RAILS_ENV=production
Access denied for user 'root'@'localhost' (using password: YES). 
Please provide the root password for your mysql installation

(sandbox) vonc@vonc-VirtualBox:~/mysql/sandboxes/gitlab$ sbtool -o info
$ports = {
           '5525' => 1
         };
$all_info = {
              '5525' => {
                          'opt' => {
                                     'tmpdir' => '/home/vonc/ces/ce1/mysql/sandboxes/gitlab/tmp',
                                     'datadir' => '/home/vonc/ces/ce1/mysql/sandboxes/gitlab/data',
                                     'port' => '5525',
                                     'basedir' => '/home/vonc/ces/ce1/usr/local/apps/mysql/5.5.25',
                                     'socket' => '/tmp/mysql_sandbox5525.sock',
                                     'prompt' => '\'mysql [\\h] {\\u} (\\d) > \'',
                                     'pid_file' => '/home/vonc/ces/ce1/mysql/sandboxes/gitlab/data/mysql_sandbox5525.pid',
                                     'password' => 'msandbox',
                                     'user' => 'vonc',
                                     'log_error' => 'msandbox.err'
                                   },
                          'conf' => undef
                        }
            };
	
-- assume_migrated_upto_version(20120413135904, ["/home/vonc/ces/ce1/gitlab/github/db/migrate"])
   -> 0.2138s

== Seed from /home/vonc/ces/ce1/gitlab/github/db/fixtures/production/001_admin.rb

Administrator account created:

login.........admin@local.host
password......5iveL!fe
rake aborted!
gitolite timeout

Tasks: TOP => gitlab:app:setup => gitlab:app:enable_automerge
(See full trace by running task with --trace)

vonc@vonc-VirtualBox:~/mysql/sandboxes/gitlab$ find ~/ -name "*.err"
/home/vonc/ces/ce1/mysql/sandboxes/gitlab/data/msandbox.err

~~~~~~~~~~~~~~~~~~~~~~~


vonc@vonc-VirtualBox:~/gitlab/github$ bundle exec rake gitlab:app:status RAILS_ENV=production
Starting diagnostic
config/database.yml............exists
config/gitlab.yml............exists
/home/git/repositories/............exists
/home/git/repositories/ is writable?............YES
ssh: connect to host localhost port 2200: Connection refused
fatal: The remote end hung up unexpectedly
Can clone gitolite-admin?............YES
UMASK for .gitolite.rc is 0007? ............NO
rake aborted!
unexpected return

vonc@vonc-VirtualBox:~/gitlab/github$ grep -nrHIF UMASK *
doc/installation.md:181:    UMASK for .gitolite.rc is 0007? ............YES
lib/tasks/gitlab/status.rake:51:      print "UMASK for .gitolite.rc is 0007? ............"
lib/tasks/gitlab/status.rake:52:      unless open("#{GIT_HOST['base_path']}/../.gitolite.rc").grep(/REPO_UMASK = 0007/).empty?

(still g2 syntax, not g3) => add 'REPO_UMASK = 0007' to a comment!
~~~~~~~~~~~~~~~~
Ubuntu: make pkgconfig

2012/06/24-00:18:14 ~ ln do to: ln -fs pkg-config-0.26 /home/git/ces/ce1/../src/pkgconfig-0.26
2012/06/24-00:18:15 ~ cd /home/git/ces/ce1/../src/pkgconfig-0.26
configcmd=./configure --prefix=/home/git/ces/ce1/usr/local/apps/pkgconfig-0.26 --enable-shared --enable-static
2012/06/24-00:18:16 ~~~ ./configure --prefix=/home/git/ces/ce1/usr/local/apps/pkgconfig-0.26 --enable-shared --enable-static
2012/06/24-00:18:16 ~ (see /home/git/ces/ce1/.cpl/logs/20120624.001815.configure_pkgconfig-0.26.log or simply tail -f /home/git/ces/ce1/.cpl/logs/l)
!!!!_FAIL_!!!!
2012/06/24-00:18:15 ~ cd /home/git/ces/ce1/../src/pkgconfig-0.26
2012/06/24-00:18:16 ~ (see /home/git/ces/ce1/.cpl/logs/20120624.001815.configure_pkgconfig-0.26.log or simply tail -f /home/git/ces/ce1/.cpl/logs/l)
!!!!_FAIL_!!!!
checking for --with-system-library-path... /usr/lib
checking whether to list both direct and indirect dependencies... no
checking for Win32... no
checking for pkg-config... pkg-config
configure: error: pkg-config and glib-2.0 not found, please set GLIB_CFLAGS and GLIB_LIBS to the correct values

http://comments.gmane.org/gmane.comp.package-management.pkg-config/620
Drop embedded glib

Actually you don't need pkg-config, if you set all the variables...

  ZLIB_CFLAGS C compiler flags for ZLIB, overriding pkg-config
  
  For pkg-config 0.25 it would build a static glib automatically,
but for pkg-config 0.26 you need to build one yourself first...
And then set GLIB_CFLAGS and GLIB_LIBS to where you built it,
including the libiconv and libintl dependencies that it needs.

You'll end up with something like this, for pkg-config itself:

PKG_CONFIG_PATH="$PWD/glib-$GLIB_VER:$PKG_CONFIG_PATH" \
PKG_CONFIG=false \
GLIB_CFLAGS="-I$PWD/glib-$GLIB_VER -I$PWD/glib-$GLIB_VER/glib" \
GLIB_LIBS="$PWD/glib-$GLIB_VER/glib/libglib-2.0.la" \
./configure

=> GLIB_CFLAGS="-I${HULI}/glib-2.0 -I${HULL}/glib-2.0/include" GLIB_LIBS="-L${HULL} -lglib-2.0 -lintl"

~~~~~~~~~~~~~~

Ubuntu make glib

make[4]: Entering directory `/home/git/ces/src/glib-2.32.3/glib'
  CC     gallocator.lo
  CC     gcache.lo
  CC     gcompletion.lo
  CC     grel.lo
  CC     gthread-deprecated.lo
  CC     garray.lo
  CC     gasyncqueue.lo
  CC     gatomic.lo
  CC     gbacktrace.lo
  CC     gbase64.lo
  CC     gbitlock.lo
  CC     gbookmarkfile.lo
  CC     gbytes.lo
  CC     gcharset.lo
  CC     gchecksum.lo
  CC     gconvert.lo
gconvert.c:66:2: #error GNU libiconv not in use but included iconv.h is from libiconv
make[4]: *** [gconvert.lo] Error 1
make[4]: Leaving directory `/home/git/ces/src/glib-2.32.3/glib'
make[3]: *** [all-recursive] Error 1
make[3]: Leaving directory `/home/git/ces/src/glib-2.32.3/glib'
make[2]: *** [all] Error 2
make[2]: Leaving directory `/home/git/ces/src/glib-2.32.3/glib'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/home/git/ces/src/glib-2.32.3'
make: *** [all] Error 2

Has to make sure '#define USE_LIBICONV_GNU 1' is in there somehow.
An elusive confdefs.h should help, but in the end, for now, modif existing config.h file:

gen_sed -i "s;^ICONV_LIBS =.*$;ICONV_LIBS = -liconv;g" Makefile ; 
gen_sed -i "s;^/\* #undef USE_LIBICONV_NATIVE \*/;#define USE_LIBICONV_GNU 1;g" config.h

~~~~~~~~~~~~~~~~~

Redhat configure groff 



configure:4407: checking that C++ compiler can compile simple program
configure:4425: g++ -o conftest -g -O2 -I/home/auser/ce8/usr/local/include -I/home/auser/ce8/usr/local/ssl/include -fPIC -O -U_FORTIFY_SOURCE -m64 -L/home/auser/ce8/usr/local/lib -L/home/auser/ce8/usr/local/ssl/lib -L/home/auser/ce8/usr/local/apps/python/lib -Wl,-rpath=/home/auser/ce8/usr/local/lib:/home/auser/ce8/usr/local/ssl/lib:/home/auser/ce8/usr/local/apps/svn/lib:/home/auser/ce8/usr/local/apps/python/lib:/home/auser/ce8/usr/local/apps/gcc/lib conftest.cpp  >&5
/home/auser/ce8/usr/local/lib/libstdc++.so: undefined reference to `libintl_bindtextdomain'
/home/auser/ce8/usr/local/lib/libstdc++.so: undefined reference to `libintl_textdomain'
collect2: ld returned 1 exit status
configure:4425: $? = 1

Probably miss an -lintl
=> LIBS=" -lintl" ./configure ...: modify params for groff
~~~~~~~~~~~~~~~~~~
RedHat: make glib

  CCLD   gdbus
    CC     gresource-gresource-tool.o
    gresource-tool.c:34:20: libelf.h: No such file or directory
    gresource-tool.c:35:18: gelf.h: No such file or directory
    gresource-tool.c:136: error: syntax error before '*' token
    gresource-tool.c:139: warning: return type defaults to `int'
    gresource-tool.c: In function `get_elf':
    gresource-tool.c:140: error: `Elf' undeclared (first use in this function)
    
=> add libelf from http://www.mr511.de/software/
~~~~~~~~~~~~~~~~
Redhat make glib

make[4]: Leaving directory `/home/auser/ce8/.cpl/src/glib-2.32.3/gio'
Making all in tests
make[4]: Entering directory `/home/auser/ce8/.cpl/src/glib-2.32.3/gio/tests'
  GEN    gdbus-test-codegen-generated.c
/usr/bin/env: python2.5: No such file or directory
make[4]: *** [gdbus-test-codegen-generated.c] Error 127
make[4]: Leaving directory `/home/auser/ce8/.cpl/src/glib-2.32.3/gio/tests'

http://mail-index.netbsd.org/pkgsrc-users/2012/01/30/msg015619.html

>  gdbus-codegen is used to generate code and/or documentation for one
>  or more D-Bus interfaces. The tool reads Introspection XML files and
>  generates output files. The tool currently supports generating C code
>  and Docbook XML.
>
> So basically, if we want gdbus-codegen, we need to add the python 
> dependency...

auser01:50 ahostname /home/auser/ce8/.cpl/src/glib-2.32.3/gio/ #vi Makefile
remove SUBDIRS tests value, to avoid gio/tests compilation

auser01:50 ahostname /home/auser/ce8/.cpl/src/glib-2.32.3/gio/gdbus-2.0/codegen #vi Makefile
remove bin_scripts value to avoid gio/gdbus-2.0/codegen installation

~~~~~~~~~~~~~~~~~~
RedHat: make apache


/home/auser/ce8/usr/local/libs/apr-1.2.2/build-1/libtool --silent --mode=link gcc -pthread  -I/home/auser/ce8/usr/local/include -I/home/auser/ce8/usr/local/ssl/include -fPIC -O -U_FORTIFY_SOURCE -m64   -L/home/auser/ce8/usr/local/libs/openssl-1.0.0j/lib  -L/home/auser/ce8/usr/local/lib -L/home/auser/ce8/usr/local/ssl/lib -L/home/auser/ce8/usr/local/apps/python/lib -Wl,-rpath=/home/auser/ce8/usr/local/lib:/home/auser/ce8/usr/local/ssl/lib:/home/auser/ce8/usr/local/apps/svn/lib:/home/auser/ce8/usr/local/apps/python/lib:/home/auser/ce8/usr/local/apps/gcc/lib -o httpd  modules.lo buildmark.o -export-dynamic server/libmain.la modules/http/libmod_http.la modules/mappers/libmod_so.la server/mpm/prefork/libprefork.la os/unix/libos.la -lm /home/auser/ce8/.cpl/src/httpd-2.2.22/srclib/pcre/libpcre.la /home/auser/ce8/usr/local/libs/aprutil-1.2.2/lib/libaprutil-1.la -lldap -llber -lgdbm -ldb -lsqlite3 -lexpat -liconv /home/auser/ce8/usr/local/libs/apr-1.2.2/lib/libapr-1.la -lrt -lcrypt -lpthread -ldl
modules/http/.libs/libmod_http.a(byterange_filter.o): In function `ap_set_byterange':
byterange_filter.c:(.text+0xb44): undefined reference to `apr_array_clear'
collect2: ld returned 1 exit status
make[1]: *** [httpd] Error 1
make[1]: Leaving directory `/home/auser/ce8/.cpl/src/httpd-2.2.22'
make: *** [all-recursive] Error 1

https://issues.apache.org/bugzilla/show_bug.cgi?id=53162#c6

It seems apr_array_clear has been introduced in apr 1.3.x. I guess you are trying to compile with apr 1.2.x. You can use --with-included-apr as a work-around.

Not sure if we should just document the apr 1.3 dependency or try to restore apr 1.2 compatibility in 2.2.23.

=> upgrade apr (and apr-util) libs
~~~~~~~~~~~~~~~~~~
Redhat cmake configure

  /home/auser/ce8/.cpl/src/cmake-2.8.8/bld/Bootstrap.cmk/cmake
  -E cmake_progress_report
  /home/auser/ce8/.cpl/src/cmake-2.8.8/bld/CMakeFiles/CMakeTmp/CMakeFiles
  1

  Building CXX object
  CMakeFiles/cmTryCompileExec547914482.dir/testCXXCompiler.cxx.o

  /home/auser/ce8/bin/g++ -o
  CMakeFiles/cmTryCompileExec547914482.dir/testCXXCompiler.cxx.o -c
  /home/auser/ce8/.cpl/src/cmake-2.8.8/bld/CMakeFiles/CMakeTmp/testCXXCompiler.cxx


  Linking CXX executable cmTryCompileExec547914482


  /home/auser/ce8/.cpl/src/cmake-2.8.8/bld/Bootstrap.cmk/cmake
  -E cmake_link_script CMakeFiles/cmTryCompileExec547914482.dir/link.txt
  --verbose=1

  /home/auser/ce8/bin/g++
  -L/home/auser/ce8/usr/local/lib
  -L/home/auser/ce8/usr/local/ssl/lib
  -L/home/auser/ce8/usr/local/apps/python/lib
  -Wl,-rpath=/home/auser/ce8/usr/local/lib:/home/auser/ce8/usr/local/ssl/lib:/home/auser/ce8/usr/local/apps/svn/lib:/home/auser/ce8/usr/local/apps/python/lib:/home/auser/ce8/usr/local/apps/gcc/lib
  CMakeFiles/cmTryCompileExec547914482.dir/testCXXCompiler.cxx.o -o
  cmTryCompileExec547914482 -rdynamic

  /home/auser/ce8/usr/local/lib/libstdc++.so: undefined
  reference to `libintl_bindtextdomain'

  /home/auser/ce8/usr/local/lib/libstdc++.so: undefined
  reference to `libintl_textdomain'

  collect2: ld returned 1 exit status

  gmake[1]: *** [cmTryCompileExec547914482] Error 1

  gmake[1]: Leaving directory
  `/home/auser/ce8/.cpl/src/cmake-2.8.8/bld/CMakeFiles/CMakeTmp'


  gmake: *** [cmTryCompileExec547914482/fast] Error 2

=> HUGE HACK OF DEATH
g++ calls gpp (the actual g++) with ' -lintl $*' in order to always pass '-lintl'...

Better hack: add '-lintl' to 'LFDLAGS' in '.bashrc'

See next section for a more detailed analysis of this issue
~~~~~~~~~~~~~~~~~~~~

auser04:17 ahostname /home/auser/ce8/.cpl/src/mysql-5.5.25/bld #cmake --trace .

/home/auser/ce8/usr/local/apps/cmake-2.8.8/share/cmake-2.8/Modules/CMakeTestCXXCompiler.cmake(32):  SET(CXX_TEST_WAS_RUN 1 )
/home/auser/ce8/usr/local/apps/cmake-2.8.8/share/cmake-2.8/Modules/CMakeTestCXXCompiler.cmake(35):  IF(NOT CMAKE_CXX_COMPILER_WORKS )
/home/auser/ce8/usr/local/apps/cmake-2.8.8/share/cmake-2.8/Modules/CMakeTestCXXCompiler.cmake(36):  PrintTestCompilerStatus(CXX  -- broken )
/home/auser/ce8/usr/local/apps/cmake-2.8.8/share/cmake-2.8/Modules/CMakeTestCompilerCommon.cmake(16):  IF(CMAKE_GENERATOR MATCHES Make )
/home/auser/ce8/usr/local/apps/cmake-2.8.8/share/cmake-2.8/Modules/CMakeTestCompilerCommon.cmake(17):  MESSAGE(STATUS Check for working ${LANG} compiler: ${CMAKE_${LANG}_COMPILER}${MSG} )
-- Check for working CXX compiler: /home/auser/ce8/bin/c++ -- broken
/home/auser/ce8/usr/local/apps/cmake-2.8.8/share/cmake-2.8/Modules/CMakeTestCXXCompiler.cmake(40):  FILE(REMOVE ${CMAKE_PLATFORM_ROOT_BIN}/CMakeCPlatform.cmake )
/home/auser/ce8/usr/local/apps/cmake-2.8.8/share/cmake-2.8/Modules/CMakeTestCXXCompiler.cmake(41):  FILE(REMOVE ${CMAKE_PLATFORM_ROOT_BIN}/CMakeCXXPlatform.cmake )
/home/auser/ce8/usr/local/apps/cmake-2.8.8/share/cmake-2.8/Modules/CMakeTestCXXCompiler.cmake(42):  FILE(APPEND ${CMAKE_BINARY_DIR}${CMAKE_FILES_DIRECTORY}/CMakeError.log Determining if the CXX compiler works failed with  the following output:\n${__CMAKE_CXX_COMPILER_OUTPUT}\n\n )
/home/auser/ce8/usr/local/apps/cmake-2.8.8/share/cmake-2.8/Modules/CMakeTestCXXCompiler.cmake(45):  MESSAGE(FATAL_ERROR The C++ compiler \"${CMAKE_CXX_COMPILER}\"  is not able to compile a simple test program.\nIt fails  with the following output:\n ${__CMAKE_CXX_COMPILER_OUTPUT}\n\n CMake will not be able to correctly generate this project. )
CMake Error at /home/auser/ce8/usr/local/apps/cmake-2.8.8/share/cmake-2.8/Modules/CMakeTestCXXCompiler.cmake:45 (MESSAGE):

http://gcc.gnu.org/bugzilla/show_bug.cgi?id=11074 tals about patch of acinclude.m4

I have modified that acinclude.m4 to always consider 'lintl', and have added '-lintl' to 'LDFLAGS' in the '.bashrc'
~~~~~~~~~~~~~~~~~~~~

auser10:47 ahostname /home/auser/ce8/gitlab/github #bundle install --without development test --deployment
Unfortunately, a fatal error has occurred. Please see the Bundler
troubleshooting documentation at http://bit.ly/bundler-issues. Thanks!
<internal:lib/rubygems/custom_require>:29:in `require': libcrypto.so.1.0.0: cannot open shared object file: No such file or directory - /home/auser/ce8/usr/local/apps/ruby-1.9.2p0/lib/ruby/1.9.1/x86_64-linux/digest/sha1.so (LoadError)
        from <internal:lib/rubygems/custom_require>:29:in `require'
        from /home/auser/ce8/usr/local/apps/ruby-1.9.2p0/lib/ruby/gems/1.9.1/gems/bundler-1.1.4/lib/bundler/definition.rb:1:in `<top (required)>'


auser10:47 ahostname /home/auser/ce8/gitlab/github #ldd /home/auser/ce8/usr/local/apps/ruby-1.9.2p0/lib/ruby/1.9.1/x86_64-linux/digest/sha1.so
        linux-vdso.so.1 =>  (0x00007fff522e0000)
        libruby.so.1.9 => /home/auser/ce8/usr/local/lib/libruby.so.1.9 (0x00002ba62611d000)
        libcrypto.so.1.0.0 => not found
        libpthread.so.0 => /lib64/libpthread.so.0 (0x00002ba626416000)
        librt.so.1 => /lib64/librt.so.1 (0x00002ba62652f000)
        libdl.so.2 => /lib64/libdl.so.2 (0x00002ba626639000)
        libcrypt.so.1 => /lib64/libcrypt.so.1 (0x00002ba62673d000)
        libm.so.6 => /lib64/libm.so.6 (0x00002ba626876000)
        libc.so.6 => /lib64/libc.so.6 (0x00002ba6269cc000)
        /lib64/ld-linux-x86-64.so.2 (0x0000555555554000)
auser11:25 ahostname /home/auser/ce8/gitlab/github #find /home/auser/ce8/usr/local/ -name "libcrypto.so*"
/home/auser/ce8/usr/local/ssl/lib/libcrypto.so.1.0.0
/home/auser/ce8/usr/local/ssl/lib/libcrypto.so
/home/auser/ce8/usr/local/libs/openssl-1.0.0j/lib/libcrypto.so
/home/auser/ce8/usr/local/libs/openssl-1.0.0j/lib/libcrypto.so.1.0.0
/home/auser/ce8/usr/local/lib/libcrypto.so
auser11:26 ahostname /home/auser/ce8/gitlab/github #l /home/auser/ce8/usr/local/lib/libcrypto.so
lrwxrwxrwx 1 auser dev_user 23 2012-06-25 14:20 /home/auser/ce8/usr/local/lib/libcrypto.so -> ../ssl/lib/libcrypto.so
auser11:26 ahostname /home/auser/ce8/gitlab/github #ln -s ../ssl/lib/libcrypto.so.1.0.0 /home/auser/ce8/usr/local/lib
auser11:27 ahostname /home/auser/ce8/gitlab/github #l /home/auser/ce8/usr/local/lib/libcrypto.so.1.0.0
lrwxrwxrwx 1 auser dev_user 29 2012-06-27 11:27 /home/auser/ce8/usr/local/lib/libcrypto.so.1.0.0 -> ../ssl/lib/libcrypto.so.1.0.0
auser11:27 ahostname /home/auser/ce8/gitlab/github #ldd /home/auser/ce8/usr/local/apps/ruby-1.9.2p0/lib/ruby/1.9.1/x86_64-linux/digest/sha1.so
        linux-vdso.so.1 =>  (0x00007fff1ef8c000)
        libruby.so.1.9 => /home/auser/ce8/usr/local/lib/libruby.so.1.9 (0x00002b3f23cf7000)
        libcrypto.so.1.0.0 => /home/auser/ce8/usr/local/lib/libcrypto.so.1.0.0 (0x00002b3f23fe0000)
~~~~~~~~~~~~~~~~
Gitlab setup (https://github.com/gitlabhq/gitlabhq/blob/master/doc/installation.md): Setup DB

auser11:41 ahostname /home/auser/ce8/gitlab/github #bundle exec rake gitlab:app:setup RAILS_ENV=production
WARNING:  #<ArgumentError: Illformed requirement ["#<Syck::DefaultKey:0x000000020d1068> 1.1.4"]>
# -*- encoding: utf-8 -*-

Gem::Specification.new do |s|
  s.name = %q{carrierwave}
  s.version = "0.6.2"

  s.required_rubygems_version = Gem::Requirement.new(">= 0") if s.respond_to? :required_rubygems_version=
  s.authors = ["Jonas Nicklas"]
  s.date = %q{2012-04-12}
  s.description = %q{Upload files in your Ruby applications, map them to a range of ORMs, store them on different backends.}
  s.email = ["jonas.nicklas@gmail.com"]
  s.extra_rdoc_files = ["README.md"]
  s.files = ["lib/carrierwave/compatibility/paperclip.rb", "lib/carrierwave/locale/en.yml", "lib/carrierwave/mount.rb", "lib/carrierwave/orm/activerecord.rb", "lib/carrierwave/processing/mime_types.rb", "lib/carrierwave/processing/mini_magick.rb", "lib/carrierwave/processing/rmagick.rb", "lib/carrierwave/sanitized_file.rb", "lib/carrierwave/storage/abstract.rb", "lib/carrierwave/storage/file.rb", "lib/carrierwave/storage/fog.rb", "lib/carrierwave/test/matchers.rb", "lib/carrierwave/uploader/cache.rb", "lib/carrierwave/uploader/callbacks.rb", "lib/carrierwave/uploader/configuration.rb", "lib/carrierwave/uploader/default_url.rb", "lib/carrierwave/uploader/download.rb", "lib/carrierwave/uploader/extension_whitelist.rb", "lib/carrierwave/uploader/mountable.rb", "lib/carrierwave/uploader/processing.rb", "lib/carrierwave/uploader/proxy.rb", "lib/carrierwave/uploader/remove.rb", "lib/carrierwave/uploader/serialization.rb", "lib/carrierwave/uploader/store.rb", "lib/carrierwave/uploader/url.rb", "lib/carrierwave/uploader/versions.rb", "lib/carrierwave/uploader.rb", "lib/carrierwave/validations/active_model.rb", "lib/carrierwave/version.rb", "lib/carrierwave.rb", "lib/generators/templates/uploader.rb", "lib/generators/uploader_generator.rb", "README.md"]
  s.homepage = %q{https://github.com/jnicklas/carrierwave}
  s.rdoc_options = ["--main"]
  s.require_paths = ["lib"]
  s.rubyforge_project = %q{carrierwave}
  s.rubygems_version = %q{1.3.7}
  s.summary = %q{Ruby file upload library}

  if s.respond_to? :specification_version then
    current_version = Gem::Specification::CURRENT_SPECIFICATION_VERSION
    s.specification_version = 3

    if Gem::Version.new(Gem::VERSION) >= Gem::Version.new('1.2.0') then
      s.add_runtime_dependency(%q<activesupport>, [">= 3.2.0"])
      s.add_runtime_dependency(%q<activemodel>, [">= 3.2.0"])
      s.add_development_dependency(%q<mysql2>, [">= 0"])
      s.add_development_dependency(%q<rails>, [">= 3.2.0"])
      s.add_development_dependency(%q<cucumber>, ["#<Syck::DefaultKey:0x000000020d1068> 1.1.4"])
      s.add_development_dependency(%q<json>, [">= 0"])
      s.add_development_dependency(%q<rspec>, ["~> 2.0"])


~
~~~~~~~~~~~~~~~~~~~~

auser12:45 ahostname /home/auser/ce8/gitlab/github #bundle exec rake gitlab:app:setup RAILS_ENV=production
Access denied for user 'root'@'localhost' (using password: YES).
Please provide the root password for your mysql installation

(password is 'msandbox', so change 'gitlab/database.yml.tpl, keeping user 'root')
~~~~~~~~~~~~~~~~~~

git@vonc-VirtualBox:~/ces/ce2$ git push
error: Problem with the SSL CA cert (path? access rights?) while accessing https://github.com/VonC/compileEverything/info/refs
fatal: HTTP request failed

git@vonc-VirtualBox:~/ces/ce2$ git config --global -l
http.sslcainfo=/home/git/ce/ce5/.ssh/curl-ca-bundle.crt

wrong path => 
git@vonc-VirtualBox:~/ces/ce2$ git config --global http.sslcainfo /home/git/ces/ce2/.ssh/curl-ca-bundle.crt

~~~~~~~~~~~~~
RedHat glib make

make[4]: Leaving directory `/home/auser/gitpoc/ce9/.cpl/src/glib-2.32.3/gio'
Making all in tests
make[4]: Entering directory `/home/auser/gitpoc/ce9/.cpl/src/glib-2.32.3/gio/tests'
  GEN    gdbus-test-codegen-generated.c
/usr/bin/env: python2.5: No such file or directory
make[4]: *** [gdbus-test-codegen-generated.c] Error 127
make[4]: Leaving directory `/home/auser/gitpoc/ce9/.cpl/src/glib-2.32.3/gio/tests'

The targets involving python weren't removed before make => params/glib updated
~~~~~~~~~~~~~~~~~~

RedHat openssl make

Incorrect lz for bin/openssl

/home/auser/gitpoc/ce9/usr/local/libs/openssl/=false.
-----
bin/openssl=false (/home/auser/gitpoc/ce9/usr/local/libs/openssl/bin/openssl).
  OK=false, name=libz.so.1, value=/lib64/libz.so.1.
  

/home/auser/gitpoc/ce9/.cpl/src/openssl-1.0.0g/apps 
vi ../Makefile.shared

rm openssl
make
gcc -fPIC -DOPENSSL_PIC -DZLIB -DOPENSSL_THREADS -D_REENTRANT -DDSO_DLFCN -DHAVE_DLFCN_H -Wa,--noexecstack -m64 -DL_ENDIAN -DTERMIO -O3 -Wall -DMD32_REG_T=int -DOPENSSL_IA32_SSE2 -DOPENSSL_BN_ASM_MONT -DSHA1_ASM -DSHA256_ASM -DSHA512_ASM -DMD5_ASM -DAES_ASM -DWHIRLPOOL_ASM -Wl,-rpath,/home/auser/gitpoc/ce9/usr/local/libs/openssl-1.0.0g/lib -o openssl openssl.o verify.o asn1pars.o req.o dgst.o dh.o dhparam.o enc.o passwd.o gendh.o errstr.o ca.o pkcs7.o crl2p7.o crl.o rsa.o rsautl.o dsa.o dsaparam.o ec.o ecparam.o x509.o genrsa.o gendsa.o genpkey.o s_server.o s_client.o speed.o s_time.o apps.o s_cb.o s_socket.o app_rand.o version.o sess_id.o ciphers.o nseq.o pkcs12.o pkcs8.o pkey.o pkeyparam.o pkeyutl.o spkac.o smime.o cms.o rand.o engine.o ocsp.o prime.o ts.o -L.. -lssl -L.. -lcrypto -ldl -L/home/auser/gitpoc/ce9/usr/local/lib -lz

But with a completed rpath

auser08:20 ahostname /home/auser/gitpoc/ce9/.cpl/src/openssl-1.0.0g/apps #gcc -fPIC -DOPENSSL_PIC -DZLIB_SHARED -DZLIB -DOPENSSL_THREADS -D_REENTRANT -DDSO_DLFCN -DHAVE_DLFCN_H -Wa,--noexecstack -m64 -DL_ENDIAN -DTERMIO -O3 -Wall -DMD32_REG_T=int -DOPENSSL_IA32_SSE2 -DOPENSSL_BN_ASM_MONT -DSHA1_ASM -DSHA256_ASM -DSHA512_ASM -DMD5_ASM -DAES_ASM -DWHIRLPOOL_ASM -Wl,-rpath,/home/auser/gitpoc/ce9/usr/local/libs/openssl-1.0.0g/lib:/home/auser/gitpoc/ce9/usr/local/lib  -o openssl openssl.o verify.o asn1pars.o req.o dgst.o dh.o dhparam.o enc.o passwd.o gendh.o errstr.o ca.o pkcs7.o crl2p7.o crl.o rsa.o rsautl.o dsa.o dsaparam.o ec.o ecparam.o x509.o genrsa.o gendsa.o genpkey.o s_server.o s_client.o speed.o s_time.o apps.o s_cb.o s_socket.o app_rand.o version.o sess_id.o ciphers.o nseq.o pkcs12.o pkcs8.o pkey.o pkeyparam.o pkeyutl.o spkac.o smime.o cms.o rand.o engine.o ocsp.o prime.o ts.o -L.. -lssl -L.. -lcrypto -ldl -L/home/auser/gitpoc/ce9/usr/local/lib -lz
auser08:21 ahostname /home/auser/gitpoc/ce9/.cpl/src/openssl-1.0.0g/apps #ldd openssl
        linux-vdso.so.1 =>  (0x00007fff95b96000)
	libssl.so.1.0.0 => /home/auser/gitpoc/ce9/usr/local/libs/openssl-1.0.0g/lib/libssl.so.1.0.0 (0x00002b1212dfc000)
        libcrypto.so.1.0.0 => /home/auser/gitpoc/ce9/usr/local/libs/openssl-1.0.0g/lib/libcrypto.so.1.0.0 (0x00002b1212f56000)
	libdl.so.2 => /lib64/libdl.so.2 (0x00002b1213201000)
	libz.so.1 => /home/auser/gitpoc/ce9/usr/local/lib/libz.so.1 (0x00002b1213305000)
	libc.so.6 => /lib64/libc.so.6 (0x00002b1213419000)
	/lib64/ld-linux-x86-64.so.2 (0x00002b1212ce0000)

~~~~~~~~~~~~~~~~~~~~~~
RedHat: curl make

/home/auser/gitpoc/ce9/usr/local/libs/curl/=false.
-----
lib/libcurl.so.4.2.0=false (/home/auser/gitpoc/ce9/usr/local/libs/curl/lib/libcurl.so.4.2.0).
  OK=false, name=libldap-2.3.so.0, value=/usr/lib64/libldap-2.3.so.0.
  OK=false, name=liblber-2.3.so.0, value=/usr/lib64/liblber-2.3.so.0.
  OK=false, name=libsasl2.so.2, value=/usr/lib64/libsasl2.so.2.
  OK=false, name=libssl.so.0.9.8, value=/usr/lib64/libssl.so.0.9.8.
  OK=false, name=libcrypto.so.0.9.8, value=/usr/lib64/libcrypto.so.0.9.8.
bin/curl=false (/home/auser/gitpoc/ce9/usr/local/libs/curl/bin/curl).
  OK=false, name=libldap-2.3.so.0, value=/usr/lib64/libldap-2.3.so.0.
  OK=false, name=liblber-2.3.so.0, value=/usr/lib64/liblber-2.3.so.0.
  OK=false, name=libsasl2.so.2, value=/usr/lib64/libsasl2.so.2.
  OK=false, name=libssl.so.0.9.8, value=/usr/lib64/libssl.so.0.9.8.
  OK=false, name=libcrypto.so.0.9.8, value=/usr/lib64/libcrypto.so.0.9.8.


auser01:13 ahostname /home/auser/gitpoc/ce9/.cpl/src/curl/lib #gcc -shared  -fPIC -DPIC  .libs/file.o .libs/timeval.o .libs/base64.o .libs/hostip.o .libs/progress.o .libs/formdata.o .libs/cookie.o .libs/http.o .libs/sendf.o .libs/ftp.o .libs/url.o .libs/dict.o .libs/if2ip.o .libs/speedcheck.o .libs/ldap.o .libs/ssluse.o .libs/version.o .libs/getenv.o .libs/escape.o .libs/mprintf.o .libs/telnet.o .libs/netrc.o .libs/getinfo.o .libs/transfer.o .libs/strequal.o .libs/easy.o .libs/security.o .libs/krb4.o .libs/curl_fnmatch.o .libs/fileinfo.o .libs/ftplistparser.o .libs/wildcard.o .libs/krb5.o .libs/memdebug.o .libs/http_chunks.o .libs/strtok.o .libs/connect.o .libs/llist.o .libs/hash.o .libs/multi.o .libs/content_encoding.o .libs/share.o .libs/http_digest.o .libs/md4.o .libs/md5.o .libs/curl_rand.o .libs/http_negotiate.o .libs/inet_pton.o .libs/strtoofft.o .libs/strerror.o .libs/hostasyn.o .libs/hostip4.o .libs/hostip6.o .libs/hostsyn.o .libs/inet_ntop.o .libs/parsedate.o .libs/select.o .libs/gtls.o .libs/sslgen.o .libs/tftp.o .libs/splay.o .libs/strdup.o .libs/socks.o .libs/ssh.o .libs/nss.o .libs/qssl.o .libs/rawstr.o .libs/curl_addrinfo.o .libs/socks_gssapi.o .libs/socks_sspi.o .libs/curl_sspi.o .libs/slist.o .libs/nonblock.o .libs/curl_memrchr.o .libs/imap.o .libs/pop3.o .libs/smtp.o .libs/pingpong.o .libs/rtsp.o .libs/curl_threads.o .libs/warnless.o .libs/hmac.o .libs/polarssl.o .libs/curl_rtmp.o .libs/openldap.o .libs/curl_gethostname.o .libs/gopher.o .libs/axtls.o .libs/idn_win32.o .libs/http_negotiate_sspi.o .libs/cyassl.o .libs/http_proxy.o .libs/non-ascii.o .libs/asyn-ares.o .libs/asyn-thread.o .libs/curl_gssapi.o .libs/curl_ntlm.o .libs/curl_ntlm_wb.o .libs/curl_ntlm_core.o .libs/curl_ntlm_msgs.o   -Wl,-rpath -Wl,/home/auser/gitpoc/ce9/usr/local/libs/libidn-1.24/lib -Wl,-rpath -Wl,/home/auser/gitpoc/ce9/usr/local/libs/libssh2-1.2.9/lib -Wl,-rpath -Wl,/home/auser/gitpoc/ce9/usr/local/libs/libidn-1.24/lib -Wl,-rpath -Wl,/home/auser/gitpoc/ce9/usr/local/libs/libssh2-1.2.9/lib -Wl,-rpath -Wl,/home/auser/gitpoc/ce9/usr/local/lib -Wl,-rpath -Wl,/home/auser/gitpoc/ce9/usr/local/ssl/lib -L/home/auser/gitpoc/ce9/usr/local/libs/libidn-1.24/lib -L/home/auser/gitpoc/ce9/usr/local/lib -L/home/auser/gitpoc/ce9/usr/local/ssl/lib -L/home/auser/gitpoc/ce9/usr/local/apps/python/lib -L/home/auser/gitpoc/ce9/usr/local/libs/openssl-1.0.0g/lib /home/auser/gitpoc/ce9/usr/local/libs/libidn-1.24/lib/libidn.so -lldap -lrt -lssl -lcrypto -ldl -lz /home/auser/gitpoc/ce9/usr/local/libs/libssh2-1.2.9/lib/libssh2.so  -O -m64 -Wl,-rpath=/home/auser/gitpoc/ce9/usr/local/lib:/home/auser/gitpoc/ce9/usr/local/ssl/lib:/home/auser/gitpoc/ce9/usr/local/apps/svn/lib:/home/auser/gitpoc/ce9/usr/local/apps/python/lib:/home/auser/gitpoc/ce9/usr/local/apps/gcc/lib   -Wl,-soname -Wl,libcurl.so.4 -o .libs/libcurl.so.4.2.0
auser01:13 ahostname /home/auser/gitpoc/ce9/.cpl/src/curl/lib #l .libs/libcurl.so.4.2.0
-rwxrwxr-x 1 auser dev_user 470910 2012-07-05 13:13 .libs/libcurl.so.4.2.0
auser01:14 ahostname /home/auser/gitpoc/ce9/.cpl/src/curl/lib #ldd .libs/libcurl.so.4.2.0
        linux-vdso.so.1 =>  (0x00007fff15bfd000)
        libidn.so.11 => /home/auser/gitpoc/ce9/usr/local/libs/libidn-1.24/lib/libidn.so.11 (0x00002af5d92ea000)
        libldap-2.3.so.0 => /usr/lib64/libldap-2.3.so.0 (0x00002af5d942c000)
        librt.so.1 => /lib64/librt.so.1 (0x00002af5d9567000)
        libssl.so.1.0.0 => /home/auser/gitpoc/ce9/usr/local/lib/libssl.so.1.0.0 (0x00002af5d9670000)
        libcrypto.so.1.0.0 => /home/auser/gitpoc/ce9/usr/local/lib/libcrypto.so.1.0.0 (0x00002af5d97cb000)
        libdl.so.2 => /lib64/libdl.so.2 (0x00002af5d9a65000)
        libz.so.1 => /home/auser/gitpoc/ce9/usr/local/lib/libz.so.1 (0x00002af5d9b69000)
        libssh2.so.1 => /home/auser/gitpoc/ce9/usr/local/libs/libssh2-1.2.9/lib/libssh2.so.1 (0x00002af5d9c7e000)
        libc.so.6 => /lib64/libc.so.6 (0x00002af5d9da4000)
        libintl.so.8 => /home/auser/gitpoc/ce9/usr/local/libs/gettext-0.18.1.1/lib/libintl.so.8 (0x00002af5d9fe5000)
        libiconv.so.2 => /home/auser/gitpoc/ce9/usr/local/libs/libiconv-1.14/lib/libiconv.so.2 (0x00002af5da0f0000)
	    liblber-2.3.so.0 => /usr/lib64/liblber-2.3.so.0 (0x00002af5da2d3000)
	    libresolv.so.2 => /lib64/libresolv.so.2 (0x00002af5da3e2000)
		libsasl2.so.2 => /usr/lib64/libsasl2.so.2 (0x00002af5da4f6000)
		libssl.so.0.9.8 => /usr/lib64/libssl.so.0.9.8 (0x00002af5da60e000)
		libcrypto.so.0.9.8 => /usr/lib64/libcrypto.so.0.9.8 (0x00002af5da757000)
		libpthread.so.0 => /lib64/libpthread.so.0 (0x00002af5da9ba000)
		/lib64/ld-linux-x86-64.so.2 (0x0000555555554000)

miss openldap dependency => add in .cpl/_deps
~~~~~~~~~~~~~~~~~~~~~~
ln -fs errors?
Check if the target doesn't exist already and points to ..//: that would make any link goes to the parent directory!
~~~~~~~~~~~~~~~~~~~~
Ubuntu MMOD error make

==> Found dependencies: version
--> Working on version
Fetching http://www.cpan.org/authors/id/J/JP/JPEACOCK/version-0.99.tar.gz ... OK
Configuring version-0.99 ... OK
Building and testing version-0.99 ... FAIL
! Installing version failed. See /home/git/ces/ce3/.cpanm/build.log for details.
! Bailing out the installation for Module-Metadata-1.000009. Retry with --prompt or --force.
--> Working on CPAN::Meta
Fetching http://www.cpan.org/authors/id/D/DA/DAGOLDEN/CPAN-Meta-2.120921.tar.gz ... OK
Configuring CPAN-Meta-2.120921 ... OK
==> Found dependencies: version, CPAN::Meta::Requirements
--> Working on CPAN::Meta::Requirements
Fetching http://www.cpan.org/authors/id/D/DA/DAGOLDEN/CPAN-Meta-Requirements-2.122.tar.gz ... OK
Configuring CPAN-Meta-Requirements-2.122 ... OK
Building and testing CPAN-Meta-Requirements-2.122 ... OK
Successfully installed CPAN-Meta-Requirements-2.122
Building and testing CPAN-Meta-2.120921 ... FAIL
! Installing CPAN::Meta failed. See /home/git/ces/ce3/.cpanm/build.log for details.
--> Working on Perl::OSType
Fetching http://www.cpan.org/authors/id/D/DA/DAGOLDEN/Perl-OSType-1.002.tar.gz ... OK
Configuring Perl-OSType-1.002 ... OK
Building and testing Perl-OSType-1.002 ... OK
Successfully installed Perl-OSType-1.002
! Bailing out the installation for Module-Build-0.4001. Retry with --prompt or --force.
! Bailing out the installation for Error-0.17018. Retry with --prompt or --force.
5 distributions installed



/home/git/ces/ce3/.cpanm/work/1341659222.5126/version-0.99/blib/arch/auto/version/vxs/vxs.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/CORE/libperl.a `cat blib/arch/auto/version/extralibs.all` 
/home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/site_perl/5.12.3/i686-linux/auto/nginx/nginx.a(nginx.o): In function `ngx_http_perl_sv2str':
/home/git/ces/src/nginx-1.2.2/objs/src/http/modules/perl/nginx.xs:46: undefined reference to `ngx_log_error_core'
/home/git/ces/src/nginx-1.2.2/objs/src/http/modules/perl/nginx.xs:52: undefined reference to `ngx_pnalloc'


git@vonc-VirtualBox:~/ces/ce3$ find ../src/ -name "*" | xargs nm -A 2>/dev/null | grep ngx_log_error_core | grep T
../src/nginx-1.2.1/objs/nginx:08053850 T ngx_log_error_core
../src/nginx-1.2.1/objs/src/core/ngx_log.o:00000000 T ngx_log_error_core

git@vonc-VirtualBox:~/ces/ce3$ l usr/local/apps/nginx
lrwxrwxrwx 1 git git 11 Jul  7 11:11 usr/local/apps/nginx -> nginx-1.2.2

git@vonc-VirtualBox:~/ces/ce3$ find ../src/ -name "nginx.a"
../src/nginx-1.2.1/objs/src/http/modules/perl/blib/arch/auto/nginx/nginx.a
../src/nginx-1.2.2/objs/src/http/modules/perl/blib/arch/auto/nginx/nginx.a
git@vonc-VirtualBox:~/ces/ce3$ find ../src/ -name "ngx_log.o"
../src/nginx-1.2.1/objs/src/core/ngx_log.o
../src/nginx-1.2.2/objs/src/core/ngx_log.o

git@vonc-VirtualBox:~/.cpanm/work/1341659222.5126/version-0.99$ find /home/git/ces/src/nginx/ -name "*" | xargs nm -A 2>/dev/null | grep ngx_pnalloc | grep T
/home/git/ces/src/nginx/objs/nginx:08054365 T ngx_pnalloc
/home/git/ces/src/nginx/objs/src/core/ngx_palloc.o:0000025d T ngx_pnalloc





gcc -L/home/git/ces/ce3/usr/local/lib -o perl -O2 ./perlmain.o  /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/site_perl/5.12.3/i686-linux/auto/nginx/nginx.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/threads/threads.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/threads/shared/shared.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/re/re.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/mro/mro.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/attributes/attributes.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Unicode/Normalize/Normalize.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Time/Piece/Piece.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Time/HiRes/HiRes.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Text/Soundex/Soundex.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Sys/Syslog/Syslog.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Sys/Hostname/Hostname.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Storable/Storable.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Socket/Socket.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/SDBM_File/SDBM_File.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/PerlIO/via/via.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/PerlIO/scalar/scalar.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/PerlIO/encoding/encoding.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/POSIX/POSIX.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Opcode/Opcode.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Math/BigInt/FastCalc/FastCalc.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/MIME/Base64/Base64.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/List/Util/Util.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/IPC/SysV/SysV.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/IO/IO.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/I18N/Langinfo/Langinfo.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Hash/Util/Util.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Hash/Util/FieldHash/FieldHash.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Filter/Util/Call/Call.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/File/Glob/Glob.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Fcntl/Fcntl.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Encode/Unicode/Unicode.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Encode/TW/TW.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Encode/Symbol/Symbol.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Encode/KR/KR.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Encode/JP/JP.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Encode/Encode.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Encode/EBCDIC/EBCDIC.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Encode/CN/CN.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Encode/Byte/Byte.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Digest/SHA/SHA.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Digest/MD5/MD5.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Devel/Peek/Peek.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Devel/PPPort/PPPort.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Devel/DProf/DProf.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Data/Dumper/Dumper.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Cwd/Cwd.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Compress/Raw/Zlib/Zlib.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Compress/Raw/Bzip2/Bzip2.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/B/B.a /home/git/ces/ce3/.cpanm/work/1341659222.5126/version-0.99/blib/arch/auto/version/vxs/vxs.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/CORE/libperl.a `cat blib/arch/auto/version/extralibs.all` 


cp -p src/http/modules/perl/nginx.* objs/src/http/modules/perl/
cp -p src/http/modules/perl/typemap objs/src/http/modules/perl/
cp -p src/http/modules/perl/Makefile.PL objs/src/http/modules/perl/
cd objs/src/http/modules/perl						&& NGX_PM_CFLAGS="-fno-strict-aliasing -pipe -I/home/git/ces/ce3/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -I/home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/CORE -g -I/home/git/ces/ce3/usr/local/include -I/home/git/ces/ce3/usr/local/ssl/include"				NGX_PCRE=YES								NGX_OBJS=objs							NGX_OPENSSL=YES						/home/git/ces/ce3/usr/local/apps/perl/bin/perl Makefile.PL								LIB=							INSTALLSITEMAN3DIR=
Have /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux
Want /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux
Your perl and your Config.pm seem to have different ideas about the 
architecture they are running on.
Perl thinks: [i686-linux]
Config says: [i686-linux]
This may or may not cause problems. Please check your installation of perl 
if you have problems building this extension.
Writing Makefile for nginx
cp -p src/http/modules/perl/nginx.* objs/src/http/modules/perl/
cd objs/src/http/modules/perl && make
make[2]: Entering directory `/home/git/ces/src/nginx-1.2.2/objs/src/http/modules/perl'
cp nginx.pm blib/lib/nginx.pm
/home/git/ces/ce3/usr/local/apps/perl-5.12.3/bin/perl /home/git/ces/ce3/usr/local/apps/perl/lib/current/ExtUtils/xsubpp  -typemap /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/ExtUtils/typemap -typemap typemap  nginx.xs > nginx.xsc && mv nginx.xsc nginx.c
Please specify prototyping behavior for nginx.xs (see perlxs manual)
gcc -c  -I ../../../../../src/core -I ../../../../../src/event -I ../../../../../src/os/unix -I ../../../../../src/http -I ../../../../../src/http/modules -I ../../../../../src/http/modules/perl -I ../../../../../objs  -fno-strict-aliasing -pipe -I/home/git/ces/ce3/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -I/home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/CORE -g -I/home/git/ces/ce3/usr/local/include -I/home/git/ces/ce3/usr/local/ssl/include -O   -DVERSION=\"1.2.2\" -DXS_VERSION=\"1.2.2\"  "-I/home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/CORE"   nginx.c
rm -rf blib/arch/auto/nginx/nginx.a
/usr/bin/ar cr blib/arch/auto/nginx/nginx.a nginx.o && : blib/arch/auto/nginx/nginx.a
chmod 755 blib/arch/auto/nginx/nginx.a





git@vonc-VirtualBox:~/.cpl/src/nginx/src/http/modules/perl$ perl -MExtUtils::Embed -e ldopts
  -L/home/git/ces/ce3/usr/local/lib /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/B/B.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/Compress/Raw/Bzip2/Bzip2.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/Compress/Raw/Zlib/Zlib.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/Cwd/Cwd.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/Data/Dumper/Dumper.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/Devel/DProf/DProf.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/Devel/PPPort/PPPort.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/Devel/Peek/Peek.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/Digest/MD5/MD5.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/Digest/SHA/SHA.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/Encode/Encode.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/Fcntl/Fcntl.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/File/Glob/Glob.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/Filter/Util/Call/Call.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/Hash/Util/Util.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/Hash/Util/FieldHash/FieldHash.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/I18N/Langinfo/Langinfo.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/IO/IO.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/IPC/SysV/SysV.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/List/Util/Util.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/MIME/Base64/Base64.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/Math/BigInt/FastCalc/FastCalc.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/Opcode/Opcode.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/POSIX/POSIX.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/PerlIO/encoding/encoding.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/PerlIO/scalar/scalar.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/PerlIO/via/via.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/SDBM_File/SDBM_File.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/Socket/Socket.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/Storable/Storable.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/Sys/Hostname/Hostname.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/Sys/Syslog/Syslog.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/Text/Soundex/Soundex.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/Time/HiRes/HiRes.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/Time/Piece/Piece.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/Unicode/Normalize/Normalize.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/attributes/attributes.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/mro/mro.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/re/re.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/threads/threads.a /home/git/ces/ce3/usr/local/apps/perl/lib/current/i686-linux/auto/threads/shared/shared.a -L/home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/CORE -lperl















git@vonc-VirtualBox:~/.cpanm/work/1341659222.5126/version-0.99$ find /home/git/ces/src/nginx/ -name "*" | xargs nm -A 2>/dev/null | grep ngx_pnalloc | grep T
/home/git/ces/src/nginx/objs/nginx:08054365 T ngx_pnalloc
/home/git/ces/src/nginx/objs/src/core/ngx_palloc.o:0000025d T ngx_pnalloc








git@vonc-VirtualBox:~/.cpanm/work/1341659222.5126/version-0.99$ gcc -L/home/git/ces/ce3/usr/local/lib -o perl -O2 ./perlmain.o  /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/site_perl/5.12.3/i686-linux/auto/nginx/nginx.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/threads/threads.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/threads/shared/shared.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/re/re.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/mro/mro.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/attributes/attributes.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Unicode/Normalize/Normalize.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Time/Piece/Piece.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Time/HiRes/HiRes.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Text/Soundex/Soundex.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Sys/Syslog/Syslog.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Sys/Hostname/Hostname.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Storable/Storable.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Socket/Socket.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/SDBM_File/SDBM_File.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/PerlIO/via/via.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/PerlIO/scalar/scalar.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/PerlIO/encoding/encoding.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/POSIX/POSIX.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Opcode/Opcode.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Math/BigInt/FastCalc/FastCalc.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/MIME/Base64/Base64.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/List/Util/Util.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/IPC/SysV/SysV.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/IO/IO.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/I18N/Langinfo/Langinfo.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Hash/Util/Util.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Hash/Util/FieldHash/FieldHash.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Filter/Util/Call/Call.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/File/Glob/Glob.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Fcntl/Fcntl.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Encode/Unicode/Unicode.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Encode/TW/TW.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Encode/Symbol/Symbol.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Encode/KR/KR.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Encode/JP/JP.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Encode/Encode.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Encode/EBCDIC/EBCDIC.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Encode/CN/CN.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Encode/Byte/Byte.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Digest/SHA/SHA.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Digest/MD5/MD5.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Devel/Peek/Peek.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Devel/PPPort/PPPort.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Devel/DProf/DProf.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Data/Dumper/Dumper.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Cwd/Cwd.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Compress/Raw/Zlib/Zlib.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/Compress/Raw/Bzip2/Bzip2.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/auto/B/B.a /home/git/ces/ce3/.cpanm/work/1341659222.5126/version-0.99/blib/arch/auto/version/vxs/vxs.a /home/git/ces/ce3/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux/CORE/libperl.a `cat blib/arch/auto/version/extralibs.all` -lm /home/git/ces/src/nginx/objs/src/core/ngx_log.o /home/git/ces/src/nginx/objs/src/core/ngx_array.o /home/git/ces/src/nginx/objs/src/core/ngx_palloc.o 


=> put all nginx obj files in one

git@vonc-VirtualBox:~/.cpanm/work/1341659222.5126/version-0.99$ for i in $(find /home/git/ces/src/nginx/objs -name "*.o"); do echo " $i" >> e ; done

 -lm -lexslt -lgcrypt -lgpg-error -lxml2 -lxslt -lintl -lgettextpo -lssl -lcrypto -lrt -lpcre -lcrypt /home/git/ces/src/nginx-1.2.1/objs/nginx
 
=> remove http://search.cpan.org/~shlomif/Error-0.17018/lib/Error.pm : pain in the crack, and not maintained anymore

Must debug svn2git Alien::SVN to check if it is *really* needed
~~~~~~~~~~~~~~~~~~~~~~
Ubuntu: nginx runtime

git@vonc-VirtualBox:~/.cpl$ nginx
Can't load module nginx, dynamic loading not available in this perl.
  (You may need to build a new perl executable which either supports
  dynamic loading or has the nginx module statically linked into it.)
 at -e line 0
Compilation failed in require.
BEGIN failed--compilation aborted.
nginx: [alert] perl_parse() failed: 255

If I redo perl:

git@vonc-VirtualBox:~$ nginxd
usage: /home/git/ces/ce5/sbin/nginxd {start|stop|restart|status|test|reload}
git@vonc-VirtualBox:~$ nginxd test
Can't locate nginx.pm in @INC (@INC contains: /home/git/ces/ce5/usr/local/apps/perl-5.12.3/lib/site_perl/5.12.3/i686-linux /home/git/ces/ce5/usr/local/apps/perl-5.12.3/lib/site_perl/5.12.3 /home/git/ces/ce5/usr/local/apps/perl-5.12.3/lib/5.12.3/i686-linux /home/git/ces/ce5/usr/local/apps/perl-5.12.3/lib/5.12.3 .).
BEGIN failed--compilation aborted.
nginx: [alert] perl_parse() failed: 2
nginx: configuration file /home/git/ces/ce5/nginx/cnf test failed

git@vonc-VirtualBox:~/usr/local$ find . -name "nginx.pm"
./apps/perl-5.12.3/lib/site_perl/5.12.3/i686-linux/nginx.pm
git@vonc-VirtualBox:~/usr/local$ vi ./apps/perl-5.12.3/lib/site_perl/5.12.3/i686-linux/nginx.pm

require XSLoader;
XSLoader::load('nginx', $VERSION);

git@vonc-VirtualBox:~$ grep -nrHIF DynaLoader ../src/nginx/* 
../src/nginx/objs/src/http/modules/perl/Makefile:449:# The DynaLoader only reads a non-empty file.
../src/nginx/src/http/modules/perl/ngx_http_perl_module.h:60:extern void boot_DynaLoader(pTHX_ CV* cv);
../src/nginx/src/http/modules/perl/ngx_http_perl_module.c:163:    newXS("DynaLoader::boot_DynaLoader", boot_DynaLoader, __FILE__);


git@vonc-VirtualBox:~$ grep -nrHIF "ngx_http_perl_module.o" ../src/nginx/* 
../src/nginx/objs/Makefile:232:	objs/src/http/modules/perl/ngx_http_perl_module.o \
../src/nginx/objs/Makefile:373:	objs/src/http/modules/perl/ngx_http_perl_module.o \
../src/nginx/objs/Makefile:1201:objs/src/http/modules/perl/ngx_http_perl_module.o:	$(CORE_DEPS) $(HTTP_DEPS) \
../src/nginx/objs/Makefile:1204:		-o objs/src/http/modules/perl/ngx_http_perl_module.o \
git@vonc-VirtualBox:~$ vi ../src/nginx/objs/Makefile

objs/src/http/modules/perl/blib/arch/auto/nginx/nginx.so:               src/http/modules/perl/nginx.pm                      src/http/modules/perl/nginx     .xs                      src/http/modules/perl/ngx_http_perl_module.h                objs/src/http/modules/perl/Makefile
1370     cp -p src/http/modules/perl/nginx.* objs/src/http/modules/perl/
1371 
1372     cd objs/src/http/modules/perl && make

=> CAUSED BY EMPTY .ld files in perl, supposed to list all the necessary .o!

=> TODO find solution on Ubuntu (works fine on RedHat)

~~~~~~~~~~~~~~~~~~~~~~~~
ldap_sasl_bind(SIMPLE): Can't contact LDAP server (-1)
(no amount of getting back the cert is enough)
Caused by .ldaprc (which links to openldap/ldap.conf) #TLS_REQCERT demand request => comment for now
Actually, TLS_REQCERT allow is more permissive, make it work for now

The server certificate is requested. If no certificate is provided, the session proceeds normally. If a bad certificate is provided, it will be ignored and the session proceeds normally.

However, true solution is to dig in order to get to the root CA:
echo -n | openssl s_client -showcerts -connect your.ldap.server:xxx | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' > ldapserver.pem
or
openssl s_client -showcerts -connect your.ldap.server:xxx | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' > ldapserver.pem </dev/null
then:
openssl x509 -in ldapserver.pem -noout -text
Extract first of 'Authority Information Access:'
wget http://a.server/CertEnroll/Company%20Certificate.crt
openssl x509 -inform der -in Company\ Certificate.crt -out Company\ Certificate.pem
openssl x509 -in Company\ Certificate.pem -noout -text
Repeat until get to root CA, which has no 'Authority Information Access:' in it
~~~~~~~~~~~~~~~~~~~~~~~~
Cygwin make gettext

gcc -std=gnu99 -DLOCALEDIR=\"/home/auser/ce1/usr/local/libs/gettext-0.18.1.1/share/locale\" -DBISON_LOCALEDIR=\"\"  -DLOCALE_ALIAS_PATH=\"/home/auser/ce1/usr/local/libs/gettext-0.18.1.1/share/locale\"  -DUSEJAVA=0  -DUSEJEXE=0  -DGETTEXTJEXEDIR=\"/home/auser/ce1/usr/local/libs/gettext-0.18.1.1/lib/gettext\"  -DGETTEXTJAR=\"/home/auser/ce1/usr/local/libs/gettext-0.18.1.1/share/gettext/gettext.jar\"  -DLIBDIR=\"/home/auser/ce1/usr/local/libs/gettext-0.18.1.1/lib\"  -DGETTEXTDATADIR=\"/home/auser/ce1/usr/local/libs/gettext-0.18.1.1/share/gettext\"  -DPROJECTSDIR=\"/home/auser/ce1/usr/local/libs/gettext-0.18.1.1/share/gettext/projects\" -DHAVE_CONFIG_H -I. -I..  -I. -I.  -I.. -I..  -I../libgrep  -I../gnulib-lib -I../gnulib-lib  -I../intl -I../../gettext-runtime/intl -DINSTALLDIR=\"/home/auser/ce1/usr/local/libs/gettext-0.18.1.1/bin\" -I/home/auser/ce1/usr/local/include -I/home/auser/ce1/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL  -I/home/auser/ce1/usr/local/include -I/home/auser/ce1/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL -c -o msgcmp-msgl-fsearch.o `test -f 'msgl-fsearch.c' || echo './'`msgl-fsearch.cwindres `/bin/sh ../../windows/windres-options --escape 0.18.1` -i ../../windows/gettext.rc -o gettext.res --output-format=coff/bin/sh ../libtool  --tag=CC    --mode=link gcc -std=gnu99  -I/home/auser/ce1/usr/local/include -I/home/auser/ce1/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL   -L/home/auser/ce1/usr/local/lib -L/home/auser/ce1/usr/local/ssl/lib -L/home/auser/ce1/usr/local/apps/python/lib -Wl,-rpath=/home/auser/ce1/usr/local/lib:/home/auser/ce1/usr/local/ssl/lib:/home/auser/ce1/usr/local/apps/svn/lib:/home/auser/ce1/usr/local/apps/python/lib:/home/auser/ce1/usr/local/apps/gcc/lib -Wl,--disable-auto-import -o msgcmp.exe msgcmp-msgcmp.o  msgcmp-msgl-fsearch.o libgettextsrc.la   gettext.res

libtool: link: gcc -std=gnu99 -I/home/auser/ce1/usr/local/include -I/home/auser/ce1/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL -Wl,-rpath=/home/auser/ce1/usr/local/lib:/home/auser/ce1/usr/local/ssl/lib:/home/auser/ce1/usr/local/apps/svn/lib:/home/auser/ce1/usr/local/apps/python/lib:/home/auser/ce1/usr/local/apps/gcc/lib -Wl,--disable-auto-import -o msgcmp.exe msgcmp-msgcmp.o msgcmp-msgl-fsearch.o gettext.res  -L/home/auser/ce1/usr/local/lib -L/home/auser/ce1/usr/local/ssl/lib -L/home/auser/ce1/usr/local/apps/python/lib ./.libs/libgettextsrc.a /home/auser/src/gettext-0.18.1.1/gettext-tools/gnulib-lib/.libs/libgettextlib.a /home/auser/ce1/usr/local/libs/libxml2-2.8.0/lib/libxml2.dll.a -lz /home/auser/src/gettext-0.18.1.1/gettext-tools/intl/.libs/libintl.a /home/auser/ce1/usr/local/libs/libiconv-1.14/lib/libiconv.dll.a -L/home/auser/ce1/usr/local/libs/libxml2-2.8.0/lib -L/home/auser/ce1/usr/local/libs/libiconv-1.14/lib -L/home/auser/ce1/usr/local/libs/libxml2-2.8.0/lib -L/home/auser/ce1/usr/local/libs/libiconv-1.14/libmsgcmp-msgcmp.o:msgcmp.c:(.text+0x32): undefined reference to `_error_print_progname'

msgcmp-msgcmp.o:msgcmp.c:(.text+0x6a1): undefined reference to `_error_message_count'
/usr/lib/gcc/i686-pc-cygwin/3.4.4/../../../../i686-pc-cygwin/bin/ld: msgcmp-msgcmp.o: bad reloc address 0x80 in section `.rdata'
/usr/lib/gcc/i686-pc-cygwin/3.4.4/../../../../i686-pc-cygwin/bin/ld: final link failed: Invalid operation
collect2: ld returned 1 exit status
Makefile:1979: recipe for target `msgcmp.exe' failed
make[4]: *** [msgcmp.exe] Error 1
make[4] : on quitte le rpertoire  /home/auser/src/gettext-0.18.1.1/gettext-tools/src 
Makefile:1832: recipe for target `all' failed
make[3]: *** [all] Error 2
make[3] : on quitte le rpertoire  /home/auser/src/gettext-0.18.1.1/gettext-tools/src 
Makefile:1408: recipe for target `all-recursive' failed
make[2]: *** [all-recursive] Error 1
make[2] : on quitte le rpertoire  /home/auser/src/gettext-0.18.1.1/gettext-tools 
Makefile:1273: recipe for target `all' failed
make[1]: *** [all] Error 2
make[1] : on quitte le rpertoire  /home/auser/src/gettext-0.18.1.1/gettext-tools 
Makefile:277: recipe for target `all-recursive' failed

Potentially miss error_message_count from glic,... which cannot be recompiled (not supported on Cygwin, gcc 3.4.2 too old) => reset gettext to an older version)
~~~~~~~~~~~~~~~~~~~~
Cygwin issue on gcc-3.4.6 compilation

 make[1] : on entre dans le rpertoire  /home/auser/src/gcc-3.4.6/objdir/gcc 
 make \
   CFLAGS="-I/home/auser/ce1/usr/local/include -I/home/auser/ce1/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL -W -Wall -Wwrite-strings -
 Wstrict-prototypes -Wmissing-prototypes -pedantic -Wno-long-long  " \
   CONFIG_H="tconfig.h ../../gcc/../include/ansidecl.h ../../gcc/config/i386/xm-cygwin.h" TM_H="tm.h      ../../gcc/config/i386/i386.h ../../gcc/config/i386/
 unix.h ../../gcc/config/i386/bsd.h ../../gcc/config/i386/gas.h ../../gcc/config/dbxcoff.h ../../gcc/config/i386/cygming.h ../../gcc/config/i386/cygwin.h ../
 ../gcc/defaults.h insn-constants.h insn-flags.h" \
   INCLUDES="-I. -I. -I../../gcc -I../../gcc/. -I../../gcc/../include " \
   MAKEOVERRIDES= \
   -f libgcc.mk all
 make[2] : on entre dans le rpertoire  /home/auser/src/gcc-3.4.6/objdir/gcc 
 for d in libgcc; do \
   if [ -d $d ]; then true; else /bin/sh ../../gcc/mkinstalldirs $d; fi; \
 done
 if [ -f stmp-dirs ]; then true; else touch stmp-dirs; fi
 make[2] : on quitte le rpertoire  /home/auser/src/gcc-3.4.6/objdir/gcc 
 make[1] : on quitte le rpertoire  /home/auser/src/gcc-3.4.6/objdir/gcc 
 Checking multilib configuration...
 multilib.out is unchanged
 make[1] : on entre dans le rpertoire  /home/auser/src/gcc-3.4.6/objdir/i686-pc-cygwin/libiberty 
 if [ x"" != x ]; then \
   /home/auser/ce1/.cpl/src/gcc-3.4.6/objdir/gcc/xgcc -B/home/auser/ce1/.cpl/src/gcc-3.4.6/objdir/gcc/ -B/home/auser/ce1/usr/local/apps/gcc-3.4.6/i6
 86-pc-cygwin/bin/ -B/home/auser/ce1/usr/local/apps/gcc-3.4.6/i686-pc-cygwin/lib/ -isystem /home/auser/ce1/usr/local/apps/gcc-3.4.6/i686-pc-cygwin/incl
 ude -isystem /home/auser/ce1/usr/local/apps/gcc-3.4.6/i686-pc-cygwin/sys-include -c -DHAVE_CONFIG_H -O2 -I/home/auser/ce1/usr/local/include -I/home/43
 640119/ce1/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL -I. -I../../../libiberty/../include  -W -Wall -Wtraditional -pedantic  ../../../libib
 erty/strsignal.c -o pic/strsignal.o; \
 else true; fi
 /home/auser/ce1/.cpl/src/gcc-3.4.6/objdir/gcc/xgcc -B/home/auser/ce1/.cpl/src/gcc-3.4.6/objdir/gcc/ -B/home/auser/ce1/usr/local/apps/gcc-3.4.6/i686
 -pc-cygwin/bin/ -B/home/auser/ce1/usr/local/apps/gcc-3.4.6/i686-pc-cygwin/lib/ -isystem /home/auser/ce1/usr/local/apps/gcc-3.4.6/i686-pc-cygwin/includ
 e -isystem /home/auser/ce1/usr/local/apps/gcc-3.4.6/i686-pc-cygwin/sys-include -c -DHAVE_CONFIG_H -O2 -I/home/auser/ce1/usr/local/include -I/home/4364
 0119/ce1/usr/local/ssl/include -O -U_FORTIFY_SOURCE -DHAVE_STRSIGNAL -I. -I../../../libiberty/../include  -W -Wall -Wtraditional -pedantic ../../../libibert
 y/strsignal.c -o strsignal.o
 ../../../libiberty/strsignal.c: In function `psignal':
 ../../../libiberty/strsignal.c:563: error: argument "signo" doesn't match prototype
 /usr/include/signal.h:27: error: prototype declaration
 ../../../libiberty/strsignal.c:563: error: argument "message" doesn't match prototype
 /usr/include/signal.h:27: error: prototype declaration
 ../../../libiberty/strsignal.c:568: warning: comparison between signed and unsigned
 make[1]: *** [strsignal.o] Erreur 1
 make[1] : on quitte le rpertoire  /home/auser/src/gcc-3.4.6/objdir/i686-pc-cygwin/libiberty 
 make: *** [all-target-libiberty] Erreur 2
 => to check
~~~~~~~~~~~~~~~~~~~~~~~~
Unix glib make
hostname /home/auser/src/glib-2.34.1/gio/tests #tl
make[4]: Entering directory `/home/auser/src/glib-2.34.1/gio/tests'
make[4]: *** No rule to make target `../../gio/gdbus-2.0/codegen/gdbus-codegen', needed by `gdbus-test-codegen-generated.c'.  Stop.
make[4]: Leaving directory `/home/auser/src/glib-2.34.1/gio/tests'

=> ahostname /home/auser/ce1/.cpl/src/glib/gio/gdbus-2.0/codegen #make gdbus-codegen
 cd ../../.. && /bin/sh ./config.status gio/gdbus-2.0/codegen/Makefile
config.status: creating gio/gdbus-2.0/codegen/Makefile
  GEN    gdbus-codegen
(Makefile seems already there) or maybe it should have been removed from src
Add '--disable-modular-tests'
~~~~~~~~~~~~~~~~~~~~~~~~
Unix make pygment
Downloading/unpacking pygments
  Error <urlopen error timed out> while getting http://pypi.python.org/packages/source/P/Pygments/Pygments-1.5.tar.gz#md5=ef997066cc9ee7a47d01fb4f3da0b5ff (from http://pypi.python.org/simple/Pygments/)
Exception:
Traceback (most recent call last):
  File "/home/auser/ce1/usr/local/apps/python-2.6.2/lib/python2.6/site-packages/pip-1.2.1-py2.6.egg/pip/basecommand.py", line 107, in main
    status = self.run(options, args)

Strange because in a sourced environment, when done manually, it works: 

ahostname /home/auser/ce1/.cpl/params #pip install pygments
Downloading/unpacking pygments
  Downloading Pygments-1.5.tar.gz (3.7MB): 3.7MB downloaded
  Running setup.py egg_info for package pygments
Installing collected packages: pygments
  Running setup.py install for pygments
    Installing pygmentize script to /home/auser/ce1/usr/local/apps/python-2.6.2/bin
Successfully installed pygments
Cleaning up...
~~~~~~~~~~~~~~~~~~~~~~~
make gitlab Unix
Installing pg (0.14.0) with native extensions
Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension.

/home/auser/usr/local/apps/ruby-1.9.2p0/bin/ruby extconf.rb
checking for pg_config... no
No pg_config... trying anyway. If building fails, please try again with
 --with-pg-config=/path/to/pg_config
checking for libpq-fe.h... no
Can't find the 'libpq-fe.h header
*** extconf.rb failed ***
Could not create Makefile due to some reason, probably lack of
necessary libraries and/or headers.  Check the mkmf.log file for more
details.  You may need configuration options.

=> need to conpile and install postgresql, even though not directly used
~~~~~~~~~~~~~~~~~~~~~~~~~~~
gitlab installation Unix
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
Someone could be eavesdropping on you right now (man-in-the-middle attack)!
It is also possible that a host key has just been changed.
The fingerprint for the ECDSA key sent by the remote host is
55:51:06:c7:08:b5:57:04:42:8a:33:bf:95:d6:5d:2d.
Please contact your system administrator.
Add correct host key in /home/auser/.ssh/known_hosts to get rid of this message.
Offending ECDSA key in /home/auser/.ssh/known_hosts:4
ECDSA host key for [localhost]:2200 has changed and you have requested strict checking.
Host key verification failed.
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
rake aborted!
unable to clone gitolite-admin repo

=> regenerate the openssh post script
auser10:29 ahostname /home/auser/openssh #./post_install_ssh.sh
~~~~~~~~~~~~~~~~~~~~~~~~
auser12:52 ahostname /home/auser/gitlab #nginxd start
starting nginx
nginx: [emerg] bind() to 0.0.0.0:9883 failed (98: Address already in use)
nginx: [emerg] bind() to 0.0.0.0:9883 failed (98: Address already in use)
nginx: [emerg] bind() to 0.0.0.0:9883 failed (98: Address already in use)
nginx: [emerg] bind() to 0.0.0.0:9883 failed (98: Address already in use)
nginx: [emerg] bind() to 0.0.0.0:9883 failed (98: Address already in use)
nginx: [emerg] still could not bind()
auser12:52 ahostname /home/auser/gitlab #nginxd stop
nginx already stopped
http://colinharrington.net/blog/2010/12/which-process-has-that-port-open-linux-netstat-anp/
It took me a second to figure out how locate the process, but it turned out to be a really easy task using the netstat command by executing .netstat -anp | grep 8080. (a = all interfaces, n = numeric, p = show pid) This isn.t perfect since it will still show you anything with a pid of 8080 (the port number I was looking for), but its a great quick-and dirtry way to identify the process. and once I.ve found it I can kill it with a .kill -9 <pid>.
user@machine:~/$ netstat -anp | grep 8080
tcp6 0 0 :::8080 :::* LISTEN 19884/java
user@machine:~/$ kill -9 19884
Which reminds me of this classic (please excuse the profanity):

ps:
Windows => netstat -ano
OSX => lsof -i -P

However, here: no way to kill it...

auser12:57 ahostname /home/auser/gitlab #netstat -anp |grep 9883
(Not all processes could be identified, non-owned process info
 will not be shown, you would have to be root to see it all.)
tcp        1      0 128.210.130.26:9883     128.209.20.112:3966     CLOSE_WAIT  -
tcp        1      0 128.210.130.26:19883    128.209.20.112:3966     CLOSE_WAIT  -

nslookup or host xxxx to find the name of the client which still maintains a ghost connexion on it. 
But other than that, reboot or change the port number


~~~~~~~~~~~~~~~~~~~~~~~~~~
Unix make nxlog:

/usr/bin/ld: /home/auser/usr/local/apps/perl-5.12.3/lib/5.12.3/x86_64-linux/CORE/libperl.a(op.o): relocation R_X86_64_32 against `a local symbol' can not be used when making a shared object; recompile with -fPIC
/home/auser/usr/local/apps/perl-5.12.3/lib/5.12.3/x86_64-linux/CORE/libperl.a: could not read symbols: Bad value
collect2: ld returned 1 exit status
make[4]: *** [xm_perl.la] Error 1
make[4]: Leaving directory `/devit_home/users/vobadm/gitpoc/src/nxlog-ce-2.0.926/src/modules/extension/perl'

Wed, 10/31/2012 - 13:49 | admin
Version 2.0.926 of nxlog community edition has been released.
The most notable feature addition in this release is the xm_perl module

http://www.gentoo.org/proj/en/base/amd64/howtos/index.xml?part=1&chap=3

relocation R_X86_64_32 against `a local symbol' can not be used when making a shared object; recompile with -fPIC .libs/assert.o: could not read symbols: Bad value

gnat% cd /usr/local/src/perl-5.10.1
gnat% ./Configure -de -Dprefix=/usr/local -Dusethreads -Duseshrplib

For now, avoid 2.0 (until trying compiling perl with -Duseshrplib)
Or try a --without-pic --disable-shared for configuration of nxlog
https://www.google.fr/search?q=ld%3A+libperl.a(op.o)%3A+relocation+R_X86_64_32+against&oq=ld%3A+libperl.a(op.o)%3A+relocation+R_X86_64_32+against&sugexp=chrome,mod=0&sourceid=chrome&ie=UTF-8#hl=fr&sclient=psy-ab&q=relocation+r_x86_64_32+against+a+local+symbol%27+can+not+be+used+when+making+a+shared+object&oq=%22relocation+R_X86_64_32+against%22
http://www.vr.org/kb/4252/Curl-Compile-Error-relocation-RX866432-against-a-local-symbol-can-not-be-used-when-making-a-shared-object-recompile-with--fPIC.html
~~~~~~~~~~~~~~~~~~~~~~~~

